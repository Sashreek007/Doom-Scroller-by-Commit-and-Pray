var Hd=Object.defineProperty;var Vd=(e,t,n)=>t in e?Hd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ei=(e,t,n)=>Vd(e,typeof t!="symbol"?t+"":t,n);import{c as Wd,e as qd,f as Qd}from"./profile-DccX_sEz.js";import{t as Kd,S as Yd}from"./constants-BqRKAH88.js";import{m as uu}from"./coins-CEGumQio.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cu={exports:{}},Ho={},du={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=Symbol.for("react.element"),Gd=Symbol.for("react.portal"),Zd=Symbol.for("react.fragment"),Jd=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),nf=Symbol.for("react.context"),rf=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),sf=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),Ci=Symbol.iterator;function af(e){return e===null||typeof e!="object"?null:(e=Ci&&e[Ci]||e["@@iterator"],typeof e=="function"?e:null)}var fu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mu=Object.assign,pu={};function Dn(e,t,n){this.props=e,this.context=t,this.refs=pu,this.updater=n||fu}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hu(){}hu.prototype=Dn.prototype;function Rl(e,t,n){this.props=e,this.context=t,this.refs=pu,this.updater=n||fu}var Tl=Rl.prototype=new hu;Tl.constructor=Rl;mu(Tl,Dn.prototype);Tl.isPureReactComponent=!0;var bi=Array.isArray,gu=Object.prototype.hasOwnProperty,Ml={current:null},xu={key:!0,ref:!0,__self:!0,__source:!0};function yu(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)gu.call(t,r)&&!xu.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var a=Array(u),d=0;d<u;d++)a[d]=arguments[d+2];o.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Tr,type:e,key:s,ref:l,props:o,_owner:Ml.current}}function uf(e,t){return{$$typeof:Tr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tr}function cf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ri=/\/+/g;function as(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cf(""+e.key):t.toString(36)}function ro(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Tr:case Gd:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+as(l,0):r,bi(o)?(n="",e!=null&&(n=e.replace(Ri,"$&/")+"/"),ro(o,t,n,"",function(d){return d})):o!=null&&(Pl(o)&&(o=uf(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Ri,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",bi(e))for(var u=0;u<e.length;u++){s=e[u];var a=r+as(s,u);l+=ro(s,t,n,a,o)}else if(a=af(e),typeof a=="function")for(e=a.call(e),u=0;!(s=e.next()).done;)s=s.value,a=r+as(s,u++),l+=ro(s,t,n,a,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ir(e,t,n){if(e==null)return e;var r=[],o=0;return ro(e,r,"","",function(s){return t.call(n,s,o++)}),r}function df(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},oo={transition:null},ff={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:oo,ReactCurrentOwner:Ml};function vu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Ir,forEach:function(e,t,n){Ir(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ir(e,function(){t++}),t},toArray:function(e){return Ir(e,function(t){return t})||[]},only:function(e){if(!Pl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Dn;V.Fragment=Zd;V.Profiler=ef;V.PureComponent=Rl;V.StrictMode=Jd;V.Suspense=of;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ff;V.act=vu;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mu({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Ml.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)gu.call(t,a)&&!xu.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var d=0;d<a;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Tr,type:e.type,key:o,ref:s,props:r,_owner:l}};V.createContext=function(e){return e={$$typeof:nf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tf,_context:e},e.Consumer=e};V.createElement=yu;V.createFactory=function(e){var t=yu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:rf,render:e}};V.isValidElement=Pl;V.lazy=function(e){return{$$typeof:lf,_payload:{_status:-1,_result:e},_init:df}};V.memo=function(e,t){return{$$typeof:sf,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=oo.transition;oo.transition={};try{e()}finally{oo.transition=t}};V.unstable_act=vu;V.useCallback=function(e,t){return be.current.useCallback(e,t)};V.useContext=function(e){return be.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return be.current.useDeferredValue(e)};V.useEffect=function(e,t){return be.current.useEffect(e,t)};V.useId=function(){return be.current.useId()};V.useImperativeHandle=function(e,t,n){return be.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return be.current.useMemo(e,t)};V.useReducer=function(e,t,n){return be.current.useReducer(e,t,n)};V.useRef=function(e){return be.current.useRef(e)};V.useState=function(e){return be.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return be.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return be.current.useTransition()};V.version="18.3.1";du.exports=V;var x=du.exports;const mf=Xd(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=x,hf=Symbol.for("react.element"),gf=Symbol.for("react.fragment"),xf=Object.prototype.hasOwnProperty,yf=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vf={key:!0,ref:!0,__self:!0,__source:!0};function wu(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)xf.call(t,r)&&!vf.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:hf,type:e,key:s,ref:l,props:o,_owner:yf.current}}Ho.Fragment=gf;Ho.jsx=wu;Ho.jsxs=wu;cu.exports=Ho;var i=cu.exports,As={},ku={exports:{}},De={},_u={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,z){var F=E.length;E.push(z);e:for(;0<F;){var W=F-1>>>1,Z=E[W];if(0<o(Z,z))E[W]=z,E[F]=Z,F=W;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var z=E[0],F=E.pop();if(F!==z){E[0]=F;e:for(var W=0,Z=E.length,re=Z>>>1;W<re;){var H=2*(W+1)-1,Ye=E[H],Ne=H+1,$e=E[Ne];if(0>o(Ye,F))Ne<Z&&0>o($e,Ye)?(E[W]=$e,E[Ne]=F,W=Ne):(E[W]=Ye,E[H]=F,W=H);else if(Ne<Z&&0>o($e,F))E[W]=$e,E[Ne]=F,W=Ne;else break e}}return z}function o(E,z){var F=E.sortIndex-z.sortIndex;return F!==0?F:E.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var a=[],d=[],v=1,g=null,p=3,_=!1,S=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(E){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=E)r(d),z.sortIndex=z.expirationTime,t(a,z);else break;z=n(d)}}function h(E){if(y=!1,c(E),!S)if(n(a)!==null)S=!0,U(w);else{var z=n(d);z!==null&&D(h,z.startTime-E)}}function w(E,z){S=!1,y&&(y=!1,m(j),j=-1),_=!0;var F=p;try{for(c(z),g=n(a);g!==null&&(!(g.expirationTime>z)||E&&!L());){var W=g.callback;if(typeof W=="function"){g.callback=null,p=g.priorityLevel;var Z=W(g.expirationTime<=z);z=e.unstable_now(),typeof Z=="function"?g.callback=Z:g===n(a)&&r(a),c(z)}else r(a);g=n(a)}if(g!==null)var re=!0;else{var H=n(d);H!==null&&D(h,H.startTime-z),re=!1}return re}finally{g=null,p=F,_=!1}}var C=!1,k=null,j=-1,P=5,R=-1;function L(){return!(e.unstable_now()-R<P)}function Q(){if(k!==null){var E=e.unstable_now();R=E;var z=!0;try{z=k(!0,E)}finally{z?$():(C=!1,k=null)}}else C=!1}var $;if(typeof f=="function")$=function(){f(Q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,b=Y.port2;Y.port1.onmessage=Q,$=function(){b.postMessage(null)}}else $=function(){T(Q,0)};function U(E){k=E,C||(C=!0,$())}function D(E,z){j=T(function(){E(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){S||_||(S=!0,U(w))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(E){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var F=p;p=z;try{return E()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,z){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=p;p=E;try{return z()}finally{p=F}},e.unstable_scheduleCallback=function(E,z,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,E){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=F+Z,E={id:v++,callback:z,priorityLevel:E,startTime:F,expirationTime:Z,sortIndex:-1},F>W?(E.sortIndex=F,t(d,E),n(a)===null&&E===n(d)&&(y?(m(j),j=-1):y=!0,D(h,F-W))):(E.sortIndex=Z,t(a,E),S||_||(S=!0,U(w))),E},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(E){var z=p;return function(){var F=p;p=z;try{return E.apply(this,arguments)}finally{p=F}}}})(Su);_u.exports=Su;var wf=_u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=x,Oe=wf;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nu=new Set,mr={};function an(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(mr[e]=t,e=0;e<t.length;e++)Nu.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=Object.prototype.hasOwnProperty,_f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ti={},Mi={};function Sf(e){return Is.call(Mi,e)?!0:Is.call(Ti,e)?!1:_f.test(e)?Mi[e]=!0:(Ti[e]=!0,!1)}function Nf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jf(e,t,n,r){if(t===null||typeof t>"u"||Nf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ll,zl);ve[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ll,zl);ve[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ll,zl);ve[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fl(e,t,n,r){var o=ve.hasOwnProperty(t)?ve[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jf(t,n,o,r)&&(n=null),r||o===null?Sf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _t=kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Or=Symbol.for("react.element"),pn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),Al=Symbol.for("react.strict_mode"),Os=Symbol.for("react.profiler"),ju=Symbol.for("react.provider"),Eu=Symbol.for("react.context"),Il=Symbol.for("react.forward_ref"),Ds=Symbol.for("react.suspense"),Us=Symbol.for("react.suspense_list"),Ol=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Cu=Symbol.for("react.offscreen"),Pi=Symbol.iterator;function Hn(e){return e===null||typeof e!="object"?null:(e=Pi&&e[Pi]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,us;function Jn(e){if(us===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);us=t&&t[1]||""}return`
`+us+e}var cs=!1;function ds(e,t){if(!e||cs)return"";cs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,u=s.length-1;1<=l&&0<=u&&o[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==s[u]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=u);break}}}finally{cs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jn(e):""}function Ef(e){switch(e.tag){case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 2:case 15:return e=ds(e.type,!1),e;case 11:return e=ds(e.type.render,!1),e;case 1:return e=ds(e.type,!0),e;default:return""}}function $s(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hn:return"Fragment";case pn:return"Portal";case Os:return"Profiler";case Al:return"StrictMode";case Ds:return"Suspense";case Us:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Eu:return(e.displayName||"Context")+".Consumer";case ju:return(e._context.displayName||"Context")+".Provider";case Il:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ol:return t=e.displayName||null,t!==null?t:$s(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return $s(e(t))}catch{}}return null}function Cf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $s(t);case 8:return t===Al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bf(e){var t=bu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dr(e){e._valueTracker||(e._valueTracker=bf(e))}function Ru(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bs(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Li(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tu(e,t){t=t.checked,t!=null&&Fl(e,"checked",t,!1)}function Hs(e,t){Tu(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Vs(e,t.type,n):t.hasOwnProperty("defaultValue")&&Vs(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Vs(e,t,n){(t!=="number"||yo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var er=Array.isArray;function En(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ws(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(er(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function Mu(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ai(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ur,Lu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ur.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rf=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(e){Rf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rr[t]=rr[e]})});function zu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rr.hasOwnProperty(e)&&rr[e]?(""+t).trim():t+"px"}function Fu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=zu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Tf=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qs(e,t){if(t){if(Tf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Ks(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function Dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xs=null,Cn=null,bn=null;function Ii(e){if(e=Lr(e)){if(typeof Xs!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Ko(t),Xs(e.stateNode,e.type,t))}}function Au(e){Cn?bn?bn.push(e):bn=[e]:Cn=e}function Iu(){if(Cn){var e=Cn,t=bn;if(bn=Cn=null,Ii(e),t)for(e=0;e<t.length;e++)Ii(t[e])}}function Ou(e,t){return e(t)}function Du(){}var fs=!1;function Uu(e,t,n){if(fs)return e(t,n);fs=!0;try{return Ou(e,t,n)}finally{fs=!1,(Cn!==null||bn!==null)&&(Du(),Iu())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ko(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Gs=!1;if(yt)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Gs=!1}function Mf(e,t,n,r,o,s,l,u,a){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(v){this.onError(v)}}var or=!1,vo=null,wo=!1,Zs=null,Pf={onError:function(e){or=!0,vo=e}};function Lf(e,t,n,r,o,s,l,u,a){or=!1,vo=null,Mf.apply(Pf,arguments)}function zf(e,t,n,r,o,s,l,u,a){if(Lf.apply(this,arguments),or){if(or){var d=vo;or=!1,vo=null}else throw Error(M(198));wo||(wo=!0,Zs=d)}}function un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oi(e){if(un(e)!==e)throw Error(M(188))}function Ff(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Oi(o),e;if(s===r)return Oi(o),t;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function Bu(e){return e=Ff(e),e!==null?Hu(e):null}function Hu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hu(e);if(t!==null)return t;e=e.sibling}return null}var Vu=Oe.unstable_scheduleCallback,Di=Oe.unstable_cancelCallback,Af=Oe.unstable_shouldYield,If=Oe.unstable_requestPaint,ue=Oe.unstable_now,Of=Oe.unstable_getCurrentPriorityLevel,Ul=Oe.unstable_ImmediatePriority,Wu=Oe.unstable_UserBlockingPriority,ko=Oe.unstable_NormalPriority,Df=Oe.unstable_LowPriority,qu=Oe.unstable_IdlePriority,Vo=null,ut=null;function Uf(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Hf,$f=Math.log,Bf=Math.LN2;function Hf(e){return e>>>=0,e===0?32:31-($f(e)/Bf|0)|0}var $r=64,Br=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _o(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~o;u!==0?r=tr(u):(s&=l,s!==0&&(r=tr(s)))}else l=n&~o,l!==0?r=tr(l):s!==0&&(r=tr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),o=1<<n,r|=e[n],t&=~o;return r}function Vf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-tt(s),u=1<<l,a=o[l];a===-1?(!(u&n)||u&r)&&(o[l]=Vf(u,t)):a<=t&&(e.expiredLanes|=u),s&=~u}}function Js(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qu(){var e=$r;return $r<<=1,!($r&4194240)&&($r=64),e}function ms(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function qf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-tt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function $l(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var X=0;function Ku(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yu,Bl,Xu,Gu,Zu,el=!1,Hr=[],Pt=null,Lt=null,zt=null,gr=new Map,xr=new Map,bt=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(t.pointerId)}}function Wn(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Lr(t),t!==null&&Bl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Kf(e,t,n,r,o){switch(t){case"focusin":return Pt=Wn(Pt,e,t,n,r,o),!0;case"dragenter":return Lt=Wn(Lt,e,t,n,r,o),!0;case"mouseover":return zt=Wn(zt,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return gr.set(s,Wn(gr.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,xr.set(s,Wn(xr.get(s)||null,e,t,n,r,o)),!0}return!1}function Ju(e){var t=Xt(e.target);if(t!==null){var n=un(t);if(n!==null){if(t=n.tag,t===13){if(t=$u(n),t!==null){e.blockedOn=t,Zu(e.priority,function(){Xu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ys=r,n.target.dispatchEvent(r),Ys=null}else return t=Lr(n),t!==null&&Bl(t),e.blockedOn=n,!1;t.shift()}return!0}function $i(e,t,n){so(e)&&n.delete(t)}function Yf(){el=!1,Pt!==null&&so(Pt)&&(Pt=null),Lt!==null&&so(Lt)&&(Lt=null),zt!==null&&so(zt)&&(zt=null),gr.forEach($i),xr.forEach($i)}function qn(e,t){e.blockedOn===t&&(e.blockedOn=null,el||(el=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,Yf)))}function yr(e){function t(o){return qn(o,e)}if(0<Hr.length){qn(Hr[0],e);for(var n=1;n<Hr.length;n++){var r=Hr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&qn(Pt,e),Lt!==null&&qn(Lt,e),zt!==null&&qn(zt,e),gr.forEach(t),xr.forEach(t),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)Ju(n),n.blockedOn===null&&bt.shift()}var Rn=_t.ReactCurrentBatchConfig,So=!0;function Xf(e,t,n,r){var o=X,s=Rn.transition;Rn.transition=null;try{X=1,Hl(e,t,n,r)}finally{X=o,Rn.transition=s}}function Gf(e,t,n,r){var o=X,s=Rn.transition;Rn.transition=null;try{X=4,Hl(e,t,n,r)}finally{X=o,Rn.transition=s}}function Hl(e,t,n,r){if(So){var o=tl(e,t,n,r);if(o===null)Ss(e,t,r,No,n),Ui(e,r);else if(Kf(o,e,t,n,r))r.stopPropagation();else if(Ui(e,r),t&4&&-1<Qf.indexOf(e)){for(;o!==null;){var s=Lr(o);if(s!==null&&Yu(s),s=tl(e,t,n,r),s===null&&Ss(e,t,r,No,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Ss(e,t,r,null,n)}}var No=null;function tl(e,t,n,r){if(No=null,e=Dl(r),e=Xt(e),e!==null)if(t=un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$u(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return No=e,null}function ec(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Of()){case Ul:return 1;case Wu:return 4;case ko:case Df:return 16;case qu:return 536870912;default:return 16}default:return 16}}var Tt=null,Vl=null,lo=null;function tc(){if(lo)return lo;var e,t=Vl,n=t.length,r,o="value"in Tt?Tt.value:Tt.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return lo=o.slice(e,1<r?1-r:void 0)}function io(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function Bi(){return!1}function Ue(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vr:Bi,this.isPropagationStopped=Bi,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=Ue(Un),Pr=le({},Un,{view:0,detail:0}),Zf=Ue(Pr),ps,hs,Qn,Wo=le({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(ps=e.screenX-Qn.screenX,hs=e.screenY-Qn.screenY):hs=ps=0,Qn=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:hs}}),Hi=Ue(Wo),Jf=le({},Wo,{dataTransfer:0}),em=Ue(Jf),tm=le({},Pr,{relatedTarget:0}),gs=Ue(tm),nm=le({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=Ue(nm),om=le({},Un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sm=Ue(om),lm=le({},Un,{data:0}),Vi=Ue(lm),im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=um[e])?!!t[e]:!1}function ql(){return cm}var dm=le({},Pr,{key:function(e){if(e.key){var t=im[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=io(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?io(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?io(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fm=Ue(dm),mm=le({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ue(mm),pm=le({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),hm=Ue(pm),gm=le({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),xm=Ue(gm),ym=le({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=Ue(ym),wm=[9,13,27,32],Ql=yt&&"CompositionEvent"in window,sr=null;yt&&"documentMode"in document&&(sr=document.documentMode);var km=yt&&"TextEvent"in window&&!sr,nc=yt&&(!Ql||sr&&8<sr&&11>=sr),qi=" ",Qi=!1;function rc(e,t){switch(e){case"keyup":return wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function _m(e,t){switch(e){case"compositionend":return oc(t);case"keypress":return t.which!==32?null:(Qi=!0,qi);case"textInput":return e=t.data,e===qi&&Qi?null:e;default:return null}}function Sm(e,t){if(gn)return e==="compositionend"||!Ql&&rc(e,t)?(e=tc(),lo=Vl=Tt=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nc&&t.locale!=="ko"?null:t.data;default:return null}}var Nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ki(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nm[e.type]:t==="textarea"}function sc(e,t,n,r){Au(r),t=jo(t,"onChange"),0<t.length&&(n=new Wl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lr=null,vr=null;function jm(e){gc(e,0)}function qo(e){var t=vn(e);if(Ru(t))return e}function Em(e,t){if(e==="change")return t}var lc=!1;if(yt){var xs;if(yt){var ys="oninput"in document;if(!ys){var Yi=document.createElement("div");Yi.setAttribute("oninput","return;"),ys=typeof Yi.oninput=="function"}xs=ys}else xs=!1;lc=xs&&(!document.documentMode||9<document.documentMode)}function Xi(){lr&&(lr.detachEvent("onpropertychange",ic),vr=lr=null)}function ic(e){if(e.propertyName==="value"&&qo(vr)){var t=[];sc(t,vr,e,Dl(e)),Uu(jm,t)}}function Cm(e,t,n){e==="focusin"?(Xi(),lr=t,vr=n,lr.attachEvent("onpropertychange",ic)):e==="focusout"&&Xi()}function bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qo(vr)}function Rm(e,t){if(e==="click")return qo(t)}function Tm(e,t){if(e==="input"||e==="change")return qo(t)}function Mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Mm;function wr(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Is.call(t,o)||!rt(e[o],t[o]))return!1}return!0}function Gi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zi(e,t){var n=Gi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gi(n)}}function ac(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ac(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uc(){for(var e=window,t=yo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yo(e.document)}return t}function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pm(e){var t=uc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ac(n.ownerDocument.documentElement,n)){if(r!==null&&Kl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Zi(n,s);var l=Zi(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lm=yt&&"documentMode"in document&&11>=document.documentMode,xn=null,nl=null,ir=null,rl=!1;function Ji(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rl||xn==null||xn!==yo(r)||(r=xn,"selectionStart"in r&&Kl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&wr(ir,r)||(ir=r,r=jo(nl,"onSelect"),0<r.length&&(t=new Wl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xn)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yn={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},vs={},cc={};yt&&(cc=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function Qo(e){if(vs[e])return vs[e];if(!yn[e])return e;var t=yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cc)return vs[e]=t[n];return e}var dc=Qo("animationend"),fc=Qo("animationiteration"),mc=Qo("animationstart"),pc=Qo("transitionend"),hc=new Map,ea="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){hc.set(e,t),an(t,[e])}for(var ws=0;ws<ea.length;ws++){var ks=ea[ws],zm=ks.toLowerCase(),Fm=ks[0].toUpperCase()+ks.slice(1);Bt(zm,"on"+Fm)}Bt(dc,"onAnimationEnd");Bt(fc,"onAnimationIteration");Bt(mc,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(pc,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Am=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function ta(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zf(r,t,void 0,e),e.currentTarget=null}function gc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],a=u.instance,d=u.currentTarget;if(u=u.listener,a!==s&&o.isPropagationStopped())break e;ta(o,u,d),s=a}else for(l=0;l<r.length;l++){if(u=r[l],a=u.instance,d=u.currentTarget,u=u.listener,a!==s&&o.isPropagationStopped())break e;ta(o,u,d),s=a}}}if(wo)throw e=Zs,wo=!1,Zs=null,e}function ee(e,t){var n=t[al];n===void 0&&(n=t[al]=new Set);var r=e+"__bubble";n.has(r)||(xc(t,e,2,!1),n.add(r))}function _s(e,t,n){var r=0;t&&(r|=4),xc(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[qr]){e[qr]=!0,Nu.forEach(function(n){n!=="selectionchange"&&(Am.has(n)||_s(n,!1,e),_s(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qr]||(t[qr]=!0,_s("selectionchange",!1,t))}}function xc(e,t,n,r){switch(ec(t)){case 1:var o=Xf;break;case 4:o=Gf;break;default:o=Hl}n=o.bind(null,t,n,e),o=void 0,!Gs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ss(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;u!==null;){if(l=Xt(u),l===null)return;if(a=l.tag,a===5||a===6){r=s=l;continue e}u=u.parentNode}}r=r.return}Uu(function(){var d=s,v=Dl(n),g=[];e:{var p=hc.get(e);if(p!==void 0){var _=Wl,S=e;switch(e){case"keypress":if(io(n)===0)break e;case"keydown":case"keyup":_=fm;break;case"focusin":S="focus",_=gs;break;case"focusout":S="blur",_=gs;break;case"beforeblur":case"afterblur":_=gs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=hm;break;case dc:case fc:case mc:_=rm;break;case pc:_=xm;break;case"scroll":_=Zf;break;case"wheel":_=vm;break;case"copy":case"cut":case"paste":_=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Wi}var y=(t&4)!==0,T=!y&&e==="scroll",m=y?p!==null?p+"Capture":null:p;y=[];for(var f=d,c;f!==null;){c=f;var h=c.stateNode;if(c.tag===5&&h!==null&&(c=h,m!==null&&(h=hr(f,m),h!=null&&y.push(_r(f,h,c)))),T)break;f=f.return}0<y.length&&(p=new _(p,S,null,n,v),g.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",p&&n!==Ys&&(S=n.relatedTarget||n.fromElement)&&(Xt(S)||S[vt]))break e;if((_||p)&&(p=v.window===v?v:(p=v.ownerDocument)?p.defaultView||p.parentWindow:window,_?(S=n.relatedTarget||n.toElement,_=d,S=S?Xt(S):null,S!==null&&(T=un(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=d),_!==S)){if(y=Hi,h="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Wi,h="onPointerLeave",m="onPointerEnter",f="pointer"),T=_==null?p:vn(_),c=S==null?p:vn(S),p=new y(h,f+"leave",_,n,v),p.target=T,p.relatedTarget=c,h=null,Xt(v)===d&&(y=new y(m,f+"enter",S,n,v),y.target=c,y.relatedTarget=T,h=y),T=h,_&&S)t:{for(y=_,m=S,f=0,c=y;c;c=dn(c))f++;for(c=0,h=m;h;h=dn(h))c++;for(;0<f-c;)y=dn(y),f--;for(;0<c-f;)m=dn(m),c--;for(;f--;){if(y===m||m!==null&&y===m.alternate)break t;y=dn(y),m=dn(m)}y=null}else y=null;_!==null&&na(g,p,_,y,!1),S!==null&&T!==null&&na(g,T,S,y,!0)}}e:{if(p=d?vn(d):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var w=Em;else if(Ki(p))if(lc)w=Tm;else{w=bm;var C=Cm}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=Rm);if(w&&(w=w(e,d))){sc(g,w,n,v);break e}C&&C(e,p,d),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Vs(p,"number",p.value)}switch(C=d?vn(d):window,e){case"focusin":(Ki(C)||C.contentEditable==="true")&&(xn=C,nl=d,ir=null);break;case"focusout":ir=nl=xn=null;break;case"mousedown":rl=!0;break;case"contextmenu":case"mouseup":case"dragend":rl=!1,Ji(g,n,v);break;case"selectionchange":if(Lm)break;case"keydown":case"keyup":Ji(g,n,v)}var k;if(Ql)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else gn?rc(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(nc&&n.locale!=="ko"&&(gn||j!=="onCompositionStart"?j==="onCompositionEnd"&&gn&&(k=tc()):(Tt=v,Vl="value"in Tt?Tt.value:Tt.textContent,gn=!0)),C=jo(d,j),0<C.length&&(j=new Vi(j,e,null,n,v),g.push({event:j,listeners:C}),k?j.data=k:(k=oc(n),k!==null&&(j.data=k)))),(k=km?_m(e,n):Sm(e,n))&&(d=jo(d,"onBeforeInput"),0<d.length&&(v=new Vi("onBeforeInput","beforeinput",null,n,v),g.push({event:v,listeners:d}),v.data=k))}gc(g,t)})}function _r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=hr(e,n),s!=null&&r.unshift(_r(e,s,o)),s=hr(e,t),s!=null&&r.push(_r(e,s,o))),e=e.return}return r}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function na(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var u=n,a=u.alternate,d=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&d!==null&&(u=d,o?(a=hr(n,s),a!=null&&l.unshift(_r(n,a,u))):o||(a=hr(n,s),a!=null&&l.push(_r(n,a,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Im=/\r\n?/g,Om=/\u0000|\uFFFD/g;function ra(e){return(typeof e=="string"?e:""+e).replace(Im,`
`).replace(Om,"")}function Qr(e,t,n){if(t=ra(t),ra(e)!==t&&n)throw Error(M(425))}function Eo(){}var ol=null,sl=null;function ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,Dm=typeof clearTimeout=="function"?clearTimeout:void 0,oa=typeof Promise=="function"?Promise:void 0,Um=typeof queueMicrotask=="function"?queueMicrotask:typeof oa<"u"?function(e){return oa.resolve(null).then(e).catch($m)}:il;function $m(e){setTimeout(function(){throw e})}function Ns(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),yr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);yr(t)}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $n=Math.random().toString(36).slice(2),at="__reactFiber$"+$n,Sr="__reactProps$"+$n,vt="__reactContainer$"+$n,al="__reactEvents$"+$n,Bm="__reactListeners$"+$n,Hm="__reactHandles$"+$n;function Xt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sa(e);e!==null;){if(n=e[at])return n;e=sa(e)}return t}e=n,n=e.parentNode}return null}function Lr(e){return e=e[at]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Ko(e){return e[Sr]||null}var ul=[],wn=-1;function Ht(e){return{current:e}}function te(e){0>wn||(e.current=ul[wn],ul[wn]=null,wn--)}function J(e,t){wn++,ul[wn]=e.current,e.current=t}var $t={},Se=Ht($t),Pe=Ht(!1),nn=$t;function Ln(e,t){var n=e.type.contextTypes;if(!n)return $t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Le(e){return e=e.childContextTypes,e!=null}function Co(){te(Pe),te(Se)}function la(e,t,n){if(Se.current!==$t)throw Error(M(168));J(Se,t),J(Pe,n)}function yc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(M(108,Cf(e)||"Unknown",o));return le({},n,r)}function bo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$t,nn=Se.current,J(Se,e),J(Pe,Pe.current),!0}function ia(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=yc(e,t,nn),r.__reactInternalMemoizedMergedChildContext=e,te(Pe),te(Se),J(Se,e)):te(Pe),J(Pe,n)}var pt=null,Yo=!1,js=!1;function vc(e){pt===null?pt=[e]:pt.push(e)}function Vm(e){Yo=!0,vc(e)}function Vt(){if(!js&&pt!==null){js=!0;var e=0,t=X;try{var n=pt;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pt=null,Yo=!1}catch(o){throw pt!==null&&(pt=pt.slice(e+1)),Vu(Ul,Vt),o}finally{X=t,js=!1}}return null}var kn=[],_n=0,Ro=null,To=0,He=[],Ve=0,rn=null,ht=1,gt="";function Kt(e,t){kn[_n++]=To,kn[_n++]=Ro,Ro=e,To=t}function wc(e,t,n){He[Ve++]=ht,He[Ve++]=gt,He[Ve++]=rn,rn=e;var r=ht;e=gt;var o=32-tt(r)-1;r&=~(1<<o),n+=1;var s=32-tt(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,ht=1<<32-tt(t)+o|n<<o|r,gt=s+e}else ht=1<<s|n<<o|r,gt=e}function Yl(e){e.return!==null&&(Kt(e,1),wc(e,1,0))}function Xl(e){for(;e===Ro;)Ro=kn[--_n],kn[_n]=null,To=kn[--_n],kn[_n]=null;for(;e===rn;)rn=He[--Ve],He[Ve]=null,gt=He[--Ve],He[Ve]=null,ht=He[--Ve],He[Ve]=null}var Ie=null,Ae=null,ne=!1,et=null;function kc(e,t){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function aa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=Ft(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rn!==null?{id:ht,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Ae=null,!0):!1;default:return!1}}function cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dl(e){if(ne){var t=Ae;if(t){var n=t;if(!aa(e,t)){if(cl(e))throw Error(M(418));t=Ft(n.nextSibling);var r=Ie;t&&aa(e,t)?kc(r,n):(e.flags=e.flags&-4097|2,ne=!1,Ie=e)}}else{if(cl(e))throw Error(M(418));e.flags=e.flags&-4097|2,ne=!1,Ie=e}}}function ua(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Kr(e){if(e!==Ie)return!1;if(!ne)return ua(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ll(e.type,e.memoizedProps)),t&&(t=Ae)){if(cl(e))throw _c(),Error(M(418));for(;t;)kc(e,t),t=Ft(t.nextSibling)}if(ua(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ae=Ft(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?Ft(e.stateNode.nextSibling):null;return!0}function _c(){for(var e=Ae;e;)e=Ft(e.nextSibling)}function zn(){Ae=Ie=null,ne=!1}function Gl(e){et===null?et=[e]:et.push(e)}var Wm=_t.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var u=o.refs;l===null?delete u[s]:u[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Yr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ca(e){var t=e._init;return t(e._payload)}function Sc(e){function t(m,f){if(e){var c=m.deletions;c===null?(m.deletions=[f],m.flags|=16):c.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function o(m,f){return m=Dt(m,f),m.index=0,m.sibling=null,m}function s(m,f,c){return m.index=c,e?(c=m.alternate,c!==null?(c=c.index,c<f?(m.flags|=2,f):c):(m.flags|=2,f)):(m.flags|=1048576,f)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,f,c,h){return f===null||f.tag!==6?(f=Ps(c,m.mode,h),f.return=m,f):(f=o(f,c),f.return=m,f)}function a(m,f,c,h){var w=c.type;return w===hn?v(m,f,c.props.children,h,c.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Et&&ca(w)===f.type)?(h=o(f,c.props),h.ref=Kn(m,f,c),h.return=m,h):(h=ho(c.type,c.key,c.props,null,m.mode,h),h.ref=Kn(m,f,c),h.return=m,h)}function d(m,f,c,h){return f===null||f.tag!==4||f.stateNode.containerInfo!==c.containerInfo||f.stateNode.implementation!==c.implementation?(f=Ls(c,m.mode,h),f.return=m,f):(f=o(f,c.children||[]),f.return=m,f)}function v(m,f,c,h,w){return f===null||f.tag!==7?(f=tn(c,m.mode,h,w),f.return=m,f):(f=o(f,c),f.return=m,f)}function g(m,f,c){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ps(""+f,m.mode,c),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Or:return c=ho(f.type,f.key,f.props,null,m.mode,c),c.ref=Kn(m,null,f),c.return=m,c;case pn:return f=Ls(f,m.mode,c),f.return=m,f;case Et:var h=f._init;return g(m,h(f._payload),c)}if(er(f)||Hn(f))return f=tn(f,m.mode,c,null),f.return=m,f;Yr(m,f)}return null}function p(m,f,c,h){var w=f!==null?f.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return w!==null?null:u(m,f,""+c,h);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Or:return c.key===w?a(m,f,c,h):null;case pn:return c.key===w?d(m,f,c,h):null;case Et:return w=c._init,p(m,f,w(c._payload),h)}if(er(c)||Hn(c))return w!==null?null:v(m,f,c,h,null);Yr(m,c)}return null}function _(m,f,c,h,w){if(typeof h=="string"&&h!==""||typeof h=="number")return m=m.get(c)||null,u(f,m,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Or:return m=m.get(h.key===null?c:h.key)||null,a(f,m,h,w);case pn:return m=m.get(h.key===null?c:h.key)||null,d(f,m,h,w);case Et:var C=h._init;return _(m,f,c,C(h._payload),w)}if(er(h)||Hn(h))return m=m.get(c)||null,v(f,m,h,w,null);Yr(f,h)}return null}function S(m,f,c,h){for(var w=null,C=null,k=f,j=f=0,P=null;k!==null&&j<c.length;j++){k.index>j?(P=k,k=null):P=k.sibling;var R=p(m,k,c[j],h);if(R===null){k===null&&(k=P);break}e&&k&&R.alternate===null&&t(m,k),f=s(R,f,j),C===null?w=R:C.sibling=R,C=R,k=P}if(j===c.length)return n(m,k),ne&&Kt(m,j),w;if(k===null){for(;j<c.length;j++)k=g(m,c[j],h),k!==null&&(f=s(k,f,j),C===null?w=k:C.sibling=k,C=k);return ne&&Kt(m,j),w}for(k=r(m,k);j<c.length;j++)P=_(k,m,j,c[j],h),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?j:P.key),f=s(P,f,j),C===null?w=P:C.sibling=P,C=P);return e&&k.forEach(function(L){return t(m,L)}),ne&&Kt(m,j),w}function y(m,f,c,h){var w=Hn(c);if(typeof w!="function")throw Error(M(150));if(c=w.call(c),c==null)throw Error(M(151));for(var C=w=null,k=f,j=f=0,P=null,R=c.next();k!==null&&!R.done;j++,R=c.next()){k.index>j?(P=k,k=null):P=k.sibling;var L=p(m,k,R.value,h);if(L===null){k===null&&(k=P);break}e&&k&&L.alternate===null&&t(m,k),f=s(L,f,j),C===null?w=L:C.sibling=L,C=L,k=P}if(R.done)return n(m,k),ne&&Kt(m,j),w;if(k===null){for(;!R.done;j++,R=c.next())R=g(m,R.value,h),R!==null&&(f=s(R,f,j),C===null?w=R:C.sibling=R,C=R);return ne&&Kt(m,j),w}for(k=r(m,k);!R.done;j++,R=c.next())R=_(k,m,j,R.value,h),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?j:R.key),f=s(R,f,j),C===null?w=R:C.sibling=R,C=R);return e&&k.forEach(function(Q){return t(m,Q)}),ne&&Kt(m,j),w}function T(m,f,c,h){if(typeof c=="object"&&c!==null&&c.type===hn&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case Or:e:{for(var w=c.key,C=f;C!==null;){if(C.key===w){if(w=c.type,w===hn){if(C.tag===7){n(m,C.sibling),f=o(C,c.props.children),f.return=m,m=f;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Et&&ca(w)===C.type){n(m,C.sibling),f=o(C,c.props),f.ref=Kn(m,C,c),f.return=m,m=f;break e}n(m,C);break}else t(m,C);C=C.sibling}c.type===hn?(f=tn(c.props.children,m.mode,h,c.key),f.return=m,m=f):(h=ho(c.type,c.key,c.props,null,m.mode,h),h.ref=Kn(m,f,c),h.return=m,m=h)}return l(m);case pn:e:{for(C=c.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===c.containerInfo&&f.stateNode.implementation===c.implementation){n(m,f.sibling),f=o(f,c.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Ls(c,m.mode,h),f.return=m,m=f}return l(m);case Et:return C=c._init,T(m,f,C(c._payload),h)}if(er(c))return S(m,f,c,h);if(Hn(c))return y(m,f,c,h);Yr(m,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,f!==null&&f.tag===6?(n(m,f.sibling),f=o(f,c),f.return=m,m=f):(n(m,f),f=Ps(c,m.mode,h),f.return=m,m=f),l(m)):n(m,f)}return T}var Fn=Sc(!0),Nc=Sc(!1),Mo=Ht(null),Po=null,Sn=null,Zl=null;function Jl(){Zl=Sn=Po=null}function ei(e){var t=Mo.current;te(Mo),e._currentValue=t}function fl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tn(e,t){Po=e,Zl=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(Zl!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Po===null)throw Error(M(308));Sn=e,Po.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Gt=null;function ti(e){Gt===null?Gt=[e]:Gt.push(e)}function jc(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ti(t)):(n.next=o.next,o.next=n),t.interleaved=n,wt(e,r)}function wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ct=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,wt(e,n)}return o=r.interleaved,o===null?(t.next=t,ti(r)):(t.next=o.next,o.next=t),r.interleaved=t,wt(e,n)}function ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$l(e,n)}}function da(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var o=e.updateQueue;Ct=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var a=u,d=a.next;a.next=null,l===null?s=d:l.next=d,l=a;var v=e.alternate;v!==null&&(v=v.updateQueue,u=v.lastBaseUpdate,u!==l&&(u===null?v.firstBaseUpdate=d:u.next=d,v.lastBaseUpdate=a))}if(s!==null){var g=o.baseState;l=0,v=d=a=null,u=s;do{var p=u.lane,_=u.eventTime;if((r&p)===p){v!==null&&(v=v.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,y=u;switch(p=t,_=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){g=S.call(_,g,p);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,p=typeof S=="function"?S.call(_,g,p):S,p==null)break e;g=le({},g,p);break e;case 2:Ct=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[u]:p.push(u))}else _={eventTime:_,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},v===null?(d=v=_,a=g):v=v.next=_,l|=p;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;p=u,u=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(v===null&&(a=g),o.baseState=a,o.firstBaseUpdate=d,o.lastBaseUpdate=v,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);sn|=l,e.lanes=l,e.memoizedState=g}}function fa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(M(191,o));o.call(r)}}}var zr={},ct=Ht(zr),Nr=Ht(zr),jr=Ht(zr);function Zt(e){if(e===zr)throw Error(M(174));return e}function ri(e,t){switch(J(jr,t),J(Nr,e),J(ct,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qs(t,e)}te(ct),J(ct,t)}function An(){te(ct),te(Nr),te(jr)}function Cc(e){Zt(jr.current);var t=Zt(ct.current),n=qs(t,e.type);t!==n&&(J(Nr,e),J(ct,n))}function oi(e){Nr.current===e&&(te(ct),te(Nr))}var oe=Ht(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Es=[];function si(){for(var e=0;e<Es.length;e++)Es[e]._workInProgressVersionPrimary=null;Es.length=0}var uo=_t.ReactCurrentDispatcher,Cs=_t.ReactCurrentBatchConfig,on=0,se=null,de=null,pe=null,Fo=!1,ar=!1,Er=0,qm=0;function we(){throw Error(M(321))}function li(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function ii(e,t,n,r,o,s){if(on=s,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=e===null||e.memoizedState===null?Xm:Gm,e=n(r,o),ar){s=0;do{if(ar=!1,Er=0,25<=s)throw Error(M(301));s+=1,pe=de=null,t.updateQueue=null,uo.current=Zm,e=n(r,o)}while(ar)}if(uo.current=Ao,t=de!==null&&de.next!==null,on=0,pe=de=se=null,Fo=!1,t)throw Error(M(300));return e}function ai(){var e=Er!==0;return Er=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?se.memoizedState=pe=e:pe=pe.next=e,pe}function Ke(){if(de===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=pe===null?se.memoizedState:pe.next;if(t!==null)pe=t,de=e;else{if(e===null)throw Error(M(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?se.memoizedState=pe=e:pe=pe.next=e}return pe}function Cr(e,t){return typeof t=="function"?t(e):t}function bs(e){var t=Ke(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=de,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var u=l=null,a=null,d=s;do{var v=d.lane;if((on&v)===v)a!==null&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:v,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};a===null?(u=a=g,l=r):a=a.next=g,se.lanes|=v,sn|=v}d=d.next}while(d!==null&&d!==s);a===null?l=r:a.next=u,rt(r,t.memoizedState)||(Me=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,se.lanes|=s,sn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rs(e){var t=Ke(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);rt(s,t.memoizedState)||(Me=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function bc(){}function Rc(e,t){var n=se,r=Ke(),o=t(),s=!rt(r.memoizedState,o);if(s&&(r.memoizedState=o,Me=!0),r=r.queue,ui(Pc.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,br(9,Mc.bind(null,n,r,o,t),void 0,null),he===null)throw Error(M(349));on&30||Tc(n,t,o)}return o}function Tc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mc(e,t,n,r){t.value=n,t.getSnapshot=r,Lc(t)&&zc(e)}function Pc(e,t,n){return n(function(){Lc(t)&&zc(e)})}function Lc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function zc(e){var t=wt(e,1);t!==null&&nt(t,e,1,-1)}function ma(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ym.bind(null,se,e),[t.memoizedState,e]}function br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fc(){return Ke().memoizedState}function co(e,t,n,r){var o=it();se.flags|=e,o.memoizedState=br(1|t,n,void 0,r===void 0?null:r)}function Xo(e,t,n,r){var o=Ke();r=r===void 0?null:r;var s=void 0;if(de!==null){var l=de.memoizedState;if(s=l.destroy,r!==null&&li(r,l.deps)){o.memoizedState=br(t,n,s,r);return}}se.flags|=e,o.memoizedState=br(1|t,n,s,r)}function pa(e,t){return co(8390656,8,e,t)}function ui(e,t){return Xo(2048,8,e,t)}function Ac(e,t){return Xo(4,2,e,t)}function Ic(e,t){return Xo(4,4,e,t)}function Oc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dc(e,t,n){return n=n!=null?n.concat([e]):null,Xo(4,4,Oc.bind(null,t,e),n)}function ci(){}function Uc(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&li(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $c(e,t){var n=Ke();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&li(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bc(e,t,n){return on&21?(rt(n,t)||(n=Qu(),se.lanes|=n,sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function Qm(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=Cs.transition;Cs.transition={};try{e(!1),t()}finally{X=n,Cs.transition=r}}function Hc(){return Ke().memoizedState}function Km(e,t,n){var r=Ot(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vc(e))Wc(t,n);else if(n=jc(e,t,n,r),n!==null){var o=Ce();nt(n,e,r,o),qc(n,t,r)}}function Ym(e,t,n){var r=Ot(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vc(e))Wc(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,u=s(l,n);if(o.hasEagerState=!0,o.eagerState=u,rt(u,l)){var a=t.interleaved;a===null?(o.next=o,ti(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=jc(e,t,o,r),n!==null&&(o=Ce(),nt(n,e,r,o),qc(n,t,r))}}function Vc(e){var t=e.alternate;return e===se||t!==null&&t===se}function Wc(e,t){ar=Fo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$l(e,n)}}var Ao={readContext:Qe,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},Xm={readContext:Qe,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:pa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,co(4194308,4,Oc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return co(4194308,4,e,t)},useInsertionEffect:function(e,t){return co(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=it();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Km.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:ma,useDebugValue:ci,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=ma(!1),t=e[0];return e=Qm.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,o=it();if(ne){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),he===null)throw Error(M(349));on&30||Tc(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,pa(Pc.bind(null,r,s,e),[e]),r.flags|=2048,br(9,Mc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=it(),t=he.identifierPrefix;if(ne){var n=gt,r=ht;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Er++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gm={readContext:Qe,useCallback:Uc,useContext:Qe,useEffect:ui,useImperativeHandle:Dc,useInsertionEffect:Ac,useLayoutEffect:Ic,useMemo:$c,useReducer:bs,useRef:Fc,useState:function(){return bs(Cr)},useDebugValue:ci,useDeferredValue:function(e){var t=Ke();return Bc(t,de.memoizedState,e)},useTransition:function(){var e=bs(Cr)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:bc,useSyncExternalStore:Rc,useId:Hc,unstable_isNewReconciler:!1},Zm={readContext:Qe,useCallback:Uc,useContext:Qe,useEffect:ui,useImperativeHandle:Dc,useInsertionEffect:Ac,useLayoutEffect:Ic,useMemo:$c,useReducer:Rs,useRef:Fc,useState:function(){return Rs(Cr)},useDebugValue:ci,useDeferredValue:function(e){var t=Ke();return de===null?t.memoizedState=e:Bc(t,de.memoizedState,e)},useTransition:function(){var e=Rs(Cr)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:bc,useSyncExternalStore:Rc,useId:Hc,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ml(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ce(),o=Ot(e),s=xt(r,o);s.payload=t,n!=null&&(s.callback=n),t=At(e,s,o),t!==null&&(nt(t,e,o,r),ao(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ce(),o=Ot(e),s=xt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=At(e,s,o),t!==null&&(nt(t,e,o,r),ao(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),r=Ot(e),o=xt(n,r);o.tag=2,t!=null&&(o.callback=t),t=At(e,o,r),t!==null&&(nt(t,e,r,n),ao(t,e,r))}};function ha(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!wr(n,r)||!wr(o,s):!0}function Qc(e,t,n){var r=!1,o=$t,s=t.contextType;return typeof s=="object"&&s!==null?s=Qe(s):(o=Le(t)?nn:Se.current,r=t.contextTypes,s=(r=r!=null)?Ln(e,o):$t),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function ga(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function pl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ni(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Qe(s):(s=Le(t)?nn:Se.current,o.context=Ln(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ml(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Go.enqueueReplaceState(o,o.state,null),Lo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function In(e,t){try{var n="",r=t;do n+=Ef(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Ts(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jm=typeof WeakMap=="function"?WeakMap:Map;function Kc(e,t,n){n=xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oo||(Oo=!0,jl=r),hl(e,t)},n}function Yc(e,t,n){n=xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){hl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hl(e,t),typeof r!="function"&&(It===null?It=new Set([this]):It.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function xa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jm;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=mp.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function va(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xt(-1,1),t.tag=2,At(n,t,1))),n.lanes|=1),e)}var ep=_t.ReactCurrentOwner,Me=!1;function Ee(e,t,n,r){t.child=e===null?Nc(t,null,n,r):Fn(t,e.child,n,r)}function wa(e,t,n,r,o){n=n.render;var s=t.ref;return Tn(t,o),r=ii(e,t,n,r,s,o),n=ai(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kt(e,t,o)):(ne&&n&&Yl(t),t.flags|=1,Ee(e,t,r,o),t.child)}function ka(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!yi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Xc(e,t,s,r,o)):(e=ho(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:wr,n(l,r)&&e.ref===t.ref)return kt(e,t,o)}return t.flags|=1,e=Dt(s,r),e.ref=t.ref,e.return=t,t.child=e}function Xc(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(wr(s,r)&&e.ref===t.ref)if(Me=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,kt(e,t,o)}return gl(e,t,n,r,o)}function Gc(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(jn,Fe),Fe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(jn,Fe),Fe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,J(jn,Fe),Fe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,J(jn,Fe),Fe|=r;return Ee(e,t,o,n),t.child}function Zc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gl(e,t,n,r,o){var s=Le(n)?nn:Se.current;return s=Ln(t,s),Tn(t,o),n=ii(e,t,n,r,s,o),r=ai(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kt(e,t,o)):(ne&&r&&Yl(t),t.flags|=1,Ee(e,t,n,o),t.child)}function _a(e,t,n,r,o){if(Le(n)){var s=!0;bo(t)}else s=!1;if(Tn(t,o),t.stateNode===null)fo(e,t),Qc(t,n,r),pl(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var a=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Qe(d):(d=Le(n)?nn:Se.current,d=Ln(t,d));var v=n.getDerivedStateFromProps,g=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||a!==d)&&ga(t,l,r,d),Ct=!1;var p=t.memoizedState;l.state=p,Lo(t,r,l,o),a=t.memoizedState,u!==r||p!==a||Pe.current||Ct?(typeof v=="function"&&(ml(t,n,v,r),a=t.memoizedState),(u=Ct||ha(t,n,u,r,p,a,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=d,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ec(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Ze(t.type,u),l.props=d,g=t.pendingProps,p=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Qe(a):(a=Le(n)?nn:Se.current,a=Ln(t,a));var _=n.getDerivedStateFromProps;(v=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==g||p!==a)&&ga(t,l,r,a),Ct=!1,p=t.memoizedState,l.state=p,Lo(t,r,l,o);var S=t.memoizedState;u!==g||p!==S||Pe.current||Ct?(typeof _=="function"&&(ml(t,n,_,r),S=t.memoizedState),(d=Ct||ha(t,n,d,r,p,S,a)||!1)?(v||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,S,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,S,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),l.props=r,l.state=S,l.context=a,r=d):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return xl(e,t,n,r,s,o)}function xl(e,t,n,r,o,s){Zc(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&ia(t,n,!1),kt(e,t,s);r=t.stateNode,ep.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Fn(t,e.child,null,s),t.child=Fn(t,null,u,s)):Ee(e,t,u,s),t.memoizedState=r.state,o&&ia(t,n,!0),t.child}function Jc(e){var t=e.stateNode;t.pendingContext?la(e,t.pendingContext,t.pendingContext!==t.context):t.context&&la(e,t.context,!1),ri(e,t.containerInfo)}function Sa(e,t,n,r,o){return zn(),Gl(o),t.flags|=256,Ee(e,t,n,r),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ed(e,t,n){var r=t.pendingProps,o=oe.current,s=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),J(oe,o&1),e===null)return dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=es(l,r,0,null),e=tn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=vl(n),t.memoizedState=yl,e):di(t,l));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return tp(e,t,l,r,u,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,u=o.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Dt(o,a),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?s=Dt(u,s):(s=tn(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?vl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=yl,r}return s=e.child,e=s.sibling,r=Dt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function di(e,t){return t=es({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xr(e,t,n,r){return r!==null&&Gl(r),Fn(t,e.child,null,n),e=di(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tp(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=Ts(Error(M(422))),Xr(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=es({mode:"visible",children:r.children},o,0,null),s=tn(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Fn(t,e.child,null,l),t.child.memoizedState=vl(l),t.memoizedState=yl,s);if(!(t.mode&1))return Xr(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(M(419)),r=Ts(s,r,void 0),Xr(e,t,l,r)}if(u=(l&e.childLanes)!==0,Me||u){if(r=he,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,wt(e,o),nt(r,e,o,-1))}return xi(),r=Ts(Error(M(421))),Xr(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=pp.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ae=Ft(o.nextSibling),Ie=t,ne=!0,et=null,e!==null&&(He[Ve++]=ht,He[Ve++]=gt,He[Ve++]=rn,ht=e.id,gt=e.overflow,rn=t),t=di(t,r.children),t.flags|=4096,t)}function Na(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fl(e.return,t,n)}function Ms(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function td(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Ee(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Na(e,n,t);else if(e.tag===19)Na(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(oe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&zo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ms(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&zo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ms(t,!0,n,null,s);break;case"together":Ms(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Dt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function np(e,t,n){switch(t.tag){case 3:Jc(t),zn();break;case 5:Cc(t);break;case 1:Le(t.type)&&bo(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;J(Mo,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?ed(e,t,n):(J(oe,oe.current&1),e=kt(e,t,n),e!==null?e.sibling:null);J(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return td(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Gc(e,t,n)}return kt(e,t,n)}var nd,wl,rd,od;nd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wl=function(){};rd=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Zt(ct.current);var s=null;switch(n){case"input":o=Bs(e,o),r=Bs(e,r),s=[];break;case"select":o=le({},o,{value:void 0}),r=le({},r,{value:void 0}),s=[];break;case"textarea":o=Ws(e,o),r=Ws(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Eo)}Qs(n,r);var l;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(mr.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var a=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&a!==u&&(a!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&u[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(s||(s=[]),s.push(d,n)),n=a;else d==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(s=s||[]).push(d,a)):d==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(d,""+a):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(mr.hasOwnProperty(d)?(a!=null&&d==="onScroll"&&ee("scroll",e),s||u===a||(s=[])):(s=s||[]).push(d,a))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};od=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rp(e,t,n){var r=t.pendingProps;switch(Xl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return Le(t.type)&&Co(),ke(t),null;case 3:return r=t.stateNode,An(),te(Pe),te(Se),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(bl(et),et=null))),wl(e,t),ke(t),null;case 5:oi(t);var o=Zt(jr.current);if(n=t.type,e!==null&&t.stateNode!=null)rd(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return ke(t),null}if(e=Zt(ct.current),Kr(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[at]=t,r[Sr]=s,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(o=0;o<nr.length;o++)ee(nr[o],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Li(r,s),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ee("invalid",r);break;case"textarea":Fi(r,s),ee("invalid",r)}Qs(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Qr(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Qr(r.textContent,u,e),o=["children",""+u]):mr.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ee("scroll",r)}switch(n){case"input":Dr(r),zi(r,s,!0);break;case"textarea":Dr(r),Ai(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Eo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[at]=t,e[Sr]=r,nd(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ks(n,r),n){case"dialog":ee("cancel",e),ee("close",e),o=r;break;case"iframe":case"object":case"embed":ee("load",e),o=r;break;case"video":case"audio":for(o=0;o<nr.length;o++)ee(nr[o],e);o=r;break;case"source":ee("error",e),o=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),o=r;break;case"details":ee("toggle",e),o=r;break;case"input":Li(e,r),o=Bs(e,r),ee("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=le({},r,{value:void 0}),ee("invalid",e);break;case"textarea":Fi(e,r),o=Ws(e,r),ee("invalid",e);break;default:o=r}Qs(n,o),u=o;for(s in u)if(u.hasOwnProperty(s)){var a=u[s];s==="style"?Fu(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Lu(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&pr(e,a):typeof a=="number"&&pr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ee("scroll",e):a!=null&&Fl(e,s,a,l))}switch(n){case"input":Dr(e),zi(e,r,!1);break;case"textarea":Dr(e),Ai(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?En(e,!!r.multiple,s,!1):r.defaultValue!=null&&En(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Eo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ke(t),null;case 6:if(e&&t.stateNode!=null)od(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Zt(jr.current),Zt(ct.current),Kr(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(s=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:Qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qr(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return ke(t),null;case 13:if(te(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Ae!==null&&t.mode&1&&!(t.flags&128))_c(),zn(),t.flags|=98560,s=!1;else if(s=Kr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(M(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[at]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),s=!1}else et!==null&&(bl(et),et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?fe===0&&(fe=3):xi())),t.updateQueue!==null&&(t.flags|=4),ke(t),null);case 4:return An(),wl(e,t),e===null&&kr(t.stateNode.containerInfo),ke(t),null;case 10:return ei(t.type._context),ke(t),null;case 17:return Le(t.type)&&Co(),ke(t),null;case 19:if(te(oe),s=t.memoizedState,s===null)return ke(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Yn(s,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=zo(e),l!==null){for(t.flags|=128,Yn(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(oe,oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ue()>On&&(t.flags|=128,r=!0,Yn(s,!1),t.lanes=4194304)}else{if(!r)if(e=zo(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ne)return ke(t),null}else 2*ue()-s.renderingStartTime>On&&n!==1073741824&&(t.flags|=128,r=!0,Yn(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ue(),t.sibling=null,n=oe.current,J(oe,r?n&1|2:n&1),t):(ke(t),null);case 22:case 23:return gi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fe&1073741824&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function op(e,t){switch(Xl(t),t.tag){case 1:return Le(t.type)&&Co(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return An(),te(Pe),te(Se),si(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return oi(t),null;case 13:if(te(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(oe),null;case 4:return An(),null;case 10:return ei(t.type._context),null;case 22:case 23:return gi(),null;case 24:return null;default:return null}}var Gr=!1,_e=!1,sp=typeof WeakSet=="function"?WeakSet:Set,A=null;function Nn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function kl(e,t,n){try{n()}catch(r){ie(e,t,r)}}var ja=!1;function lp(e,t){if(ol=So,e=uc(),Kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,a=-1,d=0,v=0,g=e,p=null;t:for(;;){for(var _;g!==n||o!==0&&g.nodeType!==3||(u=l+o),g!==s||r!==0&&g.nodeType!==3||(a=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(_=g.firstChild)!==null;)p=g,g=_;for(;;){if(g===e)break t;if(p===n&&++d===o&&(u=l),p===s&&++v===r&&(a=l),(_=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=_}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(sl={focusedElem:e,selectionRange:n},So=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,T=S.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ze(t.type,y),T);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(h){ie(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return S=ja,ja=!1,S}function ur(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&kl(t,n,s)}o=o.next}while(o!==r)}}function Zo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function _l(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sd(e){var t=e.alternate;t!==null&&(e.alternate=null,sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Sr],delete t[al],delete t[Bm],delete t[Hm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ld(e){return e.tag===5||e.tag===3||e.tag===4}function Ea(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Eo));else if(r!==4&&(e=e.child,e!==null))for(Sl(e,t,n),e=e.sibling;e!==null;)Sl(e,t,n),e=e.sibling}function Nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}var xe=null,Je=!1;function jt(e,t,n){for(n=n.child;n!==null;)id(e,t,n),n=n.sibling}function id(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Vo,n)}catch{}switch(n.tag){case 5:_e||Nn(n,t);case 6:var r=xe,o=Je;xe=null,jt(e,t,n),xe=r,Je=o,xe!==null&&(Je?(e=xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(Je?(e=xe,n=n.stateNode,e.nodeType===8?Ns(e.parentNode,n):e.nodeType===1&&Ns(e,n),yr(e)):Ns(xe,n.stateNode));break;case 4:r=xe,o=Je,xe=n.stateNode.containerInfo,Je=!0,jt(e,t,n),xe=r,Je=o;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&kl(n,t,l),o=o.next}while(o!==r)}jt(e,t,n);break;case 1:if(!_e&&(Nn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ie(n,t,u)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,jt(e,t,n),_e=r):jt(e,t,n);break;default:jt(e,t,n)}}function Ca(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new sp),t.forEach(function(r){var o=hp.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Ge(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:xe=u.stateNode,Je=!1;break e;case 3:xe=u.stateNode.containerInfo,Je=!0;break e;case 4:xe=u.stateNode.containerInfo,Je=!0;break e}u=u.return}if(xe===null)throw Error(M(160));id(s,l,o),xe=null,Je=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(d){ie(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ad(t,e),t=t.sibling}function ad(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ge(t,e),lt(e),r&4){try{ur(3,e,e.return),Zo(3,e)}catch(y){ie(e,e.return,y)}try{ur(5,e,e.return)}catch(y){ie(e,e.return,y)}}break;case 1:Ge(t,e),lt(e),r&512&&n!==null&&Nn(n,n.return);break;case 5:if(Ge(t,e),lt(e),r&512&&n!==null&&Nn(n,n.return),e.flags&32){var o=e.stateNode;try{pr(o,"")}catch(y){ie(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Tu(o,s),Ks(u,l);var d=Ks(u,s);for(l=0;l<a.length;l+=2){var v=a[l],g=a[l+1];v==="style"?Fu(o,g):v==="dangerouslySetInnerHTML"?Lu(o,g):v==="children"?pr(o,g):Fl(o,v,g,d)}switch(u){case"input":Hs(o,s);break;case"textarea":Mu(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?En(o,!!s.multiple,_,!1):p!==!!s.multiple&&(s.defaultValue!=null?En(o,!!s.multiple,s.defaultValue,!0):En(o,!!s.multiple,s.multiple?[]:"",!1))}o[Sr]=s}catch(y){ie(e,e.return,y)}}break;case 6:if(Ge(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(M(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){ie(e,e.return,y)}}break;case 3:if(Ge(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yr(t.containerInfo)}catch(y){ie(e,e.return,y)}break;case 4:Ge(t,e),lt(e);break;case 13:Ge(t,e),lt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(pi=ue())),r&4&&Ca(e);break;case 22:if(v=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(d=_e)||v,Ge(t,e),_e=d):Ge(t,e),lt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!v&&e.mode&1)for(A=e,v=e.child;v!==null;){for(g=A=v;A!==null;){switch(p=A,_=p.child,p.tag){case 0:case 11:case 14:case 15:ur(4,p,p.return);break;case 1:Nn(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(y){ie(r,n,y)}}break;case 5:Nn(p,p.return);break;case 22:if(p.memoizedState!==null){Ra(g);continue}}_!==null?(_.return=p,A=_):Ra(g)}v=v.sibling}e:for(v=null,g=e;;){if(g.tag===5){if(v===null){v=g;try{o=g.stateNode,d?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=g.stateNode,a=g.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=zu("display",l))}catch(y){ie(e,e.return,y)}}}else if(g.tag===6){if(v===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(y){ie(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;v===g&&(v=null),g=g.return}v===g&&(v=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ge(t,e),lt(e),r&4&&Ca(e);break;case 21:break;default:Ge(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ld(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(pr(o,""),r.flags&=-33);var s=Ea(e);Nl(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Ea(e);Sl(e,u,l);break;default:throw Error(M(161))}}catch(a){ie(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ip(e,t,n){A=e,ud(e)}function ud(e,t,n){for(var r=(e.mode&1)!==0;A!==null;){var o=A,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Gr;if(!l){var u=o.alternate,a=u!==null&&u.memoizedState!==null||_e;u=Gr;var d=_e;if(Gr=l,(_e=a)&&!d)for(A=o;A!==null;)l=A,a=l.child,l.tag===22&&l.memoizedState!==null?Ta(o):a!==null?(a.return=l,A=a):Ta(o);for(;s!==null;)A=s,ud(s),s=s.sibling;A=o,Gr=u,_e=d}ba(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,A=s):ba(e)}}function ba(e){for(;A!==null;){var t=A;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||Zo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ze(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fa(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fa(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var v=d.memoizedState;if(v!==null){var g=v.dehydrated;g!==null&&yr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}_e||t.flags&512&&_l(t)}catch(p){ie(t,t.return,p)}}if(t===e){A=null;break}if(n=t.sibling,n!==null){n.return=t.return,A=n;break}A=t.return}}function Ra(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var n=t.sibling;if(n!==null){n.return=t.return,A=n;break}A=t.return}}function Ta(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zo(4,t)}catch(a){ie(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ie(t,o,a)}}var s=t.return;try{_l(t)}catch(a){ie(t,s,a)}break;case 5:var l=t.return;try{_l(t)}catch(a){ie(t,l,a)}}}catch(a){ie(t,t.return,a)}if(t===e){A=null;break}var u=t.sibling;if(u!==null){u.return=t.return,A=u;break}A=t.return}}var ap=Math.ceil,Io=_t.ReactCurrentDispatcher,fi=_t.ReactCurrentOwner,qe=_t.ReactCurrentBatchConfig,K=0,he=null,ce=null,ye=0,Fe=0,jn=Ht(0),fe=0,Rr=null,sn=0,Jo=0,mi=0,cr=null,Te=null,pi=0,On=1/0,mt=null,Oo=!1,jl=null,It=null,Zr=!1,Mt=null,Do=0,dr=0,El=null,mo=-1,po=0;function Ce(){return K&6?ue():mo!==-1?mo:mo=ue()}function Ot(e){return e.mode&1?K&2&&ye!==0?ye&-ye:Wm.transition!==null?(po===0&&(po=Qu()),po):(e=X,e!==0||(e=window.event,e=e===void 0?16:ec(e.type)),e):1}function nt(e,t,n,r){if(50<dr)throw dr=0,El=null,Error(M(185));Mr(e,n,r),(!(K&2)||e!==he)&&(e===he&&(!(K&2)&&(Jo|=n),fe===4&&Rt(e,ye)),ze(e,r),n===1&&K===0&&!(t.mode&1)&&(On=ue()+500,Yo&&Vt()))}function ze(e,t){var n=e.callbackNode;Wf(e,t);var r=_o(e,e===he?ye:0);if(r===0)n!==null&&Di(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Di(n),t===1)e.tag===0?Vm(Ma.bind(null,e)):vc(Ma.bind(null,e)),Um(function(){!(K&6)&&Vt()}),n=null;else{switch(Ku(r)){case 1:n=Ul;break;case 4:n=Wu;break;case 16:n=ko;break;case 536870912:n=qu;break;default:n=ko}n=xd(n,cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cd(e,t){if(mo=-1,po=0,K&6)throw Error(M(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=_o(e,e===he?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Uo(e,r);else{t=r;var o=K;K|=2;var s=fd();(he!==e||ye!==t)&&(mt=null,On=ue()+500,en(e,t));do try{dp();break}catch(u){dd(e,u)}while(!0);Jl(),Io.current=s,K=o,ce!==null?t=0:(he=null,ye=0,t=fe)}if(t!==0){if(t===2&&(o=Js(e),o!==0&&(r=o,t=Cl(e,o))),t===1)throw n=Rr,en(e,0),Rt(e,r),ze(e,ue()),n;if(t===6)Rt(e,r);else{if(o=e.current.alternate,!(r&30)&&!up(o)&&(t=Uo(e,r),t===2&&(s=Js(e),s!==0&&(r=s,t=Cl(e,s))),t===1))throw n=Rr,en(e,0),Rt(e,r),ze(e,ue()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Yt(e,Te,mt);break;case 3:if(Rt(e,r),(r&130023424)===r&&(t=pi+500-ue(),10<t)){if(_o(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ce(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=il(Yt.bind(null,e,Te,mt),t);break}Yt(e,Te,mt);break;case 4:if(Rt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-tt(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ap(r/1960))-r,10<r){e.timeoutHandle=il(Yt.bind(null,e,Te,mt),r);break}Yt(e,Te,mt);break;case 5:Yt(e,Te,mt);break;default:throw Error(M(329))}}}return ze(e,ue()),e.callbackNode===n?cd.bind(null,e):null}function Cl(e,t){var n=cr;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=Uo(e,t),e!==2&&(t=Te,Te=n,t!==null&&bl(t)),e}function bl(e){Te===null?Te=e:Te.push.apply(Te,e)}function up(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!rt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~mi,t&=~Jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function Ma(e){if(K&6)throw Error(M(327));Mn();var t=_o(e,0);if(!(t&1))return ze(e,ue()),null;var n=Uo(e,t);if(e.tag!==0&&n===2){var r=Js(e);r!==0&&(t=r,n=Cl(e,r))}if(n===1)throw n=Rr,en(e,0),Rt(e,t),ze(e,ue()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yt(e,Te,mt),ze(e,ue()),null}function hi(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(On=ue()+500,Yo&&Vt())}}function ln(e){Mt!==null&&Mt.tag===0&&!(K&6)&&Mn();var t=K;K|=1;var n=qe.transition,r=X;try{if(qe.transition=null,X=1,e)return e()}finally{X=r,qe.transition=n,K=t,!(K&6)&&Vt()}}function gi(){Fe=jn.current,te(jn)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dm(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Xl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Co();break;case 3:An(),te(Pe),te(Se),si();break;case 5:oi(r);break;case 4:An();break;case 13:te(oe);break;case 19:te(oe);break;case 10:ei(r.type._context);break;case 22:case 23:gi()}n=n.return}if(he=e,ce=e=Dt(e.current,null),ye=Fe=t,fe=0,Rr=null,mi=Jo=sn=0,Te=cr=null,Gt!==null){for(t=0;t<Gt.length;t++)if(n=Gt[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}Gt=null}return e}function dd(e,t){do{var n=ce;try{if(Jl(),uo.current=Ao,Fo){for(var r=se.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Fo=!1}if(on=0,pe=de=se=null,ar=!1,Er=0,fi.current=null,n===null||n.return===null){fe=1,Rr=t,ce=null;break}e:{var s=e,l=n.return,u=n,a=t;if(t=ye,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var d=a,v=u,g=v.tag;if(!(v.mode&1)&&(g===0||g===11||g===15)){var p=v.alternate;p?(v.updateQueue=p.updateQueue,v.memoizedState=p.memoizedState,v.lanes=p.lanes):(v.updateQueue=null,v.memoizedState=null)}var _=ya(l);if(_!==null){_.flags&=-257,va(_,l,u,s,t),_.mode&1&&xa(s,d,t),t=_,a=d;var S=t.updateQueue;if(S===null){var y=new Set;y.add(a),t.updateQueue=y}else S.add(a);break e}else{if(!(t&1)){xa(s,d,t),xi();break e}a=Error(M(426))}}else if(ne&&u.mode&1){var T=ya(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),va(T,l,u,s,t),Gl(In(a,u));break e}}s=a=In(a,u),fe!==4&&(fe=2),cr===null?cr=[s]:cr.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=Kc(s,a,t);da(s,m);break e;case 1:u=a;var f=s.type,c=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(It===null||!It.has(c)))){s.flags|=65536,t&=-t,s.lanes|=t;var h=Yc(s,u,t);da(s,h);break e}}s=s.return}while(s!==null)}pd(n)}catch(w){t=w,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function fd(){var e=Io.current;return Io.current=Ao,e===null?Ao:e}function xi(){(fe===0||fe===3||fe===2)&&(fe=4),he===null||!(sn&268435455)&&!(Jo&268435455)||Rt(he,ye)}function Uo(e,t){var n=K;K|=2;var r=fd();(he!==e||ye!==t)&&(mt=null,en(e,t));do try{cp();break}catch(o){dd(e,o)}while(!0);if(Jl(),K=n,Io.current=r,ce!==null)throw Error(M(261));return he=null,ye=0,fe}function cp(){for(;ce!==null;)md(ce)}function dp(){for(;ce!==null&&!Af();)md(ce)}function md(e){var t=gd(e.alternate,e,Fe);e.memoizedProps=e.pendingProps,t===null?pd(e):ce=t,fi.current=null}function pd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=op(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,ce=null;return}}else if(n=rp(n,t,Fe),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);fe===0&&(fe=5)}function Yt(e,t,n){var r=X,o=qe.transition;try{qe.transition=null,X=1,fp(e,t,n,r)}finally{qe.transition=o,X=r}return null}function fp(e,t,n,r){do Mn();while(Mt!==null);if(K&6)throw Error(M(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(qf(e,s),e===he&&(ce=he=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zr||(Zr=!0,xd(ko,function(){return Mn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qe.transition,qe.transition=null;var l=X;X=1;var u=K;K|=4,fi.current=null,lp(e,n),ad(n,e),Pm(sl),So=!!ol,sl=ol=null,e.current=n,ip(n),If(),K=u,X=l,qe.transition=s}else e.current=n;if(Zr&&(Zr=!1,Mt=e,Do=o),s=e.pendingLanes,s===0&&(It=null),Uf(n.stateNode),ze(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Oo)throw Oo=!1,e=jl,jl=null,e;return Do&1&&e.tag!==0&&Mn(),s=e.pendingLanes,s&1?e===El?dr++:(dr=0,El=e):dr=0,Vt(),null}function Mn(){if(Mt!==null){var e=Ku(Do),t=qe.transition,n=X;try{if(qe.transition=null,X=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,Do=0,K&6)throw Error(M(331));var o=K;for(K|=4,A=e.current;A!==null;){var s=A,l=s.child;if(A.flags&16){var u=s.deletions;if(u!==null){for(var a=0;a<u.length;a++){var d=u[a];for(A=d;A!==null;){var v=A;switch(v.tag){case 0:case 11:case 15:ur(8,v,s)}var g=v.child;if(g!==null)g.return=v,A=g;else for(;A!==null;){v=A;var p=v.sibling,_=v.return;if(sd(v),v===d){A=null;break}if(p!==null){p.return=_,A=p;break}A=_}}}var S=s.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}A=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,A=l;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ur(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,A=m;break e}A=s.return}}var f=e.current;for(A=f;A!==null;){l=A;var c=l.child;if(l.subtreeFlags&2064&&c!==null)c.return=l,A=c;else e:for(l=f;A!==null;){if(u=A,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Zo(9,u)}}catch(w){ie(u,u.return,w)}if(u===l){A=null;break e}var h=u.sibling;if(h!==null){h.return=u.return,A=h;break e}A=u.return}}if(K=o,Vt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Vo,e)}catch{}r=!0}return r}finally{X=n,qe.transition=t}}return!1}function Pa(e,t,n){t=In(n,t),t=Kc(e,t,1),e=At(e,t,1),t=Ce(),e!==null&&(Mr(e,1,t),ze(e,t))}function ie(e,t,n){if(e.tag===3)Pa(e,e,n);else for(;t!==null;){if(t.tag===3){Pa(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(It===null||!It.has(r))){e=In(n,e),e=Yc(t,e,1),t=At(t,e,1),e=Ce(),t!==null&&(Mr(t,1,e),ze(t,e));break}}t=t.return}}function mp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(ye&n)===n&&(fe===4||fe===3&&(ye&130023424)===ye&&500>ue()-pi?en(e,0):mi|=n),ze(e,t)}function hd(e,t){t===0&&(e.mode&1?(t=Br,Br<<=1,!(Br&130023424)&&(Br=4194304)):t=1);var n=Ce();e=wt(e,t),e!==null&&(Mr(e,t,n),ze(e,n))}function pp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hd(e,n)}function hp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),hd(e,n)}var gd;gd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,np(e,t,n);Me=!!(e.flags&131072)}else Me=!1,ne&&t.flags&1048576&&wc(t,To,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fo(e,t),e=t.pendingProps;var o=Ln(t,Se.current);Tn(t,n),o=ii(null,t,r,e,o,n);var s=ai();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Le(r)?(s=!0,bo(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ni(t),o.updater=Go,t.stateNode=o,o._reactInternals=t,pl(t,r,e,n),t=xl(null,t,r,!0,s,n)):(t.tag=0,ne&&s&&Yl(t),Ee(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=xp(r),e=Ze(r,e),o){case 0:t=gl(null,t,r,e,n);break e;case 1:t=_a(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,Ze(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),gl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),_a(e,t,r,o,n);case 3:e:{if(Jc(t),e===null)throw Error(M(387));r=t.pendingProps,s=t.memoizedState,o=s.element,Ec(e,t),Lo(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=In(Error(M(423)),t),t=Sa(e,t,r,n,o);break e}else if(r!==o){o=In(Error(M(424)),t),t=Sa(e,t,r,n,o);break e}else for(Ae=Ft(t.stateNode.containerInfo.firstChild),Ie=t,ne=!0,et=null,n=Nc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===o){t=kt(e,t,n);break e}Ee(e,t,r,n)}t=t.child}return t;case 5:return Cc(t),e===null&&dl(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,ll(r,o)?l=null:s!==null&&ll(r,s)&&(t.flags|=32),Zc(e,t),Ee(e,t,l,n),t.child;case 6:return e===null&&dl(t),null;case 13:return ed(e,t,n);case 4:return ri(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fn(t,null,r,n):Ee(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),wa(e,t,r,o,n);case 7:return Ee(e,t,t.pendingProps,n),t.child;case 8:return Ee(e,t,t.pendingProps.children,n),t.child;case 12:return Ee(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,J(Mo,r._currentValue),r._currentValue=l,s!==null)if(rt(s.value,l)){if(s.children===o.children&&!Pe.current){t=kt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=xt(-1,n&-n),a.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var v=d.pending;v===null?a.next=a:(a.next=v.next,v.next=a),d.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),fl(s.return,n,t),u.lanes|=n;break}a=a.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(M(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),fl(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Ee(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Tn(t,n),o=Qe(o),r=r(o),t.flags|=1,Ee(e,t,r,n),t.child;case 14:return r=t.type,o=Ze(r,t.pendingProps),o=Ze(r.type,o),ka(e,t,r,o,n);case 15:return Xc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),fo(e,t),t.tag=1,Le(r)?(e=!0,bo(t)):e=!1,Tn(t,n),Qc(t,r,o),pl(t,r,o,n),xl(null,t,r,!0,e,n);case 19:return td(e,t,n);case 22:return Gc(e,t,n)}throw Error(M(156,t.tag))};function xd(e,t){return Vu(e,t)}function gp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,n,r){return new gp(e,t,n,r)}function yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xp(e){if(typeof e=="function")return yi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Il)return 11;if(e===Ol)return 14}return 2}function Dt(e,t){var n=e.alternate;return n===null?(n=We(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ho(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")yi(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case hn:return tn(n.children,o,s,t);case Al:l=8,o|=8;break;case Os:return e=We(12,n,t,o|2),e.elementType=Os,e.lanes=s,e;case Ds:return e=We(13,n,t,o),e.elementType=Ds,e.lanes=s,e;case Us:return e=We(19,n,t,o),e.elementType=Us,e.lanes=s,e;case Cu:return es(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ju:l=10;break e;case Eu:l=9;break e;case Il:l=11;break e;case Ol:l=14;break e;case Et:l=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=We(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function tn(e,t,n,r){return e=We(7,e,r,t),e.lanes=n,e}function es(e,t,n,r){return e=We(22,e,r,t),e.elementType=Cu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ps(e,t,n){return e=We(6,e,null,t),e.lanes=n,e}function Ls(e,t,n){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yp(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ms(0),this.expirationTimes=ms(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function vi(e,t,n,r,o,s,l,u,a){return e=new yp(e,t,n,u,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=We(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ni(s),e}function vp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function yd(e){if(!e)return $t;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Le(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Le(n))return yc(e,n,t)}return t}function vd(e,t,n,r,o,s,l,u,a){return e=vi(n,r,!0,e,o,s,l,u,a),e.context=yd(null),n=e.current,r=Ce(),o=Ot(n),s=xt(r,o),s.callback=t??null,At(n,s,o),e.current.lanes=o,Mr(e,o,r),ze(e,r),e}function ts(e,t,n,r){var o=t.current,s=Ce(),l=Ot(o);return n=yd(n),t.context===null?t.context=n:t.pendingContext=n,t=xt(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=At(o,t,l),e!==null&&(nt(e,o,l,s),ao(e,o,l)),l}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function La(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wi(e,t){La(e,t),(e=e.alternate)&&La(e,t)}function wp(){return null}var wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ki(e){this._internalRoot=e}ns.prototype.render=ki.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));ts(e,t,null,null)};ns.prototype.unmount=ki.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){ts(null,e,null,null)}),t[vt]=null}};function ns(e){this._internalRoot=e}ns.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bt.length&&t!==0&&t<bt[n].priority;n++);bt.splice(n,0,e),n===0&&Ju(e)}};function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function za(){}function kp(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var d=$o(l);s.call(d)}}var l=vd(t,r,e,0,null,!1,!1,"",za);return e._reactRootContainer=l,e[vt]=l.current,kr(e.nodeType===8?e.parentNode:e),ln(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=$o(a);u.call(d)}}var a=vi(e,0,!1,null,null,!1,!1,"",za);return e._reactRootContainer=a,e[vt]=a.current,kr(e.nodeType===8?e.parentNode:e),ln(function(){ts(t,a,n,r)}),a}function os(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var u=o;o=function(){var a=$o(l);u.call(a)}}ts(t,l,e,o)}else l=kp(n,t,e,o,r);return $o(l)}Yu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);n!==0&&($l(t,n|1),ze(t,ue()),!(K&6)&&(On=ue()+500,Vt()))}break;case 13:ln(function(){var r=wt(e,1);if(r!==null){var o=Ce();nt(r,e,1,o)}}),wi(e,1)}};Bl=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var n=Ce();nt(t,e,134217728,n)}wi(e,134217728)}};Xu=function(e){if(e.tag===13){var t=Ot(e),n=wt(e,t);if(n!==null){var r=Ce();nt(n,e,t,r)}wi(e,t)}};Gu=function(){return X};Zu=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};Xs=function(e,t,n){switch(t){case"input":if(Hs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ko(r);if(!o)throw Error(M(90));Ru(r),Hs(r,o)}}}break;case"textarea":Mu(e,n);break;case"select":t=n.value,t!=null&&En(e,!!n.multiple,t,!1)}};Ou=hi;Du=ln;var _p={usingClientEntryPoint:!1,Events:[Lr,vn,Ko,Au,Iu,hi]},Xn={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sp={bundleType:Xn.bundleType,version:Xn.version,rendererPackageName:Xn.rendererPackageName,rendererConfig:Xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bu(e),e===null?null:e.stateNode},findFiberByHostInstance:Xn.findFiberByHostInstance||wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{Vo=Jr.inject(Sp),ut=Jr}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;De.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_i(t))throw Error(M(200));return vp(e,t,null,n)};De.createRoot=function(e,t){if(!_i(e))throw Error(M(299));var n=!1,r="",o=wd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=vi(e,1,!1,null,null,n,!1,r,o),e[vt]=t.current,kr(e.nodeType===8?e.parentNode:e),new ki(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=Bu(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return ln(e)};De.hydrate=function(e,t,n){if(!rs(t))throw Error(M(200));return os(null,e,t,!0,n)};De.hydrateRoot=function(e,t,n){if(!_i(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=wd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=vd(t,null,e,1,n??null,o,!1,s,l),e[vt]=t.current,kr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ns(t)};De.render=function(e,t,n){if(!rs(t))throw Error(M(200));return os(null,e,t,!1,n)};De.unmountComponentAtNode=function(e){if(!rs(e))throw Error(M(40));return e._reactRootContainer?(ln(function(){os(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};De.unstable_batchedUpdates=hi;De.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!rs(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return os(e,t,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kd)}catch(e){console.error(e)}}kd(),ku.exports=De;var Np=ku.exports,Fa=Np;As.createRoot=Fa.createRoot,As.hydrateRoot=Fa.hydrateRoot;const jp="https://aknzrsgymehrixfwqefq.supabase.co",Ep="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrbnpyc2d5bWVocml4ZndxZWZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMjUyODgsImV4cCI6MjA4NjYwMTI4OH0.ESpNDYKwlK72Ebj19yk5qoUDtOr3PY_rQ5dQSelwZL8",Cp={getItem:async e=>{const n=(await chrome.storage.local.get(e))[e];if(n==null)return null;if(typeof n=="string")return n;try{return JSON.stringify(n)}catch{return null}},setItem:async(e,t)=>{await chrome.storage.local.set({[e]:t})},removeItem:async e=>{await chrome.storage.local.remove(e)}};async function bp(e,t,n){var s;const r=`doomscroller:${e}`,o=(s=globalThis.navigator)==null?void 0:s.locks;if(!(o!=null&&o.request))return n();try{return await o.request(r,{mode:"exclusive"},async()=>n())}catch{return n()}}var iu,au;const Rp=!!((au=(iu=globalThis.navigator)==null?void 0:iu.locks)!=null&&au.request),I=Wd(jp,Ep,{auth:{storage:Cp,persistSession:!0,autoRefreshToken:Rp,lock:bp,detectSessionInUrl:!1}}),_d="cached_profile_",Bo="cached_auth_profile_",Tp=32e4,Aa=16e5;function Si(e){return typeof e=="string"&&e.startsWith("data:image/")}function Mp(e){return Si(e.avatar_url)?e.avatar_url.length:0}function Pp(e){return!Si(e.avatar_url)||e.avatar_url.length<=Tp?e:{...e,avatar_url:null}}async function Sd(e,t={}){const n=t.includeProfileCache??!0,r=t.includeAuthCache??!0,o=Pp(e),s={};n&&(s[`${_d}${e.id}`]=o),r&&(s[`${Bo}${e.id}`]=o),Object.keys(s).length>0&&await chrome.storage.local.set(s),await Lp(t.preferredUserId??o.id)}async function Lp(e){try{const t=await chrome.storage.local.get(null),n=[];let r=0;for(const[s,l]of Object.entries(t)){if(!s.startsWith(_d)&&!s.startsWith(Bo)||!l||typeof l!="object")continue;const u=l,a=Mp(u);if(a<=0)continue;r+=a;const d=s.startsWith(Bo),g=(e!==void 0&&u.id===e?2:0)+(d?1:0);n.push({key:s,profile:u,avatarLen:a,priority:g})}if(r<=Aa)return;n.sort((s,l)=>s.priority-l.priority||l.avatarLen-s.avatarLen);const o={};for(const s of n){if(r<=Aa)break;Si(s.profile.avatar_url)&&(o[s.key]={...s.profile,avatar_url:null},r-=s.avatarLen)}Object.keys(o).length>0&&await chrome.storage.local.set(o)}catch{}}const zp=1e4,Ia=3,Fp=700,Oa=2,Ap=1e3;function Ip(e){if(!(e instanceof Error))return!1;const t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("networkerror")||t.includes("network request failed")}async function Da(e){let t;for(let n=0;n<=Oa;n++)try{return await e()}catch(r){if(t=r,!Ip(r)||n===Oa)break;await new Promise(o=>setTimeout(o,Ap*(n+1)))}throw t}function Op(){var f;const[e,t]=x.useState({user:null,profile:null,session:null,loading:!0,profileError:null}),n=x.useRef(null),r=x.useRef(null),o=x.useCallback(c=>`${Bo}${c}`,[]),s=x.useCallback(async c=>{try{const h=o(c),C=(await chrome.storage.local.get(h))[h];if(C&&C.id===c)return C}catch{}return null},[o]),l=x.useCallback(async c=>{try{await Sd(c,{includeProfileCache:!1,includeAuthCache:!0,preferredUserId:c.id})}catch{}},[]),u=x.useCallback(async c=>{if(!c||c.is_public)return c;const{data:h,error:w}=await I.from("profiles").update({is_public:!0}).eq("id",c.id).select("*").single();return w?(console.warn("[DoomScroller] ensureProfilePublic error:",w.message),c):h},[]),a=x.useCallback(async c=>{const h=await qd(I,c);return await u(h).catch(()=>h)},[u]),d=x.useCallback(async c=>{let h=null;try{const w=new Promise(k=>{h=setTimeout(()=>k({profile:null,timedOut:!0}),zp)}),C=a(c).then(k=>({profile:k,timedOut:!1}));return await Promise.race([C,w])}finally{h&&clearTimeout(h)}},[a]),v=x.useCallback(c=>new Promise(h=>{setTimeout(h,c)}),[]),g=x.useCallback(async c=>{let h={profile:null,timedOut:!1};for(let w=0;w<Ia;w+=1){if(h=await d(c).catch(()=>({profile:null,timedOut:!1})),h.profile)return h;w<Ia-1&&await v(Fp*(w+1))}return h},[d,v]),p=x.useCallback(async c=>c!=null&&c.access_token?c:null,[]);x.useEffect(()=>{let c=!0;async function h(k){if(!c)return;const j=await p(k);if(c)if(j!=null&&j.user){const P=j.user.id,R=n.current!==P;n.current=P,R&&(r.current=null),t(Y=>({...Y,user:j.user,session:j,loading:!1,profile:R?null:Y.profile,profileError:R?null:Y.profileError}));const L=await s(P);if(L&&c&&t(Y=>{var b;return((b=Y.user)==null?void 0:b.id)!==P||Y.profile&&!R?Y:{...Y,profile:L,profileError:null}}),r.current===P)return;const{profile:Q,timedOut:$}=await g(j.user);if(!c)return;Q?(r.current=P,l(Q),t(Y=>({...Y,profile:Q,profileError:null}))):t(Y=>({...Y,profile:null,profileError:$?"Profile sync timed out. Check connection and retry.":"Could not load your profile from the database."}))}else n.current=null,r.current=null,t({user:null,profile:null,session:null,loading:!1,profileError:null})}const{data:{subscription:w}}=I.auth.onAuthStateChange((k,j)=>{setTimeout(()=>{h(j)},0)});I.auth.getSession().then(({data:{session:k}})=>{h(k)});const C=setTimeout(()=>{c&&t(k=>k.loading?{...k,loading:!1}:k)},5e3);return()=>{c=!1,clearTimeout(C),w.unsubscribe()}},[p,s,g,l]);const _=async(c,h,w)=>{const{data:C,error:k}=await Da(()=>I.auth.signUp({email:c,password:h,options:{data:{display_name:w}}}));if(k)throw k;return C},S=async(c,h)=>{var k;const{data:w,error:C}=await Da(()=>I.auth.signInWithPassword({email:c,password:h}));if(C)throw C;if((k=w.session)!=null&&k.user){const j=w.session.user;n.current=j.id,r.current=null,t({user:j,profile:null,session:w.session,loading:!1,profileError:null}),s(j.id).then(P=>{P&&t(R=>{var L;return((L=R.user)==null?void 0:L.id)!==j.id||R.profile?R:{...R,profile:P,profileError:null}})}).catch(()=>{}),g(j).then(({profile:P,timedOut:R})=>{P?(r.current=j.id,l(P),t(L=>({...L,profile:P,profileError:null}))):t(L=>({...L,profile:null,profileError:R?"Profile sync timed out. Check connection and retry.":"Could not load your profile from the database."}))}).catch(()=>{t(P=>({...P,profileError:"Could not load your profile from the database."}))})}return w},y=async()=>{const{error:c}=await I.auth.signOut();if(c)throw c;n.current=null,r.current=null,t({user:null,profile:null,session:null,loading:!1,profileError:null})},T=async c=>{if(!e.user)throw new Error("Not authenticated");const{error:h}=await I.from("profiles").update({username:c.toLowerCase()}).eq("id",e.user.id);if(h)throw h;r.current=null;const w=await Qd(I,e.user.id);w&&(r.current=e.user.id),w&&l(w),t(C=>({...C,profile:w,profileError:w?null:"Could not refresh your profile."}))},m=x.useCallback(async()=>{if(!e.user)return;const c=e.user;r.current=null,t(C=>({...C,profileError:null}));const{profile:h,timedOut:w}=await g(c);h?(r.current=c.id,l(h),t(C=>({...C,profile:h,profileError:null}))):t(C=>({...C,profile:null,profileError:w?"Profile sync timed out. Check connection and retry.":"Could not load your profile from the database."}))},[g,e.user,l]);return x.useEffect(()=>{var w;const c=(w=e.user)==null?void 0:w.id;if(!c)return;const h=I.channel(`profile-live-${c}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${c}`},({new:C})=>{const k=C;k&&(r.current=c,l(k),t(j=>{var P;return((P=j.user)==null?void 0:P.id)!==c?j:{...j,profile:k,profileError:null}}))}).subscribe();return()=>{I.removeChannel(h)}},[(f=e.user)==null?void 0:f.id,l]),{...e,signUp:_,signIn:S,signOut:y,updateUsername:T,refreshProfile:m}}function Nd(e){if(!(e instanceof Error))return!1;const t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("networkerror")||t.includes("network request failed")}function Dp(e){if(e instanceof Error){const t=e.message||"";return Nd(e)?"Could not reach server. Office/school Wi-Fi may block required DNS. Connect to a personal hotspot and try again.":t}return"Failed to sign in"}function Up({onSignIn:e,onSwitchToSignUp:t}){const[n,r]=x.useState(""),[o,s]=x.useState(""),[l,u]=x.useState(!1),[a,d]=x.useState(""),[v,g]=x.useState(!1),[p,_]=x.useState(!1),S=async y=>{y&&y.preventDefault(),d(""),g(!1),_(!0);try{await e(n,o)}catch(T){g(Nd(T)),d(Dp(T))}finally{_(!1)}};return i.jsxs("div",{className:"flex flex-col items-center pt-10 h-full px-8",children:[i.jsx("p",{className:"text-5xl mb-2",children:""}),i.jsx("h1",{className:"text-2xl font-bold font-mono neon-text-green mb-1",children:"DoomScroller"}),i.jsx("p",{className:"text-doom-muted text-xs mb-8",children:"Track your shame in meters."}),i.jsxs("form",{onSubmit:S,className:"w-full space-y-4",children:[i.jsx("div",{children:i.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:y=>r(y.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`})}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:l?"text":"password",placeholder:"Password",value:o,onChange:y=>s(y.target.value),required:!0,minLength:6,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3 pr-10
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`}),i.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-doom-muted hover:text-white text-xs transition-colors",children:l?"Hide":"Show"})]}),a&&i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-neon-pink text-xs",children:a}),v&&i.jsx("button",{type:"button",onClick:()=>S(),disabled:p,className:"text-neon-cyan text-xs hover:underline disabled:opacity-50",children:"Tap to retry"})]}),i.jsx("button",{type:"submit",disabled:p,className:"w-full btn-primary py-3 font-bold text-sm disabled:opacity-50",children:p?"Signing in...":"Sign In"})]}),i.jsxs("p",{className:"text-doom-muted text-xs mt-6",children:["Don't have an account?"," ",i.jsx("button",{onClick:t,className:"text-neon-cyan hover:underline",children:"Sign Up"})]})]})}function jd(e){if(!(e instanceof Error))return!1;const t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("networkerror")||t.includes("network request failed")}function $p(e){if(e instanceof Error){const t=e.message||"";return jd(e)?"Could not reach server. Office/school Wi-Fi may block required DNS. Connect to a personal hotspot and try again.":t}return"Failed to sign up"}function Bp({onSignUp:e,onSwitchToLogin:t}){const[n,r]=x.useState(""),[o,s]=x.useState(""),[l,u]=x.useState(""),[a,d]=x.useState(""),[v,g]=x.useState(!1),[p,_]=x.useState(""),[S,y]=x.useState(!1),[T,m]=x.useState(!1),f=async c=>{if(c&&c.preventDefault(),_(""),y(!1),l!==a){_("Passwords do not match");return}if(l.length<6){_("Password must be at least 6 characters");return}if(n.length<2){_("Display name must be at least 2 characters");return}m(!0);try{await e(o,l,n)}catch(h){y(jd(h)),_($p(h))}finally{m(!1)}};return i.jsxs("div",{className:"flex flex-col items-center pt-8 h-full px-8",children:[i.jsx("p",{className:"text-5xl mb-2",children:""}),i.jsx("h1",{className:"text-2xl font-bold font-mono neon-text-green mb-1",children:"Join the Doom"}),i.jsx("p",{className:"text-doom-muted text-xs mb-6",children:"Your scrolling shame starts here."}),i.jsxs("form",{onSubmit:f,className:"w-full space-y-3",children:[i.jsx("input",{type:"text",placeholder:"Display Name",value:n,onChange:c=>r(c.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                     text-white placeholder-doom-muted text-sm
                     focus:outline-none focus:border-neon-green/50 transition-colors`}),i.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:c=>s(c.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                     text-white placeholder-doom-muted text-sm
                     focus:outline-none focus:border-neon-green/50 transition-colors`}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:v?"text":"password",placeholder:"Password (min 6 chars)",value:l,onChange:c=>u(c.target.value),required:!0,minLength:6,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3 pr-10
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`}),i.jsx("button",{type:"button",onClick:()=>g(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-doom-muted hover:text-white text-xs transition-colors",children:v?"Hide":"Show"})]}),i.jsx("input",{type:v?"text":"password",placeholder:"Confirm Password",value:a,onChange:c=>d(c.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                     text-white placeholder-doom-muted text-sm
                     focus:outline-none focus:border-neon-green/50 transition-colors`}),p&&i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-neon-pink text-xs",children:p}),S&&i.jsx("button",{type:"button",onClick:()=>f(),disabled:T,className:"text-neon-cyan text-xs hover:underline disabled:opacity-50",children:"Tap to retry"})]}),i.jsx("button",{type:"submit",disabled:T,className:"w-full btn-primary py-3 font-bold text-sm disabled:opacity-50",children:T?"Creating account...":"Sign Up"})]}),i.jsxs("p",{className:"text-doom-muted text-xs mt-4",children:["Already have an account?"," ",i.jsx("button",{onClick:t,className:"text-neon-cyan hover:underline",children:"Sign In"})]})]})}function Hp({currentUsername:e,onSetUsername:t}){const[n,r]=x.useState(""),[o,s]=x.useState(""),[l,u]=x.useState(!1),a=/^[a-z0-9]+_[a-f0-9]{4}$/.test(e),d=g=>g.length<3?"Username must be at least 3 characters":g.length>20?"Username must be at most 20 characters":/^[a-z0-9_]+$/.test(g)?null:"Only lowercase letters, numbers, and underscores",v=async g=>{g.preventDefault();const p=d(n);if(p){s(p);return}s(""),u(!0);try{await t(n)}catch(_){const S=_ instanceof Error?_.message:"Failed to set username";S.includes("duplicate")||S.includes("unique")?s("Username already taken"):s(S)}finally{u(!1)}};return a?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-8",children:[i.jsx("p",{className:"text-5xl mb-2",children:""}),i.jsx("h1",{className:"text-xl font-bold font-mono neon-text-green mb-1",children:"Pick a Username"}),i.jsx("p",{className:"text-doom-muted text-xs mb-6 text-center",children:"This is how other doomscrollers will find you."}),i.jsxs("form",{onSubmit:v,className:"w-full space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center bg-doom-surface border border-doom-border rounded-lg px-4 py-3",children:[i.jsx("span",{className:"text-doom-muted text-sm mr-1",children:"@"}),i.jsx("input",{type:"text",placeholder:"your_username",value:n,onChange:g=>{r(g.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),s("")},maxLength:20,required:!0,className:`flex-1 bg-transparent text-white placeholder-doom-muted text-sm
                         focus:outline-none`})]}),i.jsx("p",{className:"text-doom-muted text-[10px] mt-1 px-1",children:"3-20 chars, lowercase, numbers, underscores"})]}),o&&i.jsx("p",{className:"text-neon-pink text-xs text-center",children:o}),i.jsx("button",{type:"submit",disabled:l||n.length<3,className:"w-full btn-primary py-3 font-bold text-sm disabled:opacity-50",children:l?"Setting...":"Claim Username"})]})]}):null}const eo="cached_scroll_stats",Vp="scrollBatches",Wp="scrollBatchesInFlight",qp=1e3;function Ed(){const[e,t]=x.useState({todayMeters:0,todayBysite:{},totalMeters:0}),[n,r]=x.useState(!0),o=x.useRef(0),s=x.useRef(0);x.useEffect(()=>{chrome.storage.local.get(eo).then(u=>{u[eo]&&(t(u[eo]),r(!1))})},[]);const l=x.useCallback(async()=>{const u=++o.current;try{const a=await chrome.runtime.sendMessage({type:"GET_STATS"});a&&u>=s.current&&(s.current=u,t(a),chrome.storage.local.set({[eo]:a}))}catch{}finally{r(!1)}},[]);return x.useEffect(()=>{l();const u=setInterval(l,qp),a=(d,v)=>{v==="local"&&(d[Vp]||d[Wp])&&l()};return chrome.storage.onChanged.addListener(a),()=>{clearInterval(u),chrome.storage.onChanged.removeListener(a)}},[l]),{stats:e,loading:n,refresh:l}}const Wt='<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>',qt='</title><path d="',Qt='"/></svg>',Qp={title:"Facebook",slug:"facebook",get svg(){return Wt+"Facebook"+qt+this.path+Qt},path:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z",source:"https://about.meta.com/brand/resources/facebook/logo",hex:"0866FF",guidelines:"https://about.meta.com/brand/resources/facebook/logo"},Kp={title:"Instagram",slug:"instagram",get svg(){return Wt+"Instagram"+qt+this.path+Qt},path:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077",source:"https://about.meta.com/brand/resources/instagram",hex:"FF0069",guidelines:"https://about.meta.com/brand/resources/instagram"},Yp={title:"Pinterest",slug:"pinterest",get svg(){return Wt+"Pinterest"+qt+this.path+Qt},path:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z",source:"https://business.pinterest.com/en/brand-guidelines",hex:"BD081C",guidelines:"https://business.pinterest.com/en/brand-guidelines"},Xp={title:"Reddit",slug:"reddit",get svg(){return Wt+"Reddit"+qt+this.path+Qt},path:"M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z",source:"https://www.redditinc.com/brand",hex:"FF4500",guidelines:"https://www.redditinc.com/brand"},Gp={title:"Snapchat",slug:"snapchat",get svg(){return Wt+"Snapchat"+qt+this.path+Qt},path:"M12.206.793c.99 0 4.347.276 5.93 3.821.529 1.193.403 3.219.299 4.847l-.003.06c-.012.18-.022.345-.03.51.075.045.203.09.401.09.3-.016.659-.12 1.033-.301.165-.088.344-.104.464-.104.182 0 .359.029.509.09.45.149.734.479.734.838.015.449-.39.839-1.213 1.168-.089.029-.209.075-.344.119-.45.135-1.139.36-1.333.81-.09.224-.061.524.12.868l.015.015c.06.136 1.526 3.475 4.791 4.014.255.044.435.27.42.509 0 .075-.015.149-.045.225-.24.569-1.273.988-3.146 1.271-.059.091-.12.375-.164.57-.029.179-.074.36-.134.553-.076.271-.27.405-.555.405h-.03c-.135 0-.313-.031-.538-.074-.36-.075-.765-.135-1.273-.135-.3 0-.599.015-.913.074-.6.104-1.123.464-1.723.884-.853.599-1.826 1.288-3.294 1.288-.06 0-.119-.015-.18-.015h-.149c-1.468 0-2.427-.675-3.279-1.288-.599-.42-1.107-.779-1.707-.884-.314-.045-.629-.074-.928-.074-.54 0-.958.089-1.272.149-.211.043-.391.074-.54.074-.374 0-.523-.224-.583-.42-.061-.192-.09-.389-.135-.567-.046-.181-.105-.494-.166-.57-1.918-.222-2.95-.642-3.189-1.226-.031-.063-.052-.15-.055-.225-.015-.243.165-.465.42-.509 3.264-.54 4.73-3.879 4.791-4.02l.016-.029c.18-.345.224-.645.119-.869-.195-.434-.884-.658-1.332-.809-.121-.029-.24-.074-.346-.119-1.107-.435-1.257-.93-1.197-1.273.09-.479.674-.793 1.168-.793.146 0 .27.029.383.074.42.194.789.3 1.104.3.234 0 .384-.06.465-.105l-.046-.569c-.098-1.626-.225-3.651.307-4.837C7.392 1.077 10.739.807 11.727.807l.419-.015h.06z",source:"https://www.snapchat.com/brand-guidelines",hex:"FFFC00",guidelines:"https://www.snapchat.com/brand-guidelines"},Zp={title:"TikTok",slug:"tiktok",get svg(){return Wt+"TikTok"+qt+this.path+Qt},path:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z",source:"https://tiktok.com",hex:"000000"},Jp={title:"X",slug:"x",get svg(){return Wt+"X"+qt+this.path+Qt},path:"M14.234 10.162 22.977 0h-2.072l-7.591 8.824L7.251 0H.258l9.168 13.343L.258 24H2.33l8.016-9.318L16.749 24h6.993zm-2.837 3.299-.929-1.329L3.076 1.56h3.182l5.965 8.532.929 1.329 7.754 11.09h-3.182z",source:"https://x.com",hex:"000000",guidelines:"https://about.x.com/en/who-we-are/brand-toolkit"},eh={title:"YouTube",slug:"youtube",get svg(){return Wt+"YouTube"+qt+this.path+Qt},path:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z",source:"https://www.youtube.com/howyoutubeworks/resources/brand-resources/#logos-icons-and-colors",hex:"FF0000",guidelines:"https://www.youtube.com/howyoutubeworks/resources/brand-resources/#logos-icons-and-colors"},th={facebook:Qp,x:Jp,tiktok:Zp,instagram:Kp,snapchat:Gp,reddit:Xp,youtube:eh,pinterest:Yp};function nh({site:e,meters:t}){const n=Kd(e),r=n?Yd[n]:{name:e,short:"??",color:"#666"},o=n?th[n]:null;return i.jsxs("div",{className:"card flex flex-col items-center gap-1 min-w-[70px]",children:[o?i.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4","aria-label":r.name,role:"img",style:{color:r.color},children:i.jsx("path",{d:o.path,fill:"currentColor"})}):i.jsx("span",{className:"text-xs font-bold font-mono",style:{color:r.color},children:r.short}),i.jsx("span",{className:"text-white text-sm font-mono font-bold",children:t<1e3?`${Math.round(t)}m`:`${(t/1e3).toFixed(1)}km`})]})}const Ua=[e=>`That's ${(e/91.44).toFixed(1)} football fields`,e=>`${(e/330).toFixed(2)} Eiffel Towers tall`,e=>`${Math.round(e/.25)} lengths of your unread textbook`,e=>`${(e/2.7).toFixed(0)} flights of stairs you didn't climb`,e=>`${(e/110).toFixed(1)} blue whales long`,e=>`That's ${(e/1.7).toFixed(0)} you's stacked up`];function $a({stats:e,loading:t}){const{stats:n,loading:r}=Ed(),o=e??n,s=t??r,l=x.useMemo(()=>{if(o.todayMeters===0)return"You haven't scrolled today. Suspicious.";const a=Math.floor(Math.random()*Ua.length);return Ua[a](o.todayMeters)},[o.todayMeters]),u=Object.entries(o.todayBysite).sort(([,a],[,d])=>d-a);return s?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading stats..."})}):i.jsxs("div",{className:"flex flex-col gap-5",children:[i.jsxs("div",{className:"text-center py-4",children:[i.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-widest mb-2",children:"Today"}),i.jsx("p",{className:"text-5xl font-bold font-mono neon-text-green",children:o.todayMeters<1e3?`${Math.round(o.todayMeters)}m`:`${(o.todayMeters/1e3).toFixed(2)}km`}),i.jsxs("p",{className:"text-doom-muted text-xs mt-2 italic",children:['"',l,'"']})]}),u.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Breakdown"}),i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:u.map(([a,d])=>i.jsx(nh,{site:a,meters:d},a))})]}),i.jsx("div",{className:"card neon-border",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-doom-muted text-xs font-mono",children:"TOTAL DISTANCE"}),i.jsx("span",{className:"text-white font-mono font-bold",children:o.totalMeters<1e3?`${Math.round(o.totalMeters)}m`:`${(o.totalMeters/1e3).toFixed(2)}km`})]})}),o.todayMeters===0&&o.totalMeters===0&&i.jsxs("div",{className:"text-center py-6",children:[i.jsxs("svg",{className:"w-8 h-8 mx-auto mb-2 text-doom-muted",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),i.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]}),i.jsx("p",{className:"text-doom-muted text-sm",children:"Open a social media site and start scrolling."}),i.jsx("p",{className:"text-doom-muted text-xs mt-1",children:"We'll track your shame automatically."})]})]})}const rh=8*1024*1024,Ba=320,Gn=9e5,oh=[.9,.82,.74,.66,.58],Ha=[.9,.82,.74,.66,.58];function sh(e){return e.type==="image/jpeg"||e.type==="image/jpg"}function lh(e){return typeof e=="string"&&e.startsWith("data:image/")}async function ih(e){return await new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?t(r.result):n(new Error("Could not read image file"))},r.onerror=()=>n(new Error("Could not read image file")),r.readAsDataURL(e)})}async function ah(e){return await new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error("Invalid image file")),r.src=e})}async function uh(e){if(!sh(e))return 1;const t=await e.arrayBuffer(),n=new DataView(t);if(n.byteLength<4||n.getUint16(0,!1)!==65496)return 1;let r=2;for(;r+3<n.byteLength;){const o=n.getUint16(r,!1);if(r+=2,(o&65280)!==65280||r+1>=n.byteLength)break;const s=n.getUint16(r,!1);if(s<2)break;if(o===65505){const l=r+2;if(l+(s-2)>n.byteLength)break;if(n.getUint8(l)===69&&n.getUint8(l+1)===120&&n.getUint8(l+2)===105&&n.getUint8(l+3)===102){const a=l+6;if(a+8>n.byteLength)return 1;const d=n.getUint16(a,!1)===18761,v=n.getUint32(a+4,d);let g=a+v;if(g+2>n.byteLength)return 1;const p=n.getUint16(g,d);g+=2;for(let _=0;_<p;_+=1){const S=g+_*12;if(S+12>n.byteLength)break;if(n.getUint16(S,d)!==274)continue;const T=n.getUint16(S+8,d);return T>=1&&T<=8?T:1}}return 1}r+=s}return 1}function ch(e){return e>=5&&e<=8}function dh(e,t,n,r){switch(t){case 2:e.transform(-1,0,0,1,n,0);break;case 3:e.transform(-1,0,0,-1,n,r);break;case 4:e.transform(1,0,0,-1,0,r);break;case 5:e.transform(0,1,1,0,0,0);break;case 6:e.transform(0,1,-1,0,n,0);break;case 7:e.transform(0,-1,-1,0,n,r);break;case 8:e.transform(0,-1,1,0,0,r);break}}function fh(e){const t=e.getContext("2d");if(!t)return!1;const{data:n}=t.getImageData(0,0,e.width,e.height);for(let r=3;r<n.length;r+=4)if(n[r]<255)return!0;return!1}function Zn(e,t,n){const r=n===void 0?e.toDataURL(t):e.toDataURL(t,n);return lh(r)?t==="image/png"?r.startsWith("data:image/png")?r:null:r.startsWith(`data:${t}`)?r:null:null}function mh(e,t){const n=e.naturalWidth||e.width,r=e.naturalHeight||e.height,o=Math.max(n,r),s=o>Ba?Ba/o:1,l=Math.max(1,Math.round(n*s)),u=Math.max(1,Math.round(r*s)),a=document.createElement("canvas");ch(t)?(a.width=u,a.height=l):(a.width=l,a.height=u);const d=a.getContext("2d");if(!d)throw new Error("Could not process image");return dh(d,t,a.width,a.height),d.drawImage(e,0,0,l,u),a}async function ph(e){if(!e.type.startsWith("image/"))throw new Error("Please choose an image file");if(e.size>rh)throw new Error("Image is too large (max 8MB)");const t=await ih(e),n=await ah(t),r=await uh(e),o=mh(n,r);if(fh(o)){for(const a of Ha){const d=Zn(o,"image/webp",a);if(d&&d.length<=Gn)return d}const u=Zn(o,"image/png");if(u&&u.length<=Gn)return u;throw new Error("Image is too large after compression. Try a smaller image")}for(const u of oh){const a=Zn(o,"image/jpeg",u);if(a&&a.length<=Gn)return a}for(const u of Ha){const a=Zn(o,"image/webp",u);if(a&&a.length<=Gn)return a}const l=Zn(o,"image/png");if(l&&l.length<=Gn)return l;throw new Error("Image is too large after compression. Try a smaller image")}function Cd({className:e="w-4 h-4"}){return i.jsxs("svg",{viewBox:"0 0 24 24",className:e,"aria-hidden":"true",children:[i.jsx("defs",{children:i.jsxs("radialGradient",{id:"doomscroller-coin-grad",cx:"35%",cy:"35%",r:"70%",children:[i.jsx("stop",{offset:"0%",stopColor:"#fff2a8"}),i.jsx("stop",{offset:"48%",stopColor:"#ffd84f"}),i.jsx("stop",{offset:"100%",stopColor:"#d89c00"})]})}),i.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#doomscroller-coin-grad)",stroke:"#f5c542",strokeWidth:"1.4"}),i.jsx("circle",{cx:"12",cy:"12",r:"6.2",fill:"none",stroke:"#f8e18a",strokeWidth:"1.2",opacity:"0.9"}),i.jsx("ellipse",{cx:"8.2",cy:"7.6",rx:"2.1",ry:"1.3",fill:"#fff6c7",opacity:"0.85"})]})}function hh(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return Math.abs(t>>>0)}function gh(e){if(!e||typeof e!="object")return[];const t=e.tags;return Array.isArray(t)?t.map(n=>String(n).toLowerCase().trim()).filter(Boolean).slice(0,12):[]}function xh(e){const t=gh(e.meta),n=[e.event_key??"",e.trigger_type??"",e.title??"",e.description??"",e.app_scope??"",t.join(" ")].join(" ").toLowerCase();return/\bburst|sprint|speed|rapid|lightning|quick\b/.test(n)?"sprint":/\bspecialist|loyal|focus|single|mono\b/.test(n)?"specialist":/\bdiversity|multi|tourist|variety|mix\b/.test(n)?"diversity":/\bmarathon|session|endurance|long\b/.test(n)?"marathon":/\bstreak|consecutive|daily|days\b/.test(n)?"streak":/\bnight|late|midnight|owl\b/.test(n)?"night":/\bdistance|meter|meters|scroll|regret\b/.test(n)?"distance":"focus"}function yh(e){return e==="legendary"?["#f59e0b","#f97316"]:e==="epic"?["#06b6d4","#3b82f6"]:e==="rare"?["#39ff14","#22c55e"]:["#64748b","#334155"]}function vh(e){return e==="sprint"?["#fb7185","#f43f5e"]:e==="specialist"?["#2dd4bf","#14b8a6"]:e==="diversity"?["#f59e0b","#f97316"]:e==="marathon"?["#38bdf8","#60a5fa"]:e==="distance"?["#a78bfa","#c084fc"]:e==="streak"?["#22c55e","#84cc16"]:e==="night"?["#0ea5e9","#6366f1"]:["#f472b6","#8b5cf6"]}function wh(e){return e==="sprint"?i.jsx("path",{d:"M56 14L32 52h22l-8 34 30-46H54l2-26z"}):e==="specialist"?i.jsxs(i.Fragment,{children:[i.jsx("circle",{cx:"50",cy:"50",r:"26",fill:"none",strokeWidth:"6"}),i.jsx("circle",{cx:"50",cy:"50",r:"12",fill:"none",strokeWidth:"6"}),i.jsx("circle",{cx:"50",cy:"50",r:"4"})]}):e==="diversity"?i.jsxs(i.Fragment,{children:[i.jsx("circle",{cx:"28",cy:"32",r:"7"}),i.jsx("circle",{cx:"72",cy:"28",r:"7"}),i.jsx("circle",{cx:"24",cy:"70",r:"7"}),i.jsx("circle",{cx:"66",cy:"68",r:"7"}),i.jsx("path",{d:"M28 32l44-4M28 32l-4 38M72 28L66 68M24 70l42-2",fill:"none",strokeWidth:"5"})]}):e==="marathon"?i.jsxs(i.Fragment,{children:[i.jsx("path",{d:"M18 50c0-14 10-24 24-24s24 10 24 24-10 24-24 24S18 64 18 50z",fill:"none",strokeWidth:"5"}),i.jsx("path",{d:"M58 50c0-14 10-24 24-24",fill:"none",strokeWidth:"5"}),i.jsx("path",{d:"M58 50c0 14 10 24 24 24",fill:"none",strokeWidth:"5"})]}):e==="streak"?i.jsxs(i.Fragment,{children:[i.jsx("rect",{x:"22",y:"54",width:"12",height:"24",rx:"3"}),i.jsx("rect",{x:"40",y:"42",width:"12",height:"36",rx:"3"}),i.jsx("rect",{x:"58",y:"28",width:"12",height:"50",rx:"3"}),i.jsx("path",{d:"M20 30h10l6-10 8 16 8-12 8 6h10",fill:"none",strokeWidth:"5"})]}):e==="night"?i.jsxs(i.Fragment,{children:[i.jsx("path",{d:"M60 18a28 28 0 1 0 22 44A22 22 0 1 1 60 18z"}),i.jsx("path",{d:"M26 22l4 8 8 4-8 4-4 8-4-8-8-4 8-4z"})]}):e==="distance"?i.jsxs(i.Fragment,{children:[i.jsx("path",{d:"M14 74l18-24 12 14 16-22 26 32H14z"}),i.jsx("path",{d:"M18 78h64",fill:"none",strokeWidth:"5"}),i.jsx("circle",{cx:"78",cy:"30",r:"7"})]}):i.jsxs(i.Fragment,{children:[i.jsx("path",{d:"M50 14L88 50 50 86 12 50 50 14z",fill:"none",strokeWidth:"6"}),i.jsx("circle",{cx:"50",cy:"50",r:"12"}),i.jsx("path",{d:"M34 50h32M50 34v32",fill:"none",strokeWidth:"5"})]})}function Va({achievement:e,rarity:t,size:n="sm",className:r=""}){const o=xh(e),[s,l]=yh(t),[u,a]=vh(o),d=hh(`${e.id}:${e.event_key??e.title}`),v=d%20,g=n==="lg"?76:58,p=4+d%4,_=Array.from({length:p}).map((y,T)=>{const m=T+1,f=12+d*(m*11)%76,c=10+d*(m*17)%80,h=1.5+d%(m+3);return i.jsx("circle",{cx:f,cy:c,r:Math.min(h,4)},`${e.id}-dot-${T}`)}),S=`radial-gradient(circle at 20% 16%, ${u}99 0%, ${u}33 34%, transparent 60%), radial-gradient(circle at 82% 88%, ${a}88 0%, ${a}2a 36%, transparent 62%), radial-gradient(circle at 55% 18%, ${s}66 0%, transparent 45%), linear-gradient(155deg, #080e17 0%, #111a2b 52%, #090f1a 100%)`;return i.jsxs("div",{className:`relative rounded-xl border border-white/10 overflow-hidden ${r}`,style:{width:g,height:g,backgroundImage:S,boxShadow:`inset 0 0 0 1px ${s}55, 0 8px 20px rgba(0,0,0,0.35), 0 0 20px ${u}38, 0 0 12px ${l}2e`},children:[i.jsx("div",{className:"absolute inset-[3px] rounded-[10px] border pointer-events-none",style:{borderColor:`${l}66`}}),i.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`linear-gradient(${110+v}deg, transparent 18%, ${a}40 46%, ${s}36 60%, transparent 82%)`}}),i.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",style:{color:u,filter:"drop-shadow(0 0 8px rgba(0,0,0,0.4))"},children:[i.jsx("g",{fill:`${a}aa`,children:_}),i.jsx("g",{fill:"currentColor",stroke:`${s}dd`,strokeLinejoin:"round",strokeLinecap:"round",children:wh(o)})]}),i.jsx("div",{className:"absolute inset-0 pointer-events-none bg-[radial-gradient(circle_at_top,rgba(255,255,255,0.18),transparent_56%)]"})]})}const Wa="cached_profile_",to="cached_achievements_";function fn(e){return e==="rare"||e==="epic"||e==="legendary"?e:"common"}function qa(e){return e==="legendary"?"border-fuchsia-400/60 bg-fuchsia-500/10 shadow-[0_0_18px_rgba(192,38,211,0.28)]":e==="epic"?"border-cyan-400/60 bg-cyan-500/10 shadow-[0_0_16px_rgba(6,182,212,0.26)]":e==="rare"?"border-neon-green/50 bg-neon-green/10 shadow-[0_0_14px_rgba(57,255,20,0.24)]":"border-doom-border bg-doom-surface"}function no(e){if(!e||typeof e!="object")return null;const t=e.roast_line;return typeof t=="string"&&t.trim().length>0?t.trim():null}function kh(e){const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown date":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function _h(e){if(!e||typeof e!="object")return!1;const t=e;if(t.type!=="ACHIEVEMENT_SYNCED"||!t.payload||typeof t.payload!="object")return!1;const n=t.payload;return typeof n.userId=="string"&&typeof n.eventKey=="string"}function Sh({userId:e,isOwnProfile:t,onBack:n,cachedProfile:r,onProfileUpdated:o,liveTotalMeters:s}){const[l,u]=x.useState(r??null),[a,d]=x.useState([]),[v,g]=x.useState(!r),[p,_]=x.useState(!1),[S,y]=x.useState(""),[T,m]=x.useState("success"),[f,c]=x.useState(!1),[h,w]=x.useState(null),C=x.useRef(null),k=x.useRef(null),j=x.useCallback(async()=>{const{data:b}=await I.from("achievements").select("*").eq("user_id",e).order("earned_at",{ascending:!1});b&&(d(b),await chrome.storage.local.set({[to+e]:b}))},[e]),P=x.useCallback(async b=>{try{await Sd(b,{includeProfileCache:!0,includeAuthCache:t,preferredUserId:t?b.id:void 0})}catch{}},[t]);x.useEffect(()=>{let b=!0;async function U(){if(!r){const z=await chrome.storage.local.get([Wa+e,to+e]),F=z[Wa+e],W=z[to+e];b&&F&&(u(F),g(!1)),b&&W&&d(W)}b&&r&&g(!1);const[D,E]=await Promise.all([r?Promise.resolve(null):I.from("profiles").select("*").eq("id",e).single(),I.from("achievements").select("*").eq("user_id",e).order("earned_at",{ascending:!1})]);b&&(D!=null&&D.data&&(u(D.data),P(D.data)),E.data&&(d(E.data),chrome.storage.local.set({[to+e]:E.data})),g(!1))}return U(),()=>{b=!1}},[e,r,P]),x.useEffect(()=>{c(!1)},[l==null?void 0:l.avatar_url]),x.useEffect(()=>{if(!t)return;const b=U=>{_h(U)&&U.payload.userId===e&&j()};return chrome.runtime.onMessage.addListener(b),()=>{chrome.runtime.onMessage.removeListener(b)}},[t,j,e]),x.useEffect(()=>()=>{k.current!==null&&window.clearTimeout(k.current)},[]);const R=x.useCallback(async b=>{var E;const U=(E=b.target.files)==null?void 0:E[0];if(b.target.value="",!U||!l||!t)return;_(!0),y(""),m("success");const D=l;try{const z=await ph(U),F={...D,avatar_url:z};u(F),c(!1);const{data:W,error:Z}=await I.from("profiles").update({avatar_url:z}).eq("id",e).select("*").single();if(Z)throw u(D),Z;const re=W??F;u(re),await P(re),o==null||o(),y("Profile picture updated"),m("success")}catch(z){const F=z instanceof Error?z.message:"Failed to upload profile picture";y(F),m("error")}finally{_(!1),k.current!==null&&window.clearTimeout(k.current),k.current=window.setTimeout(()=>y(""),2200)}},[t,o,l,P,e]),L=x.useCallback(async()=>{if(!l||!t||!l.avatar_url)return;_(!0),y(""),m("success");const b=l,U={...b,avatar_url:null};u(U);try{const{data:D,error:E}=await I.from("profiles").update({avatar_url:null}).eq("id",e).select("*").single();if(E)throw u(b),E;const z=D??U;u(z),await P(z),o==null||o(),y("Profile picture removed"),m("success")}catch(D){const E=D instanceof Error?D.message:"Failed to remove profile picture";y(E),m("error")}finally{_(!1),k.current!==null&&window.clearTimeout(k.current),k.current=window.setTimeout(()=>y(""),2200)}},[t,o,l,P,e]);if(v)return i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading profile..."})});if(!l)return i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-3xl mb-2",children:""}),i.jsx("p",{className:"text-doom-muted text-sm",children:"Profile not found or private."}),n&&i.jsx("button",{onClick:n,className:"btn-primary text-xs mt-4",children:"Go Back"})]});const Q=new Date(l.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"}),$=t&&typeof s=="number"?Math.max(Number(l.total_meters_scrolled??0),s):Number(l.total_meters_scrolled??0),Y=Number.isFinite(Number(l.coin_balance))?Math.max(0,Math.floor(Number(l.coin_balance))):uu($);return i.jsxs("div",{className:"flex flex-col gap-4",children:[n&&i.jsx("button",{onClick:n,className:"text-doom-muted text-xs font-mono hover:text-white self-start",children:" Back"}),i.jsxs("div",{className:"text-center py-2",children:[i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-yellow-500/10 border border-yellow-400/40 mb-2 shadow-[0_0_10px_rgba(250,204,21,0.18)]",children:[i.jsx(Cd,{className:"w-4 h-4"}),i.jsx("span",{className:"text-yellow-100 text-sm font-semibold font-mono tabular-nums",children:Y})]}),t?i.jsx("div",{className:"w-16 h-16 rounded-full bg-doom-surface border-2 border-neon-green/30 mx-auto mb-3 overflow-hidden flex items-center justify-center",children:l.avatar_url&&!f?i.jsx("img",{src:l.avatar_url,alt:`${l.display_name} profile picture`,className:"w-full h-full object-cover",onError:()=>c(!0)}):i.jsx("span",{className:"text-2xl",children:""})}):i.jsx("div",{className:"w-16 h-16 rounded-full bg-doom-surface border-2 border-neon-green/30 mx-auto mb-3 overflow-hidden flex items-center justify-center",children:l.avatar_url&&!f?i.jsx("img",{src:l.avatar_url,alt:`${l.display_name} profile picture`,className:"w-full h-full object-cover",onError:()=>c(!0)}):i.jsx("span",{className:"text-2xl",children:""})}),t&&i.jsxs(i.Fragment,{children:[i.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:R,className:"hidden"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx("button",{onClick:()=>{var b;return(b=C.current)==null?void 0:b.click()},disabled:p,className:"px-2.5 py-1 rounded-md border border-neon-green/30 text-[11px] text-neon-green font-mono hover:bg-neon-green/10 disabled:opacity-50",children:"Change"}),i.jsx("button",{onClick:L,disabled:p||!l.avatar_url,className:"px-2.5 py-1 rounded-md border border-neon-pink/30 text-[11px] text-neon-pink font-mono hover:bg-neon-pink/10 disabled:opacity-50",children:"Remove"})]}),S&&i.jsx("p",{className:`text-[10px] font-mono mb-1 ${T==="error"?"text-neon-pink":"text-neon-green"}`,children:S})]}),i.jsx("h2",{className:"text-lg font-bold font-mono text-white",children:l.display_name}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",l.username]}),!l.is_public&&i.jsx("span",{className:"inline-block text-[10px] text-neon-pink border border-neon-pink/30 rounded px-1.5 py-0.5 mt-1",children:"PRIVATE"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"card text-center",children:[i.jsx("p",{className:"text-doom-muted text-[10px] font-mono uppercase",children:"Total Scrolled"}),i.jsx("p",{className:"text-lg font-bold font-mono neon-text-green",children:$<1e3?`${Math.round($)}m`:`${($/1e3).toFixed(2)}km`})]}),i.jsxs("div",{className:"card text-center",children:[i.jsx("p",{className:"text-doom-muted text-[10px] font-mono uppercase",children:"Member Since"}),i.jsx("p",{className:"text-lg font-bold font-mono text-white",children:Q})]})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Achievements (",a.length,")"]}),a.length>0?i.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.map(b=>i.jsxs("button",{type:"button",onClick:()=>w(b),className:`card flex flex-col items-center gap-1.5 p-2 text-left transition-transform hover:-translate-y-0.5 ${qa(fn(b.rarity))}`,title:`${b.title}: ${b.description}${no(b.meta)?`  ${no(b.meta)}`:""}`,children:[i.jsx(Va,{achievement:b,rarity:fn(b.rarity),size:"sm"}),i.jsx("span",{className:"text-[10px] text-doom-muted font-mono text-center leading-tight min-h-[2.1rem] w-full",children:b.title}),i.jsx("span",{className:"text-[8px] uppercase tracking-wider text-doom-muted/80 font-mono",children:fn(b.rarity)})]},b.id))}):i.jsx("div",{className:"card text-center py-4",children:i.jsx("p",{className:"text-doom-muted text-xs",children:t?"No achievements yet. Keep scrolling (or don't).":"No achievements to show."})})]}),h&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-[1px] flex items-center justify-center px-4",onClick:()=>w(null),children:i.jsxs("div",{className:`w-full max-w-[320px] rounded-xl border p-4 bg-[#080b11] shadow-[0_18px_50px_rgba(0,0,0,0.55)] ${qa(fn(h.rarity))}`,onClick:b=>b.stopPropagation(),children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Va,{achievement:h,rarity:fn(h.rarity),size:"lg"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wider font-mono text-doom-muted",children:"Achievement"}),i.jsx("p",{className:"text-[10px] uppercase tracking-wider font-mono text-white/80",children:fn(h.rarity)})]})]}),i.jsx("button",{type:"button",onClick:()=>w(null),className:"text-doom-muted hover:text-white text-xl leading-none","aria-label":"Close achievement details",children:""})]}),i.jsx("h3",{className:"text-sm font-semibold font-mono text-white mb-2 leading-snug",children:h.title}),i.jsx("p",{className:"text-xs text-doom-muted leading-relaxed mb-3",children:h.description}),no(h.meta)&&i.jsxs("p",{className:"text-[11px] text-neon-green/90 italic mb-3",children:['"',no(h.meta),'"']}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] font-mono text-doom-muted",children:[i.jsxs("div",{className:"bg-doom-surface border border-doom-border rounded-md px-2 py-1.5",children:["Unlocked",i.jsx("div",{className:"text-white mt-0.5",children:kh(h.earned_at)})]}),i.jsxs("div",{className:"bg-doom-surface border border-doom-border rounded-md px-2 py-1.5",children:["Trigger",i.jsx("div",{className:"text-white mt-0.5 break-all leading-snug",children:h.trigger_type})]})]})]})})]})}const Nh=3e3;function go(e){return e.toLowerCase().replace(/[^a-z0-9\s_]/g," ").replace(/\s+/g," ").trim()}function jh(e,t){if(!e)return!1;let n=0;for(let r=0;r<t.length&&n<e.length;r+=1)e[n]===t[r]&&(n+=1);return n===e.length}function Qa(e,t){if(!e||!t)return 0;if(t===e)return 1e3;if(t.startsWith(e))return 820-Math.min(300,t.length-e.length);const n=t.indexOf(e);if(n>=0)return 700-Math.min(300,n*7);const o=e.split(" ").filter(Boolean).filter(s=>t.includes(s)).length;return o>0?500+o*40:jh(e.replace(/\s+/g,""),t.replace(/\s+/g,""))?320:0}function Eh(e,t){const n=go(e);if(!n)return 0;const r=go(t.username),o=go(t.display_name),s=Qa(n,r),l=Qa(n,o)*.85;return Math.max(s,l)}function Ch(e){const[t,n]=x.useState([]),[r,o]=x.useState([]),[s,l]=x.useState([]),[u,a]=x.useState([]),[d,v]=x.useState(!0),g=x.useRef(!1),p=x.useRef(new Set),_=x.useRef(!1),S=x.useRef(!1),y=x.useCallback(async()=>{if(_.current){S.current=!0;return}_.current=!0;try{do{S.current=!1;const{data:k,error:j}=await I.from("friendships").select("*").or(`requester_id.eq.${e},addressee_id.eq.${e}`);if(j){v(!1);continue}const P=k??[],R=Array.from(new Set(P.map(D=>D.requester_id===e?D.addressee_id:D.requester_id)));let L=[];if(R.length>0){const{data:D}=await I.from("profiles").select("*").in("id",R);L=D??[]}const Q=new Map;for(const D of L)Q.set(D.id,D);const $=[],Y=[],b=[];for(const D of P){const E=D.requester_id===e?D.addressee_id:D.requester_id,z=Q.get(E);if(!z)continue;const F={friendship:D,profile:z};D.status==="accepted"?$.push(F):D.status==="pending"&&(D.addressee_id===e?Y.push(F):b.push(F))}n($),o(Y),l(b);const U=new Set(b.map(D=>D.profile.id));if(g.current){const D=$.filter(E=>p.current.has(E.profile.id)).map(E=>({userId:E.profile.id,displayName:E.profile.display_name,username:E.profile.username}));D.length>0&&a(E=>{const z=new Set(E.map(W=>W.userId)),F=D.filter(W=>!z.has(W.userId));return F.length===0?E:[...E,...F]})}g.current=!0,p.current=U,v(!1)}while(S.current)}finally{_.current=!1}},[e]);x.useEffect(()=>{y();const k=setInterval(()=>{y()},Nh);return()=>clearInterval(k)},[y]),x.useEffect(()=>{const k=I.channel(`friendships-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"friendships",filter:`requester_id=eq.${e}`},()=>{y()}).on("postgres_changes",{event:"*",schema:"public",table:"friendships",filter:`addressee_id=eq.${e}`},()=>{y()}).subscribe();return()=>{I.removeChannel(k)}},[e,y]);const T=x.useCallback(k=>{a(j=>j.filter(P=>P.userId!==k))},[]),m=x.useCallback(()=>{a([])},[]);return{friends:t,pendingReceived:r,pendingSent:s,acceptanceNotices:u,loading:d,refresh:y,sendRequest:async k=>{if(t.find(R=>R.profile.id===k))return;const{error:P}=await I.from("friendships").insert({requester_id:e,addressee_id:k});if(P)throw P;await y()},acceptRequest:async k=>{const j=r.find(R=>R.friendship.id===k);j&&(o(R=>R.filter(L=>L.friendship.id!==k)),n(R=>R.some(L=>L.profile.id===j.profile.id)?R:[...R,{...j,friendship:{...j.friendship,status:"accepted"}}]));const{error:P}=await I.from("friendships").update({status:"accepted"}).eq("id",k);if(P)throw await y(),P;await y()},rejectRequest:async k=>{o(P=>P.filter(R=>R.friendship.id!==k));const{error:j}=await I.from("friendships").update({status:"rejected"}).eq("id",k);if(j)throw await y(),j;await y()},removeFriend:async k=>{n(P=>P.filter(R=>R.friendship.id!==k));const{error:j}=await I.from("friendships").delete().eq("id",k);if(j)throw await y(),j;await y()},searchUsers:async k=>{const j=k.trim();if(j.length<2)return[];const P=go(j).split(" ").filter(Boolean);if(P.length===0)return[];const R=Array.from(new Set(P.flatMap($=>[`username.ilike.%${$}%`,`display_name.ilike.%${$}%`])));let L=I.from("profiles").select("*").neq("id",e).limit(40);R.length>0&&(L=L.or(R.join(",")));const{data:Q}=await L;return(Q??[]).map($=>({profile:$,score:Eh(j,$)})).filter($=>$.score>0).sort(($,Y)=>Y.score-$.score||$.profile.username.localeCompare(Y.profile.username)).slice(0,10).map($=>$.profile)},dismissAcceptanceNotice:T,dismissAllAcceptanceNotices:m}}function Jt({avatarUrl:e,displayName:t="User",sizeClass:n="w-8 h-8",className:r="",iconClassName:o="text-lg"}){const[s,l]=x.useState(!1);return x.useEffect(()=>{l(!1)},[e]),i.jsx("div",{className:`${n} rounded-full overflow-hidden bg-doom-surface border border-doom-border flex items-center justify-center shrink-0 ${r}`.trim(),children:e&&!s?i.jsx("img",{src:e,alt:`${t} profile picture`,className:"w-full h-full object-cover",onError:()=>l(!0)}):i.jsx("span",{className:o,children:""})})}function bh({userId:e,onViewProfile:t,onPendingRequestsChanged:n}){const{friends:r,pendingReceived:o,pendingSent:s,acceptanceNotices:l,loading:u,sendRequest:a,acceptRequest:d,rejectRequest:v,removeFriend:g,searchUsers:p,dismissAcceptanceNotice:_}=Ch(e),[S,y]=x.useState(""),[T,m]=x.useState([]),[f,c]=x.useState(!1),[h,w]=x.useState(""),[C,k]=x.useState("friends"),[j,P]=x.useState(null);x.useEffect(()=>{n==null||n(o.length)},[n,o.length]);const R=async()=>{if(!(S.length<2)){c(!0),w("");try{const b=await p(S);m(b)}catch{w("Search failed")}finally{c(!1)}}},L=async b=>{w("");try{await a(b),m(U=>U.filter(D=>D.id!==b))}catch(U){const D=U instanceof Error?U.message:"Failed to send request";D.includes("duplicate")||D.includes("unique")?w("Already sent a request to this user"):w(D)}},Q=async b=>{w("");try{await d(b)}catch{w("Failed to accept request")}},$=async b=>{w("");try{await v(b)}catch{w("Failed to reject request")}},Y=async b=>{w(""),P(b);try{await g(b)}catch{w("Failed to remove friend")}finally{P(null)}};return u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading friends..."})}):i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"Search by username...",value:S,onChange:b=>y(b.target.value),onKeyDown:b=>b.key==="Enter"&&R(),className:`flex-1 bg-doom-surface border border-doom-border rounded-lg px-3 py-2
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`}),i.jsx("button",{onClick:R,disabled:f||S.length<2,className:"btn-primary text-xs px-3 disabled:opacity-50",children:f?"...":""})]}),h&&i.jsx("p",{className:"text-neon-pink text-xs mt-1",children:h})]}),l.length>0&&i.jsx("div",{className:"space-y-2",children:l.map(b=>i.jsxs("div",{className:"rounded-lg border border-neon-green/40 bg-neon-green/10 px-3 py-2 flex items-center justify-between gap-2",children:[i.jsxs("button",{onClick:()=>t(b.userId),className:"flex-1 text-left",children:[i.jsx("p",{className:"text-neon-green text-[11px] font-mono uppercase tracking-wider",children:"Friend request accepted"}),i.jsxs("p",{className:"text-white text-xs",children:[b.displayName," (@",b.username,") accepted your request."]})]}),i.jsx("button",{onClick:()=>_(b.userId),className:"text-doom-muted hover:text-white text-xs px-2 py-1 rounded border border-doom-border hover:border-neon-green/40 transition-colors",children:"Dismiss"})]},b.userId))}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>k("friends"),className:`rounded-lg border px-3 py-2 text-xs font-mono transition-colors ${C==="friends"?"border-neon-green/60 bg-neon-green/10 text-neon-green":"border-doom-border bg-doom-surface text-doom-muted hover:text-white"}`,children:["Friends (",r.length,")"]}),i.jsxs("button",{onClick:()=>k("requests"),className:`rounded-lg border px-3 py-2 text-xs font-mono transition-colors ${C==="requests"?"border-red-400/60 bg-red-500/10 text-red-300":"border-doom-border bg-doom-surface text-doom-muted hover:text-white"}`,children:["Requests (",o.length,")"]})]}),T.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Results"}),i.jsx("div",{className:"space-y-2",children:T.map(b=>{const U=r.some(z=>z.profile.id===b.id),D=s.some(z=>z.profile.id===b.id),E=o.some(z=>z.profile.id===b.id);return i.jsxs("div",{className:"card flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(b.id),className:"flex items-center gap-2 hover:text-neon-cyan transition-colors",children:[i.jsx(Jt,{avatarUrl:b.avatar_url,displayName:b.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-sm font-medium",children:b.display_name}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",b.username]})]})]}),U?i.jsx("span",{className:"text-neon-green text-xs",children:" Friends"}):E?i.jsx("button",{onClick:()=>k("requests"),className:"text-red-300 text-xs border border-red-400/40 rounded px-2 py-1 hover:bg-red-500/10 transition-colors",children:"Respond"}):D?i.jsx("span",{className:"text-doom-muted text-xs",children:"Requested"}):i.jsx("button",{onClick:()=>L(b.id),className:"btn-primary text-xs px-2 py-1",children:"Add"})]},b.id)})})]}),C==="friends"?i.jsxs("div",{children:[i.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Friends (",r.length,")"]}),r.length>0?i.jsx("div",{className:"space-y-2",children:r.map(({friendship:b,profile:U})=>i.jsxs("div",{className:"card flex items-center justify-between gap-2 w-full hover:border-neon-green/30 transition-colors",children:[i.jsxs("button",{onClick:()=>t(U.id),className:"flex items-center gap-3 flex-1 text-left min-w-0",children:[i.jsx(Jt,{avatarUrl:U.avatar_url,displayName:U.display_name,sizeClass:"w-9 h-9",iconClassName:"text-base"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:U.display_name}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono truncate",children:["@",U.username]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-doom-muted text-xs font-mono whitespace-nowrap",children:U.total_meters_scrolled<1e3?`${Math.round(U.total_meters_scrolled)}m`:`${(U.total_meters_scrolled/1e3).toFixed(1)}km`}),i.jsx("button",{onClick:()=>Y(b.id),disabled:j===b.id,className:"btn-danger text-[11px] px-2 py-1 disabled:opacity-60",children:j===b.id?"...":"Remove"})]})]},b.id))}):i.jsx("div",{className:"card text-center py-4",children:i.jsx("p",{className:"text-doom-muted text-xs",children:"No friends yet. Search for someone above."})})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Incoming (",o.length,")"]}),o.length>0?i.jsx("div",{className:"space-y-2",children:o.map(({friendship:b,profile:U})=>i.jsxs("div",{className:"card flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(U.id),className:"flex items-center gap-2 hover:text-neon-cyan transition-colors",children:[i.jsx(Jt,{avatarUrl:U.avatar_url,displayName:U.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-sm font-medium",children:U.display_name}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",U.username]})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>Q(b.id),className:"btn-primary text-xs px-2 py-1",children:"Accept"}),i.jsx("button",{onClick:()=>$(b.id),className:"btn-danger text-xs px-2 py-1",children:"Reject"})]})]},b.id))}):i.jsx("div",{className:"card text-center py-4",children:i.jsx("p",{className:"text-doom-muted text-xs",children:"No incoming requests."})})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Sent (",s.length,")"]}),s.length>0?i.jsx("div",{className:"space-y-2",children:s.map(({friendship:b,profile:U})=>i.jsxs("button",{onClick:()=>t(U.id),className:"card flex items-center justify-between w-full text-left hover:border-neon-cyan/30 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jt,{avatarUrl:U.avatar_url,displayName:U.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-sm font-medium",children:U.display_name}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",U.username]})]})]}),i.jsx("span",{className:"text-doom-muted text-xs font-mono",children:"Pending"})]},b.id))}):i.jsx("div",{className:"card text-center py-4",children:i.jsx("p",{className:"text-doom-muted text-xs",children:"No pending sent requests."})})]})]})]})}const Rh=2*60*1e3,Th=2*60*1e3;function Mh({userId:e,onViewProfile:t}){const[n,r]=x.useState("world"),[o,s]=x.useState([]),[l,u]=x.useState(null),[a,d]=x.useState(!0),[v,g]=x.useState(null),p=`cached_leaderboard_${n}_${e}`,_=x.useCallback(async()=>{try{const{data:j,error:P}=await I.from("leaderboard_world").select("*").order("rank",{ascending:!0}).limit(50);if(!P&&j){const R=j??[],L=R.find(Q=>Q.user_id===e);if(L)return{entries:R,myRank:L};try{const{data:Q,error:$}=await I.from("leaderboard_world").select("*").eq("user_id",e).maybeSingle();if(!$&&Q)return{entries:R,myRank:Q}}catch{}}}catch{}const{data:y,error:T}=await I.from("profiles").select("id, username, display_name, avatar_url, total_meters_scrolled").order("total_meters_scrolled",{ascending:!1}).limit(50);if(T)throw T;const m=Ya(y??[]),f=m.find(j=>j.user_id===e);if(f)return{entries:m,myRank:f};const{data:c,error:h}=await I.from("profiles").select("id, username, display_name, avatar_url, total_meters_scrolled").eq("id",e).single();if(h||!c)return{entries:m,myRank:null};const w=Number(c.total_meters_scrolled??0),{count:C,error:k}=await I.from("profiles").select("id",{count:"exact",head:!0}).gt("total_meters_scrolled",w);if(k)throw k;return{entries:m,myRank:{user_id:c.id,username:c.username,display_name:c.display_name,avatar_url:c.avatar_url,total_meters:w,rank:(C??0)+1}}},[e]),S=x.useCallback(async()=>{const{data:y,error:T}=await I.from("friendships").select("requester_id, addressee_id").or(`requester_id.eq.${e},addressee_id.eq.${e}`).eq("status","accepted");if(T)throw T;const m=new Set([e]);for(const w of y??[])m.add(w.requester_id===e?w.addressee_id:w.requester_id);const{data:f,error:c}=await I.from("profiles").select("id, username, display_name, avatar_url, total_meters_scrolled").in("id",[...m]).order("total_meters_scrolled",{ascending:!1});if(c)throw c;const h=Ya(f??[]);return{entries:h,myRank:h.find(w=>w.user_id===e)??null}},[e]);return x.useEffect(()=>{let y=!0,T=!1;const m=setTimeout(()=>{y&&(d(!1),g(k=>k??"Leaderboard request timed out"))},8e3);async function f(){const j=(await chrome.storage.local.get(p))[p];j&&(Date.now()-j.updatedAt>Th||y&&(T=!0,s(j.entries),u(j.myRank),d(!1)))}async function c(k){const j={...k,updatedAt:Date.now()};await chrome.storage.local.set({[p]:j})}async function h(){g(null);try{const k=n==="world"?await _():await S();if(!y)return;s(k.entries),u(k.myRank),d(!1),g(null),clearTimeout(m),c(k)}catch(k){if(!y)return;T||(s([]),u(null)),g(k instanceof Error?k.message:"Failed to load leaderboard"),d(!1),clearTimeout(m)}}async function w(){d(!0),await f(),y&&await h()}w();const C=setInterval(()=>{h()},Rh);return()=>{y=!1,clearInterval(C),clearTimeout(m)}},[p,S,_,n]),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("div",{className:"flex gap-2",children:["world","friends"].map(y=>i.jsx("button",{onClick:()=>r(y),className:`flex-1 py-2 rounded-lg text-sm font-mono font-medium transition-all
              ${n===y?"bg-neon-green/10 text-neon-green border border-neon-green/30":"bg-doom-surface text-doom-muted border border-doom-border hover:text-white"}`,children:i.jsxs("span",{className:"inline-flex items-center gap-2",children:[y==="world"?i.jsx(Lh,{className:"w-4 h-4"}):i.jsx(zh,{className:"w-4 h-4"}),i.jsx("span",{children:y==="world"?"World":"Friends"})]})},y))}),v&&i.jsxs("div",{className:"card border-neon-pink/30 text-neon-pink text-xs",children:["Failed to load leaderboard: ",v]}),l&&i.jsx("div",{className:"card neon-border",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"text-lg font-bold font-mono neon-text-green",children:["#",l.rank]}),i.jsx(Jt,{avatarUrl:l.avatar_url,displayName:l.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:"You"}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",l.username]})]}),i.jsx("span",{className:"text-sm font-mono font-bold neon-text-green",children:Ka(l.total_meters)})]})}),a?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading..."})}):o.length===0?i.jsx("div",{className:"card text-center py-4",children:i.jsx("p",{className:"text-doom-muted text-xs",children:n==="world"?"No scrollers yet. Be the first!":"Add some friends to see their ranking here."})}):i.jsx("div",{className:"space-y-1",children:o.map(y=>i.jsxs("button",{onClick:()=>t(y.user_id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all
                ${y.user_id===e?"bg-neon-green/5 border border-neon-green/20":"hover:bg-doom-surface"}`,children:[i.jsx("span",{className:"w-8 flex justify-center",children:i.jsx(Ph,{rank:y.rank})}),i.jsx(Jt,{avatarUrl:y.avatar_url,displayName:y.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsxs("p",{className:"text-sm",children:[y.display_name,y.user_id===e&&i.jsx("span",{className:"text-neon-green text-xs ml-1",children:"(you)"})]}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",y.username]})]}),i.jsx("span",{className:"text-xs font-mono text-doom-muted",children:Ka(y.total_meters)})]},y.user_id))})]})}function Ka(e){return e<1e3?`${Math.round(e)}m`:`${(e/1e3).toFixed(1)}km`}function Ya(e){let t=null,n=0;return e.map((r,o)=>{const s=Number(r.total_meters_scrolled??0);let l=n;return(t===null||s<t)&&(l=o+1,n=l,t=s),{user_id:r.id,username:r.username,display_name:r.display_name,avatar_url:r.avatar_url,total_meters:s,rank:l}})}function Ph({rank:e}){return e===1?i.jsx("span",{className:"w-6 h-6 rounded-full bg-yellow-400 text-black text-xs font-bold font-mono flex items-center justify-center",children:"1"}):e===2?i.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-300 text-black text-xs font-bold font-mono flex items-center justify-center",children:"2"}):e===3?i.jsx("span",{className:"w-6 h-6 rounded-full bg-amber-600 text-black text-xs font-bold font-mono flex items-center justify-center",children:"3"}):i.jsxs("span",{className:"font-mono text-sm text-doom-muted",children:["#",e]})}function Lh({className:e}){return i.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M2 12h20"}),i.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10Z"})]})}function zh({className:e}){return i.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function Fh({profile:e,onSignOut:t,onProfileUpdated:n}){const[r,o]=x.useState(e.is_public),[s,l]=x.useState(e.display_name),[u,a]=x.useState(!1),[d,v]=x.useState(""),g=async()=>{a(!0),v("");const{error:_}=await I.from("profiles").update({is_public:r,display_name:s}).eq("id",e.id);_?v("Failed to save"):(v("Saved!"),n()),a(!1),setTimeout(()=>v(""),2e3)},p=r!==e.is_public||s!==e.display_name;return i.jsxs("div",{className:"flex flex-col gap-5",children:[i.jsx("h2",{className:"text-sm font-mono font-bold text-doom-muted uppercase tracking-wider",children:"Settings"}),i.jsxs("div",{children:[i.jsx("label",{className:"text-doom-muted text-xs font-mono block mb-1",children:"Display Name"}),i.jsx("input",{type:"text",value:s,onChange:_=>l(_.target.value),className:`w-full bg-doom-surface border border-doom-border rounded-lg px-3 py-2
                     text-white text-sm focus:outline-none focus:border-neon-green/50 transition-colors`})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-doom-muted text-xs font-mono block mb-1",children:"Username"}),i.jsxs("div",{className:"bg-doom-surface border border-doom-border rounded-lg px-3 py-2 text-doom-muted text-sm",children:["@",e.username]})]}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Public Profile"}),i.jsx("p",{className:"text-doom-muted text-xs mt-0.5",children:r?"Anyone can see your profile and stats":"Only friends can see your profile"})]}),i.jsx("button",{onClick:()=>o(!r),className:`w-12 h-6 rounded-full transition-all duration-200 relative
              ${r?"bg-neon-green/30":"bg-doom-border"}`,children:i.jsx("div",{className:`w-5 h-5 rounded-full absolute top-0.5 transition-all duration-200
                ${r?"left-6 bg-neon-green shadow-neon-green":"left-0.5 bg-doom-muted"}`})})]})}),p&&i.jsx("button",{onClick:g,disabled:u,className:"btn-primary py-2 text-sm font-bold disabled:opacity-50",children:u?"Saving...":"Save Changes"}),d&&i.jsx("p",{className:`text-xs text-center ${d==="Saved!"?"text-neon-green":"text-neon-pink"}`,children:d}),i.jsx("div",{className:"mt-4 pt-4 border-t border-doom-border",children:i.jsx("button",{onClick:t,className:"btn-danger w-full py-2 text-sm",children:"Sign Out"})}),i.jsx("p",{className:"text-doom-muted text-[10px] text-center font-mono",children:"DoomScroller v1.0.0"})]})}const Ah="https://aknzrsgymehrixfwqefq.supabase.co",Ih="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrbnpyc2d5bWVocml4ZndxZWZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMjUyODgsImV4cCI6MjA4NjYwMTI4OH0.ESpNDYKwlK72Ebj19yk5qoUDtOr3PY_rQ5dQSelwZL8",xo=['Your rank is somewhere between "needs help" and "thumb athlete." Keep scrolling and you will definitely move in one direction.',"You asked for focus advice from a doomscroll bot. Respectfully, close this tab and touch your textbook for 20 minutes.","AI roast service is taking a break, but your scrolling never does. Consider a hydration break before your thumb asks for overtime pay."];function Oh(e){const t=e.trim().toLowerCase();return t.includes("rank")?xo[0]:t.includes("study")||t.includes("focus")?xo[1]:xo[2]}function Dh(e){return xo.some(t=>e.trim()===t)}function zs(e,t){return{id:`tmp_${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,user_id:"local",role:e,content:t,created_at:new Date().toISOString()}}function bd(e){if(!e)return"";if(typeof e=="string")return e;if(e instanceof Error)return e.message||"";try{return JSON.stringify(e)}catch{return String(e)}}function Rd(e){if(e instanceof Td)return e.status;if(!e||typeof e!="object")return null;const t=e.context,n=typeof(t==null?void 0:t.status)=="number"?t.status:Number(t==null?void 0:t.status);return Number.isFinite(n)?n:null}function Uh(e){const t=Rd(e);if(t===401||t===403)return"Session expired. Please sign out and sign in again.";if(t&&t>=500)return`Chat service error (${t}). Please try again.`;if(t&&t>=400)return`Request failed (${t}).`;const n=bd(e)||"Unknown error",r=n.toLowerCase();return r.includes("failed to fetch")||r.includes("networkerror")?"Cannot reach AI service. Network may be blocking Supabase.":r.includes("401")||r.includes("jwt")||r.includes("unauthorized")?"Session expired. Please sign out and sign in again.":n}function Xa(e){const t=Rd(e);if(t===401||t===403)return!0;const r=bd(e).toLowerCase();return r.includes("401")||r.includes("jwt")||r.includes("unauthorized")}class Td extends Error{constructor(n,r){super(r);Ei(this,"status");this.name="ChatbotHttpError",this.status=n}}async function Ga(e,t){const n=await fetch(`${Ah}/functions/v1/chatbot`,{method:"POST",headers:{"content-type":"application/json",apikey:Ih,Authorization:`Bearer ${t}`,"x-ds-token":t},body:JSON.stringify({message:e})});let r=null;try{r=await n.json()}catch{}if(!n.ok){const o=r&&typeof r=="object"&&"error"in r?String(r.error??""):"";throw new Td(n.status,o||`Edge function failed (${n.status})`)}return r??{}}function $h(e){const[t,n]=x.useState([]),[r,o]=x.useState(!0),[s,l]=x.useState(!1),[u,a]=x.useState(null),[d,v]=x.useState(null),g=x.useRef(!1),p=x.useCallback(async()=>{const{data:T,error:m}=await I.from("chat_messages").select("id, user_id, role, content, created_at").eq("user_id",e).order("created_at",{ascending:!0}).limit(60);if(m){o(!1);return}const f=(T??[]).filter(c=>!(c.role==="assistant"&&Dh(c.content)));n(c=>{const h=c.filter(k=>k.id.startsWith("tmp_"));if(h.length===0)return f;const w=new Set(f.map(k=>`${k.role}:${k.content}`)),C=h.filter(k=>!w.has(`${k.role}:${k.content}`));return[...f,...C]}),o(!1)},[e]);x.useEffect(()=>{o(!0),p()},[p]);const _=x.useCallback(async()=>{var h;const{data:{session:T},error:m}=await I.auth.getSession();if(m)throw m;if(!(T!=null&&T.access_token))throw new Error("Session expired. Please sign in again.");const f=T.expires_at,c=Math.floor(Date.now()/1e3);if(f&&f-c>60)return T.access_token;try{const{data:w}=await I.auth.refreshSession();if((h=w.session)!=null&&h.access_token)return w.session.access_token}catch{console.warn("[DoomScroller] Session refresh failed, using existing token")}return T.access_token},[]),S=x.useCallback(async T=>{var f;const m=await _();try{return await Ga(T,m)}catch(c){if(!Xa(c))throw c;try{const h=await I.auth.refreshSession();if(h.error||!((f=h.data.session)!=null&&f.access_token))throw c;return await Ga(T,h.data.session.access_token)}catch(h){throw Xa(h)?h:c}}},[_]),y=x.useCallback(async T=>{const m=T.trim();if(!m||g.current)return;g.current=!0,l(!0),a(null);const f=zs("user",m);n(c=>[...c,f]);try{const c=await S(m),h=typeof c.reply=="string"?c.reply.trim():"";if(!h)throw new Error("Empty AI response");n(w=>[...w,zs("assistant",h)]),v(c.context??null),setTimeout(()=>{p()},1500)}catch(c){const h=Oh(m);n(C=>[...C,zs("assistant",h)]);const w=Uh(c);a(`AI service unavailable. ${w||"Showing fallback roast."}`),console.error("[DoomScroller] Chat invoke failed:",c)}finally{g.current=!1,l(!1)}},[S,p,e]);return{messages:t,loading:r,sending:s,error:u,context:d,refresh:p,sendMessage:y,clearError:()=>a(null)}}function Bh(e){const t=e.trim();if(!t)return null;const n=t[0];if(n!=='"'&&n!=="'")return null;let r=-1;const o=Math.min(t.length,180);for(let u=1;u<o;u+=1)if(t[u]===n){r=u;break}if(r<=1)return null;const s=t.slice(1,r).trim();if(!s||s.length>120)return null;let l=t.slice(r+1).trimStart();return l=l.replace(/^,?\s*(?:again,?\s*)?(?:@[a-z0-9_]{2,30}|[a-z0-9_]{2,30})\??[,:]?\s*/i,""),l=l.replace(/^[,:-]\s*/,""),{quotedUserText:s,reply:l}}function Hh({userId:e}){const{messages:t,loading:n,sending:r,error:o,context:s,sendMessage:l,clearError:u}=$h(e),[a,d]=x.useState(""),v=x.useRef(null);x.useEffect(()=>{var p;(p=v.current)==null||p.scrollIntoView({behavior:"smooth",block:"end"})},[t.length,r]);const g=async p=>{p.preventDefault();const _=a.trim();!_||r||(d(""),await l(_))};return i.jsxs("div",{className:"flex flex-col gap-3 h-full min-h-[460px]",children:[i.jsxs("div",{className:"card py-3",children:[i.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-1",children:"AI Chat"}),i.jsx("p",{className:"text-doom-muted text-xs leading-relaxed",children:"Ask for roasts, patterns, or how cooked am I today? and the bot answers using your own doomscroll data."}),s&&i.jsxs("p",{className:"text-[10px] text-doom-muted font-mono mt-2",children:[s.rank?`Rank #${s.rank}`:"Rank unavailable",typeof s.percentile=="number"?`  ${s.percentile}% percentile`:"",s.topSite?`  Top app: ${s.topSite}`:""]})]}),o&&i.jsxs("div",{className:"card border-neon-pink/40 bg-neon-pink/10 text-neon-pink text-xs font-mono flex items-center justify-between gap-2",children:[i.jsx("span",{children:o}),i.jsx("button",{className:"px-2 py-1 rounded border border-neon-pink/40 hover:bg-neon-pink/20",onClick:u,children:"Dismiss"})]}),i.jsxs("div",{className:"card flex-1 overflow-y-auto space-y-2",children:[n?i.jsx("p",{className:"text-doom-muted text-xs font-mono animate-pulse",children:"Loading messages..."}):t.length===0?i.jsx("p",{className:"text-doom-muted text-xs",children:"No messages yet. Ask the bot what your worst scrolling habit is."}):t.map(p=>{const _=p.role==="assistant"?Bh(p.content):null;return i.jsx("div",{className:`max-w-[88%] px-3 py-2 rounded-lg text-xs leading-relaxed ${p.role==="user"?"ml-auto bg-neon-green/12 border border-neon-green/35 text-neon-green":"mr-auto bg-doom-surface border border-doom-border text-white"}`,children:_?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"rounded-md border border-neon-cyan/30 bg-neon-cyan/10 px-2 py-1",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-neon-cyan/90 font-mono",children:"You said"}),i.jsxs("p",{className:"text-[11px] italic text-neon-cyan/95",children:['"',_.quotedUserText,'"']})]}),_.reply&&i.jsx("p",{children:_.reply})]}):p.content},p.id)}),r&&i.jsx("div",{className:"mr-auto bg-doom-surface border border-doom-border text-doom-muted text-xs px-3 py-2 rounded-lg animate-pulse",children:"Cooking a roast..."}),i.jsx("div",{ref:v})]}),i.jsx("form",{className:"card !p-2",onSubmit:g,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{value:a,onChange:p=>d(p.target.value),placeholder:"Ask AI chat...",className:"flex-1 bg-doom-surface border border-doom-border rounded-md px-3 py-2 text-sm focus:outline-none focus:border-neon-green",maxLength:400,disabled:r}),i.jsx("button",{type:"submit",disabled:r||a.trim().length===0,className:"btn-primary text-xs px-3 py-2 disabled:opacity-50",children:"Send"})]})})]})}const Za=4,Vh=120,Wh=[10,20,60,120,180,300],fr=6,Ja="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",qh=120,Qh=1200,eu=8,Kh="battle_result_seen_",Fs=!1,Md=[{id:"scroll_sprint",title:"Scroll Sprint",subtitle:"Pure speed",details:"Highest distance in the round wins."},{id:"target_chase",title:"Target Chase",subtitle:"Precision mode",details:"Closest to the target distance wins."}],Yh={scroll_sprint:["Scroll as much as possible before timer ends.","Highest distance wins the pot.","Tie splits coins evenly."],target_chase:["Try to finish closest to the target distance.","Overshoot and undershoot both count.","Closest distance wins."]};function tu(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,fr)}function Xh(){let e="";for(let t=0;t<fr;t+=1)e+=Ja[Math.floor(Math.random()*Ja.length)];return e}function nu(e){return e<60?`${e}s`:e%60===0?`${e/60}m`:`${Math.floor(e/60)}m ${e%60}s`}function ru(e,t){const n=Math.max(0,Math.floor(t)),r=Number.isFinite(e)?Math.floor(e):0;return Math.min(n,Math.max(0,r))}function ou(e){if(!e)return"Not selected";const t=Md.find(n=>n.id===e);return(t==null?void 0:t.title)??e}function Gh(e){if(!e||typeof e!="object")return null;const t=e,n=typeof t.settledAt=="string"?t.settledAt:null,r=Number(t.pot),o=Number(t.betCoins),s=Array.isArray(t.winnerIds)?t.winnerIds:[],l=t.payouts&&typeof t.payouts=="object"?t.payouts:{},u=t.scores&&typeof t.scores=="object"?t.scores:{},a=t.offBy&&typeof t.offBy=="object"?t.offBy:{},d=Number(t.targetMeters);if(!n||!Number.isFinite(r)||!Number.isFinite(o))return null;const v=s.filter(S=>typeof S=="string"),g={};for(const[S,y]of Object.entries(l)){const T=Number(y);Number.isFinite(T)&&(g[S]=T)}const p={};for(const[S,y]of Object.entries(u)){const T=Number(y);Number.isFinite(T)&&(p[S]=T)}const _={};for(const[S,y]of Object.entries(a)){const T=Number(y);Number.isFinite(T)&&(_[S]=T)}return{settledAt:n,pot:Math.max(0,Math.floor(r)),betCoins:Math.max(0,Math.floor(o)),winnerIds:v,payouts:g,scores:p,targetMeters:Number.isFinite(d)?d:null,offBy:Object.keys(_).length>0?_:null}}function mn(e){return Number.isFinite(e)?e<1e3?`${e.toFixed(1)}m`:`${(e/1e3).toFixed(2)}km`:"0m"}function Zh(e,t){return`${Kh}${e}_${t}`}function ae(e){return e?e.code==="42P01"?"Battle tables are not deployed yet. Run latest migration.":e.code==="23505"?"Duplicate value conflict. Try again.":e.code==="42501"?"Permission denied by database policy.":e.message||"Unexpected database error":"Unexpected database error"}function Jh(e){return[...e].sort((t,n)=>new Date(t.joinedAt).getTime()-new Date(n.joinedAt).getTime())}function e0({userId:e,username:t,displayName:n,avatarUrl:r,availableCoins:o,onWalletSync:s}){const[l,u]=x.useState(""),[a,d]=x.useState(null),[v,g]=x.useState([]),[p,_]=x.useState(!0),[S,y]=x.useState(!1),[T,m]=x.useState(!1),[f,c]=x.useState(null),[h,w]=x.useState(null),[C,k]=x.useState(!1),[j,P]=x.useState(()=>Date.now()),[R,L]=x.useState(null),Q=x.useRef(null),$=x.useRef(null),Y=x.useRef(!1),b=x.useRef(!1),U=x.useRef(null),D=x.useRef(null),E=!!(a&&a.host_id===e),z=(a==null?void 0:a.max_players)??Za,F=x.useMemo(()=>Jh(v),[v]),W=F.length>=z,Z=E&&(a==null?void 0:a.status)==="lobby"&&F.length>=2,re=a!=null&&a.selected_game_type?Yh[a.selected_game_type]:[],H=Gh((a==null?void 0:a.round_result)??null),Ye=x.useMemo(()=>{const N={};for(const O of F)N[O.userId]=O.displayName;return N},[F]),Ne=a!=null&&a.round_started_at?new Date(a.round_started_at).getTime():null,$e=a!=null&&a.round_ends_at?new Date(a.round_ends_at).getTime():null,Pd=(a==null?void 0:a.status)==="active"&&Ne!=null&&j<Ne,Ld=(a==null?void 0:a.status)==="active"&&Ne!=null&&$e!=null&&j>=Ne&&j<$e,ss=(a==null?void 0:a.status)==="active"&&$e!=null&&j>=$e,Ni=x.useMemo(()=>{if(!(a!=null&&a.selected_game_type))return[];const N=Number(a.round_target_meters??0),O=a.selected_game_type==="target_chase",B=[...F].map(q=>{const G=Math.max(0,Number(q.totalMeters)-Number(q.roundStartMeters));return{userId:q.userId,score:G,offBy:O?Math.abs(G-N):null}});return O?B.sort((q,G)=>{const me=q.offBy??Number.POSITIVE_INFINITY,ge=G.offBy??Number.POSITIVE_INFINITY;return me!==ge?me-ge:G.score-q.score}):B.sort((q,G)=>G.score-q.score)},[F,a==null?void 0:a.round_target_meters,a==null?void 0:a.selected_game_type]),ot=x.useCallback(()=>{d(null),g([])},[]),St=x.useCallback(async N=>{const{data:O,error:B}=await I.from("battle_rooms").select("*").eq("id",N).maybeSingle();if(B)throw new Error(ae(B));if(!O){ot();return}const q=O;if(q.status==="closed"){ot(),w("Battle room is closed.");return}const{data:G,error:me}=await I.from("battle_room_members").select("status").eq("room_id",N).eq("user_id",e).maybeSingle();if(me)throw new Error(ae(me));const ge=(G==null?void 0:G.status)??null;if(ge==="kicked"){ot(),c("You were kicked from this room by the host.");return}if(ge!=="joined"){ot();return}const{data:dt,error:st}=await I.from("battle_room_members").select("*").eq("room_id",N).eq("status","joined").order("joined_at",{ascending:!0});if(st)throw new Error(ae(st));const is=dt??[],Ar=is.map(Xe=>Xe.user_id);let Bn=new Map;if(Ar.length>0){const{data:Xe,error:je}=await I.from("profiles").select("id, username, display_name, avatar_url, total_meters_scrolled").in("id",Ar);if(je)throw new Error(ae(je));for(const ft of Xe??[])Bn.set(ft.id,{username:ft.username??"user",display_name:ft.display_name??"User",avatar_url:ft.avatar_url??null,total_meters_scrolled:Number(ft.total_meters_scrolled??0)})}const Bd=is.map(Xe=>{const je=Bn.get(Xe.user_id),ft=Xe.user_id===e;return{userId:Xe.user_id,username:(je==null?void 0:je.username)??(ft?t:"user"),displayName:(je==null?void 0:je.display_name)??(ft?n:"User"),avatarUrl:(je==null?void 0:je.avatar_url)??(ft?r:null),joinedAt:Xe.joined_at,role:Xe.role,totalMeters:Number((je==null?void 0:je.total_meters_scrolled)??0),roundStartMeters:Number(Xe.round_start_meters??0),roundScoreMeters:Number(Xe.round_score_meters??0)}});d(q),g(Bd)},[r,ot,n,e,t]),Be=x.useCallback(async N=>{if(Y.current){b.current=!0;return}Y.current=!0;try{do b.current=!1,await St(N);while(b.current)}finally{Y.current=!1}},[St]),Fr=x.useCallback(N=>{Q.current!=null&&window.clearTimeout(Q.current),Q.current=window.setTimeout(()=>{Q.current=null,Be(N)},qh)},[Be]),Nt=x.useCallback(N=>{$.current&&(I.removeChannel($.current),$.current=null);const O=I.channel(`battle-room-db:${N}`).on("postgres_changes",{event:"*",schema:"public",table:"battle_rooms",filter:`id=eq.${N}`},()=>{Fr(N)}).on("postgres_changes",{event:"*",schema:"public",table:"battle_room_members",filter:`room_id=eq.${N}`},()=>{Fr(N)}).subscribe(B=>{B==="SUBSCRIBED"&&Fr(N)});$.current=O},[Fr]),ji=x.useCallback(async()=>{_(!0),c(null),w(null);try{const{data:N,error:O}=await I.from("battle_room_members").select("room_id, joined_at").eq("user_id",e).eq("status","joined").order("joined_at",{ascending:!1}).limit(1).maybeSingle();if(O)throw new Error(ae(O));if(!(N!=null&&N.room_id)){ot();return}const B=N.room_id;await St(B),Nt(B)}catch(N){const O=N instanceof Error?N.message:"Failed to load battle room";c(O),ot()}finally{_(!1)}},[ot,St,Nt,e]);x.useEffect(()=>(ji(),()=>{Q.current!=null&&(window.clearTimeout(Q.current),Q.current=null),$.current&&(I.removeChannel($.current),$.current=null)}),[ji]),x.useEffect(()=>{a!=null&&a.id&&Nt(a.id)},[a==null?void 0:a.id,Nt]),x.useEffect(()=>{if(!(a!=null&&a.id))return;const N=a.id,O=window.setInterval(()=>{Be(N)},Qh);return()=>{window.clearInterval(O)}},[Be,a==null?void 0:a.id]),x.useEffect(()=>{if((a==null?void 0:a.status)!=="active")return;const N=window.setInterval(()=>{P(Date.now())},250);return()=>{window.clearInterval(N)}},[a==null?void 0:a.status]),x.useEffect(()=>{if(!H||!(a!=null&&a.id))return;const N=`${a.id}:${H.settledAt}`;if(D.current===N)return;const O=Zh(e,a.id);let B=!1;return(async()=>{try{const q=await chrome.storage.local.get(O);if(B||(typeof q[O]=="string"?q[O]:null)===N)return}catch{}if(!B){D.current=N,s==null||s(),L(null);try{await chrome.storage.local.set({[O]:N})}catch{}}})(),()=>{B=!0}},[H,s,a==null?void 0:a.id,e]);const zd=x.useCallback(async()=>{y(!0),c(null),w(null);try{let N=null;for(let B=0;B<8;B+=1){const q=Xh(),{data:G,error:me}=await I.from("battle_rooms").insert({room_key:q,host_id:e,created_by:e,status:"lobby",bet_coins:ru(Math.min(10,o),o),timer_seconds:Vh,selected_game_type:null,max_players:Za}).select("*").single();if(!me){N=G;break}if(me.code!=="23505")throw new Error(ae(me))}if(!N)throw new Error("Could not generate a unique room key.");const{error:O}=await I.from("battle_room_members").upsert({room_id:N.id,user_id:e,role:"host",status:"joined",left_at:null},{onConflict:"room_id,user_id"});if(O)throw new Error(ae(O));u(N.room_key),d(N),await St(N.id),Nt(N.id),w("Room created. Share key with friends.")}catch(N){const O=N instanceof Error?N.message:"Failed to create room";c(O)}finally{y(!1)}},[o,St,Nt,e]),Fd=x.useCallback(async()=>{const N=tu(l);if(N.length!==fr){c(`Enter a ${fr}-character room key.`);return}y(!0),c(null),w(null);try{const{data:O,error:B}=await I.from("battle_rooms").select("*").eq("room_key",N).maybeSingle();if(B)throw new Error(ae(B));if(!O)throw new Error("Room not found.");const q=O;if(q.status==="closed")throw new Error("Room is closed.");const{data:G,error:me}=await I.from("battle_room_members").select("*").eq("room_id",q.id).eq("user_id",e).maybeSingle();if(me)throw new Error(ae(me));if((G==null?void 0:G.status)==="kicked")throw new Error("You were kicked from this room and cannot rejoin.");const{data:ge,error:dt}=await I.from("battle_room_members").select("user_id").eq("room_id",q.id).eq("status","joined");if(dt)throw new Error(ae(dt));const st=(ge==null?void 0:ge.length)??0;if(!((G==null?void 0:G.status)==="joined")&&st>=q.max_players)throw new Error(`Room is full (${q.max_players} players max).`);const Ar=q.host_id===e?"host":"player",{error:Bn}=await I.from("battle_room_members").upsert({room_id:q.id,user_id:e,role:Ar,status:"joined",left_at:null},{onConflict:"room_id,user_id"});if(Bn)throw new Error(ae(Bn));await St(q.id),Nt(q.id),w("Joined room. Waiting for host.")}catch(O){const B=O instanceof Error?O.message:"Failed to join room";c(B)}finally{y(!1)}},[St,l,Nt,e]),Ad=x.useCallback(async()=>{var N;if(a){m(!0),c(null);try{if(a.host_id===e){const{data:q,error:G}=await I.from("battle_room_members").select("user_id").eq("room_id",a.id).eq("status","joined").neq("user_id",e).order("joined_at",{ascending:!0}).limit(1);if(G)throw new Error(ae(G));const me=(N=q==null?void 0:q[0])==null?void 0:N.user_id;if(me){const{error:ge}=await I.from("battle_room_members").update({role:"player"}).eq("room_id",a.id);if(ge)throw new Error(ae(ge));const{error:dt}=await I.from("battle_room_members").update({role:"host"}).eq("room_id",a.id).eq("user_id",me);if(dt)throw new Error(ae(dt));const{error:st}=await I.from("battle_rooms").update({host_id:me}).eq("id",a.id);if(st)throw new Error(ae(st))}else{const{error:ge}=await I.from("battle_rooms").update({status:"closed"}).eq("id",a.id);if(ge)throw new Error(ae(ge))}}const{error:B}=await I.from("battle_room_members").update({status:"left",left_at:new Date().toISOString(),role:"player"}).eq("room_id",a.id).eq("user_id",e);if(B)throw new Error(ae(B));ot(),w("You left the room.")}catch(O){const B=O instanceof Error?O.message:"Failed to leave room";c(B)}finally{m(!1)}}},[ot,a,e]),Id=x.useCallback(async N=>{if(!(!a||!E||N===e)){m(!0),c(null);try{const{error:O}=await I.from("battle_room_members").update({status:"kicked",left_at:new Date().toISOString(),role:"player"}).eq("room_id",a.id).eq("user_id",N);if(O)throw new Error(ae(O));w("Player removed from room."),await Be(a.id)}catch(O){const B=O instanceof Error?O.message:"Failed to kick player";c(B)}finally{m(!1)}}},[E,Be,a,e]),cn=x.useCallback(async N=>{if(!(!a||!E)){m(!0),c(null);try{const O=N.bet_coins??a.bet_coins,B=N.timer_seconds??a.timer_seconds,q=Object.prototype.hasOwnProperty.call(N,"selected_game_type")?N.selected_game_type:a.selected_game_type,G=N.status??a.status,me=Object.prototype.hasOwnProperty.call(N,"round_started_at")?N.round_started_at:a.round_started_at,ge=Object.prototype.hasOwnProperty.call(N,"round_ends_at")?N.round_ends_at:a.round_ends_at,dt=Object.prototype.hasOwnProperty.call(N,"round_target_meters")?N.round_target_meters:a.round_target_meters,{error:st}=await I.from("battle_rooms").update({bet_coins:O,timer_seconds:B,selected_game_type:q,status:G,round_started_at:me,round_ends_at:ge,round_target_meters:dt}).eq("id",a.id);if(st)throw new Error(ae(st));await Be(a.id)}catch(O){const B=O instanceof Error?O.message:"Failed to update room";c(B)}finally{m(!1)}}},[E,Be,a]),Od=async()=>{if(a!=null&&a.room_key)try{await navigator.clipboard.writeText(a.room_key),k(!0),window.setTimeout(()=>k(!1),1200)}catch{c("Could not copy key. Copy manually.")}},Dd=x.useCallback(async()=>{if(!(!a||!E)){if(!a.selected_game_type){c("Host must select a game type first.");return}m(!0),c(null);try{const{error:N}=await I.rpc("start_battle_round",{p_room_id:a.id,p_prestart_seconds:eu});if(N)throw new Error(ae(N));await Be(a.id),w(`Round starts in ${eu}s. Read rules before go time.`)}catch(N){const O=N instanceof Error?N.message:"Failed to start round";c(O)}finally{m(!1)}}},[E,Be,a]),Ud=x.useCallback(async()=>{!a||!E||await cn({status:"game_select",round_started_at:null,round_ends_at:null,round_target_meters:null})},[E,a,cn]),ls=x.useCallback(async()=>{if(!(!a||!E)){m(!0),c(null);try{const{error:N}=await I.rpc("finalize_battle_round",{p_room_id:a.id});if(N)throw new Error(ae(N));await Be(a.id),w("Round settled. Coins moved.")}catch(N){const O=N instanceof Error?N.message:"Failed to finalize round";c(O),U.current=null}finally{m(!1)}}},[E,Be,a]);if(x.useEffect(()=>{if(!a||!E||!ss)return;const N=`${a.id}:${a.round_ends_at??""}`;U.current!==N&&(U.current=N,ls())},[ls,E,ss,a]),p)return i.jsx("div",{className:"card text-center py-8",children:i.jsx("p",{className:"text-doom-muted text-sm font-mono animate-pulse",children:"Loading battle room..."})});const $d=!a;return R&&R.winnerIds.includes(e),Math.floor(Number((R==null?void 0:R.payouts[e])??0)),i.jsxs("div",{className:"relative flex flex-col gap-4",children:[$d?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"card",children:[i.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-2",children:"Create battle room"}),i.jsx("p",{className:"text-doom-muted text-xs mb-3",children:"Host creates a key, players join, host starts, then picks game mode."}),i.jsx("button",{onClick:()=>{zd()},className:"btn-primary w-full text-sm",disabled:S,children:S?"Creating...":"Create Room"})]}),i.jsxs("div",{className:"card",children:[i.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Join with key"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:l,onChange:N=>u(tu(N.target.value)),placeholder:"Room key",maxLength:fr,className:"flex-1 bg-doom-surface border border-doom-border rounded-md px-3 py-2 text-sm tracking-[0.24em] uppercase focus:outline-none focus:border-neon-green/50"}),i.jsx("button",{onClick:()=>{Fd()},className:"btn-primary text-xs px-3 disabled:opacity-50",disabled:S,children:"Join"})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"card",children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider",children:["Room ",a.room_key]}),i.jsxs("p",{className:"text-doom-muted text-xs",children:[E?"You are host":"You are player","  ",F.length,"/",z," players"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:Od,className:"px-2 py-1 text-[11px] rounded-md border border-doom-border text-doom-muted hover:text-white hover:border-neon-green/40",children:C?"Copied":"Copy key"}),i.jsx("button",{onClick:()=>{Ad()},className:"btn-danger text-[11px] px-2 py-1 disabled:opacity-60",disabled:T,children:"Leave"})]})]})}),i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider",children:"Lobby players"}),i.jsx("p",{className:"text-doom-muted text-[11px]",children:W?"Room full":`${z-F.length} slots open`})]}),i.jsx("div",{className:"space-y-2",children:F.map(N=>{const O=N.userId===e,B=N.userId===a.host_id;return i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-doom-border bg-doom-bg/40 px-2.5 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Jt,{avatarUrl:N.avatarUrl,displayName:N.displayName,sizeClass:"w-8 h-8",iconClassName:"text-base"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm truncate",children:N.displayName}),i.jsxs("p",{className:"text-doom-muted text-xs font-mono truncate",children:["@",N.username]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[B&&i.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-neon-green/40 text-neon-green font-mono",children:"HOST"}),O&&i.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-doom-border text-doom-muted font-mono",children:"YOU"}),E&&!O&&i.jsx("button",{onClick:()=>{Id(N.userId)},className:"text-[10px] px-1.5 py-0.5 rounded border border-neon-pink/40 text-neon-pink hover:bg-neon-pink/15 transition-colors",disabled:T,children:"Kick"})]})]},N.userId)})})]}),a.status==="lobby"&&i.jsxs("div",{className:"card",children:[i.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Round setup"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-[11px] text-doom-muted",children:"Bet coins"}),i.jsx("input",{type:"number",min:0,max:Math.max(0,Math.floor(o)),value:a.bet_coins,disabled:!E||T,onChange:N=>{const O=ru(Number(N.target.value),o);cn({bet_coins:O})},className:"mt-1 w-full bg-doom-surface border border-doom-border rounded-md px-2 py-1.5 text-sm disabled:opacity-60"})]}),i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"text-[11px] text-doom-muted",children:"Round timer"}),i.jsx("select",{value:a.timer_seconds,disabled:!E||T,onChange:N=>{cn({timer_seconds:Number(N.target.value)})},className:"mt-1 w-full bg-doom-surface border border-doom-border rounded-md px-2 py-1.5 text-sm disabled:opacity-60",children:Wh.map(N=>i.jsx("option",{value:N,children:nu(N)},N))})]})]}),E?i.jsx("button",{onClick:()=>{cn({status:"game_select",selected_game_type:null,round_started_at:null,round_ends_at:null,round_target_meters:null})},disabled:!Z||T,className:"btn-primary w-full text-sm disabled:opacity-50",children:Z?"Start Battle":"Need at least 2 players"}):i.jsx("p",{className:"text-doom-muted text-xs",children:"Waiting for host to start."})]}),a.status==="game_select"&&i.jsxs("div",{className:"card",children:[i.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-1",children:"Game select"}),i.jsxs("p",{className:"text-doom-muted text-xs mb-3",children:["Pot: ",i.jsxs("span",{className:"text-white",children:[a.bet_coins*F.length," coins"]}),"  Timer:"," ",i.jsx("span",{className:"text-white",children:nu(a.timer_seconds)})]}),E?i.jsx("div",{className:"grid grid-cols-1 gap-2",children:Md.map(N=>{const O=a.selected_game_type===N.id;return i.jsxs("button",{onClick:()=>{cn({selected_game_type:N.id})},className:`text-left rounded-lg border px-3 py-2 transition-colors ${O?"border-neon-green/60 bg-neon-green/10":"border-doom-border bg-doom-surface hover:border-neon-green/30"}`,disabled:T,children:[i.jsx("p",{className:"text-sm text-white",children:N.title}),i.jsxs("p",{className:"text-[11px] text-doom-muted",children:[N.subtitle,"  ",N.details]})]},N.id)})}):i.jsx("p",{className:"text-doom-muted text-xs",children:"Waiting for host to choose game type..."}),a.selected_game_type&&i.jsxs("div",{className:"mt-3 rounded-lg border border-neon-green/35 bg-neon-green/10 px-3 py-2",children:[i.jsxs("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-1",children:["Rules: ",ou(a.selected_game_type)]}),i.jsx("ul",{className:"space-y-1",children:re.map(N=>i.jsxs("li",{className:"text-[11px] text-doom-muted",children:[" ",N]},N))})]}),H&&i.jsxs("div",{className:"mt-3 rounded-lg border border-doom-border bg-doom-bg/50 px-3 py-2",children:[i.jsx("p",{className:"text-doom-muted text-[11px] font-mono uppercase tracking-wider mb-1",children:"Last round"}),i.jsxs("p",{className:"text-xs text-white",children:["Winners:"," ",i.jsx("span",{className:"text-neon-green",children:H.winnerIds.map(N=>Ye[N]??"Player").join(", ")})]}),i.jsxs("p",{className:"text-[11px] text-doom-muted",children:["Pot ",H.pot,"  Your result"," ",i.jsxs("span",{className:Number(H.payouts[e]??0)>=0?"text-neon-green":"text-neon-pink",children:[Number(H.payouts[e]??0)>=0?"+":"",Math.floor(Number(H.payouts[e]??0))," coins"]})]}),Number.isFinite(Number(H.targetMeters??NaN))&&i.jsxs("p",{className:"text-[11px] text-doom-muted mt-0.5",children:["Target:"," ",i.jsx("span",{className:"text-neon-cyan",children:mn(Number(H.targetMeters??0))}),H.offBy&&Number.isFinite(Number(H.offBy[e]??NaN))&&i.jsxs(i.Fragment,{children:[" "," You were"," ",i.jsx("span",{className:"text-white",children:mn(Number(H.offBy[e]??0))})," ","off"]})]})]}),E&&a.selected_game_type&&i.jsx("button",{onClick:()=>{Dd()},disabled:T,className:"btn-primary w-full text-sm mt-3 disabled:opacity-60",children:"Start Round"})]}),a.status==="active"&&i.jsxs("div",{className:"card",children:[i.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-2",children:a.selected_game_type?`${ou(a.selected_game_type)}  Round Live`:"Round Live"}),a.selected_game_type&&i.jsxs("div",{className:"rounded-lg border border-doom-border bg-doom-bg/50 px-3 py-2 mb-3",children:[i.jsx("p",{className:"text-doom-muted text-[11px] font-mono uppercase tracking-wider mb-1",children:"Rules"}),i.jsx("ul",{className:"space-y-1",children:re.map(N=>i.jsxs("li",{className:"text-[11px] text-doom-muted",children:[" ",N]},N))})]}),(Pd||Ld)&&i.jsx("div",{className:"rounded-lg border border-doom-border bg-doom-bg/50 px-3 py-2 text-center mb-3",children:i.jsx("p",{className:"text-[11px] text-doom-muted",children:"Round countdown is shown on the main page overlay."})}),Fs,Fs,a.selected_game_type==="target_chase"&&Number.isFinite(Number(a.round_target_meters??NaN))&&i.jsxs("div",{className:"rounded-lg border border-neon-cyan/45 bg-neon-cyan/10 px-3 py-2 mt-3 text-center",children:[i.jsx("p",{className:"text-neon-cyan text-[11px] font-mono uppercase tracking-wider",children:"Target distance"}),i.jsx("p",{className:"text-2xl font-mono font-bold text-neon-cyan mt-1",children:mn(Number(a.round_target_meters??0))}),i.jsx("p",{className:"text-[11px] text-doom-muted mt-1",children:"Closest player wins this round."})]}),(a.selected_game_type==="scroll_sprint"||a.selected_game_type==="target_chase")&&Ni.length>0&&i.jsxs("div",{className:"rounded-lg border border-doom-border bg-doom-bg/40 p-2 mt-3",children:[i.jsx("p",{className:"text-doom-muted text-[11px] font-mono uppercase tracking-wider mb-1",children:"Live standings"}),i.jsx("div",{className:"space-y-1",children:Ni.map((N,O)=>{const B=F.find(G=>G.userId===N.userId);if(!B)return null;const q=B.userId===e;return i.jsxs("div",{className:"flex items-center justify-between rounded border border-doom-border px-2 py-1 text-xs",children:[i.jsxs("span",{className:`${q?"text-neon-green":"text-white"}`,children:["#",O+1," ",B.displayName,q?" (You)":""]}),a.selected_game_type==="target_chase"?i.jsxs("span",{className:"font-mono tabular-nums text-doom-muted text-right",children:[mn(N.score)," "," off"," ",mn(Number(N.offBy??0))]}):i.jsx("span",{className:"font-mono tabular-nums text-doom-muted",children:mn(N.score)})]},B.userId)})})]}),ss&&i.jsxs("div",{className:"rounded-lg border border-neon-pink/40 bg-neon-pink/10 px-3 py-3",children:[i.jsx("p",{className:"text-neon-pink text-sm font-mono",children:"Round complete."}),E?i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx("button",{onClick:()=>{ls()},className:"btn-primary w-full text-sm disabled:opacity-60",disabled:T,children:"Finalize Round"}),i.jsx("button",{onClick:()=>{Ud()},className:"px-3 py-2 text-xs rounded-md border border-doom-border text-doom-muted hover:text-white hover:border-neon-green/35",disabled:T,children:"Back To Game Select"})]}):i.jsx("p",{className:"text-[11px] text-doom-muted mt-1",children:"Waiting for host to set the next round."})]})]})]}),Fs,h&&i.jsx("div",{className:"card border-neon-cyan/35 bg-neon-cyan/10 text-neon-cyan text-xs",children:h}),f&&i.jsx("div",{className:"card border-neon-pink/35 bg-neon-pink/10 text-neon-pink text-xs",children:f})]})}const t0={home:({className:e})=>i.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M3 12l9-9 9 9"}),i.jsx("path",{d:"M9 21V12h6v9"}),i.jsx("path",{d:"M5 12v9h14v-9"})]}),board:({className:e})=>i.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5C7 4 7 7 7 7"}),i.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5C17 4 17 7 17 7"}),i.jsx("path",{d:"M4 22h16"}),i.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20 7 22"}),i.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20 17 22"}),i.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),pals:({className:e})=>i.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),battle:({className:e})=>i.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M14.5 17.5L3 6V3h3l11.5 11.5"}),i.jsx("path",{d:"M13 19l6-6"}),i.jsx("path",{d:"M16 16l4 4"}),i.jsx("path",{d:"M19 21l2-2"}),i.jsx("path",{d:"M14.5 6.5L18 3h3v3l-3.5 3.5"}),i.jsx("path",{d:"M5 14l4 4"}),i.jsx("path",{d:"M7 17l-3 3"})]}),chat:({className:e})=>i.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("rect",{x:"4",y:"7",width:"16",height:"12",rx:"3"}),i.jsx("path",{d:"M12 3v4"}),i.jsx("path",{d:"M9 12h.01"}),i.jsx("path",{d:"M15 12h.01"}),i.jsx("path",{d:"M8 16h8"})]})},n0=[{id:"home",label:"Home"},{id:"board",label:"Board"},{id:"pals",label:"Pals"},{id:"battle",label:"Battle"},{id:"chat",label:"AI Chat"}];function r0({active:e,onNavigate:t,palsPendingCount:n=0}){return i.jsx("nav",{className:"flex items-center justify-around px-2 py-2 border-t border-doom-border bg-doom-bg",children:n0.map(r=>{const o=t0[r.id],s=e===r.id,l=r.id==="pals"&&n>0,u=l?"text-red-400":s?"text-neon-green":"text-doom-muted hover:text-white",a=l?"text-red-400":s?"neon-text-green":"",d=l?"bg-red-400 shadow-[0_0_8px_rgba(248,113,113,0.8)]":"bg-neon-green shadow-neon-green";return i.jsxs("button",{onClick:()=>t(r.id),className:`relative flex flex-col items-center gap-0.5 px-3 py-1 rounded-lg transition-all duration-200 ${u}`,children:[i.jsx(o,{className:"w-5 h-5"}),l&&i.jsx("span",{className:"absolute top-0 right-1 min-w-4 h-4 px-1 rounded-full bg-red-500 text-white text-[9px] leading-4 font-mono",children:n>99?"99+":n}),i.jsx("span",{className:`text-[10px] font-mono ${a}`,children:r.label}),s&&i.jsx("div",{className:`w-4 h-0.5 rounded-full ${d}`})]},r.id)})})}const o0=3e3;function s0(e){const[t,n]=x.useState(0),r=x.useCallback(async()=>{if(!e){n(0);return}const{count:o,error:s}=await I.from("friendships").select("id",{count:"exact",head:!0}).eq("addressee_id",e).eq("status","pending");s||n(typeof o=="number"?o:0)},[e]);return x.useEffect(()=>{r();const o=setInterval(()=>{r()},o0);return()=>clearInterval(o)},[r]),{count:t,refresh:r}}const l0="doom_popup_active_page_",i0=new Set(["home","board","pals","battle","chat","settings"]);function su(e){return`${l0}${e}`}function lu(e){return i0.has(e)}function a0(e,t){const n=((e==null?void 0:e.trim())||t).replace(/^@+/,"").trim();if(!n)return"U";const r=n.split(/[\s._-]+/).map(s=>s.trim()).filter(Boolean);return r.length>=2?`${r[0][0]}${r[1][0]}`.toUpperCase():(r[0]??n).slice(0,2).toUpperCase()}function u0(){var W,Z;const{user:e,profile:t,loading:n,profileError:r,signIn:o,signUp:s,signOut:l,updateUsername:u,refreshProfile:a}=Op(),[d,v]=x.useState("login"),[g,p]=x.useState("home"),[_,S]=x.useState(null),[y,T]=x.useState(!1),m=x.useRef(!1),{count:f,refresh:c}=s0((e==null?void 0:e.id)??null),[h,w]=x.useState(0),[C,k]=x.useState(!1),{stats:j,loading:P}=Ed();if(x.useEffect(()=>{w(f)},[f]),x.useEffect(()=>{!n&&!e&&(m.current=!0)},[n,e]),x.useEffect(()=>{S(null);const re=e==null?void 0:e.id;if(!re){p("home"),T(!1),v("login");return}if(m.current){p("home"),T(!0),m.current=!1;return}let H=!1;return T(!1),(async()=>{try{const Ye=su(re),Ne=await chrome.storage.local.get(Ye);if(H)return;const $e=typeof Ne[Ye]=="string"?Ne[Ye]:"home";p(lu($e)?$e:"home")}catch{H||p("home")}finally{H||T(!0)}})(),()=>{H=!0}},[e==null?void 0:e.id]),x.useEffect(()=>{const re=e==null?void 0:e.id;if(!re||!y||!lu(g))return;const H=su(re);chrome.storage.local.set({[H]:g})},[g,y,e==null?void 0:e.id]),x.useEffect(()=>{k(!1)},[t==null?void 0:t.avatar_url]),n)return i.jsx("div",{className:"w-[400px] h-[600px] bg-doom-bg flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-4xl mb-3 animate-pulse-neon",children:""}),i.jsx("p",{className:"text-doom-muted font-mono text-xs",children:"Loading..."})]})});if(!e)return i.jsx("div",{className:"w-[400px] h-[600px] bg-doom-bg text-white",children:d==="login"?i.jsx(Up,{onSignIn:async(re,H)=>{await o(re,H)},onSwitchToSignUp:()=>v("signup")}):i.jsx(Bp,{onSignUp:async(re,H,Ye)=>{await s(re,H,Ye)},onSwitchToLogin:()=>v("login")})});const R=e,L=t,Q=((Z=(W=R.email)==null?void 0:W.split("@")[0])==null?void 0:Z.toLowerCase().replace(/[^a-z0-9_]/g,"_"))||"user",$=(L==null?void 0:L.username)??Q,Y=a0(L==null?void 0:L.display_name,$),b=Math.max(Number((L==null?void 0:L.total_meters_scrolled)??0),Number(j.totalMeters??0)),U=Number(L==null?void 0:L.coin_balance),D=Number.isFinite(U)?Math.max(0,Math.floor(U)):uu(b),E=!!L,z=L?/^[a-z0-9]+_[a-f0-9]{4}$/.test(L.username):!1;if(L&&z)return i.jsx("div",{className:"w-[400px] h-[600px] bg-doom-bg text-white",children:i.jsx(Hp,{currentUsername:L.username,onSetUsername:u})});function F(){var re;switch(g){case"home":return i.jsx($a,{stats:j,loading:P});case"board":return i.jsx(Mh,{userId:R.id,onViewProfile:H=>{S(H),p("profile")}});case"pals":return i.jsx(bh,{userId:R.id,onPendingRequestsChanged:H=>{w(H),c()},onViewProfile:H=>{S(H),p("profile")}});case"battle":return i.jsx(e0,{userId:R.id,username:$,displayName:(L==null?void 0:L.display_name)??((re=R.email)==null?void 0:re.split("@")[0])??"User",avatarUrl:(L==null?void 0:L.avatar_url)??null,availableCoins:D,onWalletSync:a});case"chat":return i.jsx(Hh,{userId:R.id});case"profile":return i.jsx(Sh,{userId:_??R.id,isOwnProfile:!_||_===R.id,onBack:_?()=>p("home"):void 0,cachedProfile:!_||_===R.id?L??void 0:void 0,onProfileUpdated:!_||_===R.id?a:void 0,liveTotalMeters:!_||_===R.id?j.totalMeters:void 0});case"settings":return L?i.jsx(Fh,{profile:L,onSignOut:l,onProfileUpdated:()=>{}}):i.jsxs("div",{className:"card text-center py-6",children:[i.jsx("p",{className:"text-doom-muted text-sm font-mono mb-3",children:r??"Syncing profile..."}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>{a()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-white hover:border-neon-green/40 transition-colors",children:"Retry"}),i.jsx("button",{onClick:()=>{l()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-neon-pink transition-colors",children:"Sign out"})]})]});default:return i.jsx($a,{})}}return i.jsxs("div",{className:"w-[400px] h-[600px] bg-doom-bg text-white flex flex-col",children:[i.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-doom-border",children:[i.jsx("h1",{className:"text-lg font-bold font-mono neon-text-green",children:"DoomScroller"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 h-9 rounded-full bg-yellow-500/10 border border-yellow-400/40 shadow-[0_0_10px_rgba(250,204,21,0.18)]",title:`Coins: ${D}`,children:[i.jsx(Cd,{className:"w-4 h-4"}),i.jsx("span",{className:"text-yellow-100 text-sm font-semibold font-mono tabular-nums",children:D})]}),i.jsx("button",{onClick:()=>{S(null),p("profile")},className:"w-9 h-9 rounded-full bg-doom-surface border border-doom-border text-white text-xs font-semibold tracking-wide hover:border-neon-green/40 hover:shadow-neon-green transition-all overflow-hidden flex items-center justify-center",title:`@${$}`,"aria-label":`Open profile for @${$}`,children:L!=null&&L.avatar_url&&!C?i.jsx("img",{src:L.avatar_url,alt:`${$} profile picture`,className:"w-full h-full object-cover",onError:()=>k(!0)}):Y}),i.jsx("button",{onClick:()=>p("settings"),className:"w-9 h-9 rounded-full bg-doom-surface border border-doom-border text-doom-muted hover:text-white hover:border-neon-green/40 transition-all text-lg leading-none flex items-center justify-center",title:"Settings","aria-label":"Open settings",children:""})]})]}),!E&&i.jsxs("div",{className:"mx-4 mt-3 p-3 rounded-lg border border-doom-border bg-doom-surface/60",children:[i.jsx("p",{className:"text-doom-muted text-xs font-mono text-center",children:r??"Syncing profile..."}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[i.jsx("button",{onClick:()=>{a()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-white hover:border-neon-green/40 transition-colors",children:"Retry"}),i.jsx("button",{onClick:()=>{l()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-neon-pink transition-colors",children:"Sign out"})]})]}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:F()}),i.jsx(r0,{active:g,onNavigate:p,palsPendingCount:h})]})}As.createRoot(document.getElementById("root")).render(i.jsx(mf.StrictMode,{children:i.jsx(u0,{})}));
