var nf=Object.defineProperty;var rf=(e,t,n)=>t in e?nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ii=(e,t,n)=>rf(e,typeof t!="symbol"?t+"":t,n);import{c as of,e as sf,f as lf}from"./profile-DqajArDP.js";import{t as af,S as uf}from"./constants-BqRKAH88.js";import{m as Su}from"./coins-CEGumQio.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ju={exports:{}},Yo={},Eu={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),df=Symbol.for("react.portal"),ff=Symbol.for("react.fragment"),mf=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),gf=Symbol.for("react.context"),xf=Symbol.for("react.forward_ref"),yf=Symbol.for("react.suspense"),vf=Symbol.for("react.memo"),wf=Symbol.for("react.lazy"),Oi=Symbol.iterator;function _f(e){return e===null||typeof e!="object"?null:(e=Oi&&e[Oi]||e["@@iterator"],typeof e=="function"?e:null)}var Cu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bu=Object.assign,Ru={};function Bn(e,t,n){this.props=e,this.context=t,this.refs=Ru,this.updater=n||Cu}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pu(){}Pu.prototype=Bn.prototype;function Ol(e,t,n){this.props=e,this.context=t,this.refs=Ru,this.updater=n||Cu}var Dl=Ol.prototype=new Pu;Dl.constructor=Ol;bu(Dl,Bn.prototype);Dl.isPureReactComponent=!0;var Di=Array.isArray,Mu=Object.prototype.hasOwnProperty,Ul={current:null},Lu={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Mu.call(t,r)&&!Lu.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var a=Array(u),f=0;f<u;f++)a[f]=arguments[f+2];o.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Fr,type:e,key:s,ref:i,props:o,_owner:Ul.current}}function kf(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $l(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function Nf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ui=/\/+/g;function ps(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nf(""+e.key):t.toString(36)}function ao(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Fr:case df:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+ps(i,0):r,Di(o)?(n="",e!=null&&(n=e.replace(Ui,"$&/")+"/"),ao(o,t,n,"",function(f){return f})):o!=null&&($l(o)&&(o=kf(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Ui,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Di(e))for(var u=0;u<e.length;u++){s=e[u];var a=r+ps(s,u);i+=ao(s,t,n,a,o)}else if(a=_f(e),typeof a=="function")for(e=a.call(e),u=0;!(s=e.next()).done;)s=s.value,a=r+ps(s,u++),i+=ao(s,t,n,a,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Br(e,t,n){if(e==null)return e;var r=[],o=0;return ao(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Sf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},uo={transition:null},jf={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:uo,ReactCurrentOwner:Ul};function Fu(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Br,forEach:function(e,t,n){Br(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Br(e,function(){t++}),t},toArray:function(e){return Br(e,function(t){return t})||[]},only:function(e){if(!$l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Bn;q.Fragment=ff;q.Profiler=pf;q.PureComponent=Ol;q.StrictMode=mf;q.Suspense=yf;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jf;q.act=Fu;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bu({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Ul.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)Mu.call(t,a)&&!Lu.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var f=0;f<a;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Fr,type:e.type,key:o,ref:s,props:r,_owner:i}};q.createContext=function(e){return e={$$typeof:gf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hf,_context:e},e.Consumer=e};q.createElement=Tu;q.createFactory=function(e){var t=Tu.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:xf,render:e}};q.isValidElement=$l;q.lazy=function(e){return{$$typeof:wf,_payload:{_status:-1,_result:e},_init:Sf}};q.memo=function(e,t){return{$$typeof:vf,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=uo.transition;uo.transition={};try{e()}finally{uo.transition=t}};q.unstable_act=Fu;q.useCallback=function(e,t){return Pe.current.useCallback(e,t)};q.useContext=function(e){return Pe.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};q.useEffect=function(e,t){return Pe.current.useEffect(e,t)};q.useId=function(){return Pe.current.useId()};q.useImperativeHandle=function(e,t,n){return Pe.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Pe.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Pe.current.useReducer(e,t,n)};q.useRef=function(e){return Pe.current.useRef(e)};q.useState=function(e){return Pe.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Pe.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Pe.current.useTransition()};q.version="18.3.1";Eu.exports=q;var h=Eu.exports;const Ef=cf(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=h,bf=Symbol.for("react.element"),Rf=Symbol.for("react.fragment"),Pf=Object.prototype.hasOwnProperty,Mf=Cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lf={key:!0,ref:!0,__self:!0,__source:!0};function zu(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Pf.call(t,r)&&!Lf.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:bf,type:e,key:s,ref:i,props:o,_owner:Mf.current}}Yo.Fragment=Rf;Yo.jsx=zu;Yo.jsxs=zu;ju.exports=Yo;var l=ju.exports,Vs={},Au={exports:{}},$e={},Iu={exports:{}},Ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,z){var T=j.length;j.push(z);e:for(;0<T;){var V=T-1>>>1,Q=j[V];if(0<o(Q,z))j[V]=z,j[T]=Q,T=V;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],T=j.pop();if(T!==z){j[0]=T;e:for(var V=0,Q=j.length,_e=Q>>>1;V<_e;){var Z=2*(V+1)-1,ie=j[Z],G=Z+1,Ee=j[G];if(0>o(ie,T))G<Q&&0>o(Ee,ie)?(j[V]=Ee,j[G]=T,V=G):(j[V]=ie,j[Z]=T,V=Z);else if(G<Q&&0>o(Ee,T))j[V]=Ee,j[G]=T,V=G;else break e}}return z}function o(j,z){var T=j.sortIndex-z.sortIndex;return T!==0?T:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var a=[],f=[],y=1,x=null,p=3,N=!1,_=!1,g=!1,M=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(j){for(var z=n(f);z!==null;){if(z.callback===null)r(f);else if(z.startTime<=j)r(f),z.sortIndex=z.expirationTime,t(a,z);else break;z=n(f)}}function v(j){if(g=!1,d(j),!_)if(n(a)!==null)_=!0,L(k);else{var z=n(f);z!==null&&U(v,z.startTime-j)}}function k(j,z){_=!1,g&&(g=!1,m(S),S=-1),N=!0;var T=p;try{for(d(z),x=n(a);x!==null&&(!(x.expirationTime>z)||j&&!B());){var V=x.callback;if(typeof V=="function"){x.callback=null,p=x.priorityLevel;var Q=V(x.expirationTime<=z);z=e.unstable_now(),typeof Q=="function"?x.callback=Q:x===n(a)&&r(a),d(z)}else r(a);x=n(a)}if(x!==null)var _e=!0;else{var Z=n(f);Z!==null&&U(v,Z.startTime-z),_e=!1}return _e}finally{x=null,p=T,N=!1}}var C=!1,w=null,S=-1,F=5,P=-1;function B(){return!(e.unstable_now()-P<F)}function H(){if(w!==null){var j=e.unstable_now();P=j;var z=!0;try{z=w(!0,j)}finally{z?b():(C=!1,w=null)}}else C=!1}var b;if(typeof c=="function")b=function(){c(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,I=$.port2;$.port1.onmessage=H,b=function(){I.postMessage(null)}}else b=function(){M(H,0)};function L(j){w=j,C||(C=!0,b())}function U(j,z){S=M(function(){j(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){_||N||(_=!0,L(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var T=p;p=z;try{return j()}finally{p=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var T=p;p=j;try{return z()}finally{p=T}},e.unstable_scheduleCallback=function(j,z,T){var V=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?V+T:V):T=V,j){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=T+Q,j={id:y++,callback:z,priorityLevel:j,startTime:T,expirationTime:Q,sortIndex:-1},T>V?(j.sortIndex=T,t(f,j),n(a)===null&&j===n(f)&&(g?(m(S),S=-1):g=!0,U(v,T-V))):(j.sortIndex=Q,t(a,j),_||N||(_=!0,L(k))),j},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(j){var z=p;return function(){var T=p;p=z;try{return j.apply(this,arguments)}finally{p=T}}}})(Ou);Iu.exports=Ou;var Tf=Iu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=h,Ue=Tf;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Du=new Set,xr={};function cn(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for(xr[e]=t,e=0;e<t.length;e++)Du.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=Object.prototype.hasOwnProperty,zf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$i={},Bi={};function Af(e){return Ws.call(Bi,e)?!0:Ws.call($i,e)?!1:zf.test(e)?Bi[e]=!0:($i[e]=!0,!1)}function If(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Of(e,t,n,r){if(t===null||typeof t>"u"||If(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bl=/[\-:]([a-z])/g;function Hl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bl,Hl);we[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bl,Hl);we[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bl,Hl);we[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vl(e,t,n,r){var o=we.hasOwnProperty(t)?we[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Of(t,n,o,r)&&(n=null),r||o===null?Af(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kt=Ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hr=Symbol.for("react.element"),gn=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),Wl=Symbol.for("react.strict_mode"),qs=Symbol.for("react.profiler"),Uu=Symbol.for("react.provider"),$u=Symbol.for("react.context"),ql=Symbol.for("react.forward_ref"),Qs=Symbol.for("react.suspense"),Ks=Symbol.for("react.suspense_list"),Ql=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Bu=Symbol.for("react.offscreen"),Hi=Symbol.iterator;function qn(e){return e===null||typeof e!="object"?null:(e=Hi&&e[Hi]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,hs;function rr(e){if(hs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hs=t&&t[1]||""}return`
`+hs+e}var gs=!1;function xs(e,t){if(!e||gs)return"";gs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,u=s.length-1;1<=i&&0<=u&&o[i]!==s[u];)u--;for(;1<=i&&0<=u;i--,u--)if(o[i]!==s[u]){if(i!==1||u!==1)do if(i--,u--,0>u||o[i]!==s[u]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=u);break}}}finally{gs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rr(e):""}function Df(e){switch(e.tag){case 5:return rr(e.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return e=xs(e.type,!1),e;case 11:return e=xs(e.type.render,!1),e;case 1:return e=xs(e.type,!0),e;default:return""}}function Ys(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xn:return"Fragment";case gn:return"Portal";case qs:return"Profiler";case Wl:return"StrictMode";case Qs:return"Suspense";case Ks:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $u:return(e.displayName||"Context")+".Consumer";case Uu:return(e._context.displayName||"Context")+".Provider";case ql:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ql:return t=e.displayName||null,t!==null?t:Ys(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return Ys(e(t))}catch{}}return null}function Uf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ys(t);case 8:return t===Wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $f(e){var t=Hu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vr(e){e._valueTracker||(e._valueTracker=$f(e))}function Vu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function No(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gs(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wu(e,t){t=t.checked,t!=null&&Vl(e,"checked",t,!1)}function Xs(e,t){Wu(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zs(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zs(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zs(e,t,n){(t!=="number"||No(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var or=Array.isArray;function bn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Js(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(or(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function qu(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function el(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wr,Ku=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bf=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(e){Bf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ir[t]=ir[e]})});function Yu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ir.hasOwnProperty(e)&&ir[e]?(""+t).trim():t+"px"}function Gu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Yu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Hf=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tl(e,t){if(t){if(Hf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function nl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,Rn=null,Pn=null;function Ki(e){if(e=Ir(e)){if(typeof ol!="function")throw Error(R(280));var t=e.stateNode;t&&(t=es(t),ol(e.stateNode,e.type,t))}}function Xu(e){Rn?Pn?Pn.push(e):Pn=[e]:Rn=e}function Zu(){if(Rn){var e=Rn,t=Pn;if(Pn=Rn=null,Ki(e),t)for(e=0;e<t.length;e++)Ki(t[e])}}function Ju(e,t){return e(t)}function ec(){}var ys=!1;function tc(e,t,n){if(ys)return e(t,n);ys=!0;try{return Ju(e,t,n)}finally{ys=!1,(Rn!==null||Pn!==null)&&(ec(),Zu())}}function vr(e,t){var n=e.stateNode;if(n===null)return null;var r=es(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var sl=!1;if(yt)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{sl=!1}function Vf(e,t,n,r,o,s,i,u,a){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(y){this.onError(y)}}var ar=!1,So=null,jo=!1,ll=null,Wf={onError:function(e){ar=!0,So=e}};function qf(e,t,n,r,o,s,i,u,a){ar=!1,So=null,Vf.apply(Wf,arguments)}function Qf(e,t,n,r,o,s,i,u,a){if(qf.apply(this,arguments),ar){if(ar){var f=So;ar=!1,So=null}else throw Error(R(198));jo||(jo=!0,ll=f)}}function dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yi(e){if(dn(e)!==e)throw Error(R(188))}function Kf(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Yi(o),e;if(s===r)return Yi(o),t;s=s.sibling}throw Error(R(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,u=o.child;u;){if(u===n){i=!0,n=o,r=s;break}if(u===r){i=!0,r=o,n=s;break}u=u.sibling}if(!i){for(u=s.child;u;){if(u===n){i=!0,n=s,r=o;break}if(u===r){i=!0,r=s,n=o;break}u=u.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function rc(e){return e=Kf(e),e!==null?oc(e):null}function oc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oc(e);if(t!==null)return t;e=e.sibling}return null}var sc=Ue.unstable_scheduleCallback,Gi=Ue.unstable_cancelCallback,Yf=Ue.unstable_shouldYield,Gf=Ue.unstable_requestPaint,ce=Ue.unstable_now,Xf=Ue.unstable_getCurrentPriorityLevel,Yl=Ue.unstable_ImmediatePriority,lc=Ue.unstable_UserBlockingPriority,Eo=Ue.unstable_NormalPriority,Zf=Ue.unstable_LowPriority,ic=Ue.unstable_IdlePriority,Go=null,ut=null;function Jf(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Go,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:nm,em=Math.log,tm=Math.LN2;function nm(e){return e>>>=0,e===0?32:31-(em(e)/tm|0)|0}var qr=64,Qr=4194304;function sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Co(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~o;u!==0?r=sr(u):(s&=i,s!==0&&(r=sr(s)))}else i=n&~o,i!==0?r=sr(i):s!==0&&(r=sr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),o=1<<n,r|=e[n],t&=~o;return r}function rm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function om(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-tt(s),u=1<<i,a=o[i];a===-1?(!(u&n)||u&r)&&(o[i]=rm(u,t)):a<=t&&(e.expiredLanes|=u),s&=~u}}function il(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ac(){var e=qr;return qr<<=1,!(qr&4194240)&&(qr=64),e}function vs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function sm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-tt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Gl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var X=0;function uc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cc,Xl,dc,fc,mc,al=!1,Kr=[],Lt=null,Tt=null,Ft=null,wr=new Map,_r=new Map,bt=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xi(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":wr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function Kn(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Ir(t),t!==null&&Xl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function im(e,t,n,r,o){switch(t){case"focusin":return Lt=Kn(Lt,e,t,n,r,o),!0;case"dragenter":return Tt=Kn(Tt,e,t,n,r,o),!0;case"mouseover":return Ft=Kn(Ft,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return wr.set(s,Kn(wr.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,_r.set(s,Kn(_r.get(s)||null,e,t,n,r,o)),!0}return!1}function pc(e){var t=Xt(e.target);if(t!==null){var n=dn(t);if(n!==null){if(t=n.tag,t===13){if(t=nc(n),t!==null){e.blockedOn=t,mc(e.priority,function(){dc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ul(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rl=r,n.target.dispatchEvent(r),rl=null}else return t=Ir(n),t!==null&&Xl(t),e.blockedOn=n,!1;t.shift()}return!0}function Zi(e,t,n){co(e)&&n.delete(t)}function am(){al=!1,Lt!==null&&co(Lt)&&(Lt=null),Tt!==null&&co(Tt)&&(Tt=null),Ft!==null&&co(Ft)&&(Ft=null),wr.forEach(Zi),_r.forEach(Zi)}function Yn(e,t){e.blockedOn===t&&(e.blockedOn=null,al||(al=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,am)))}function kr(e){function t(o){return Yn(o,e)}if(0<Kr.length){Yn(Kr[0],e);for(var n=1;n<Kr.length;n++){var r=Kr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Lt!==null&&Yn(Lt,e),Tt!==null&&Yn(Tt,e),Ft!==null&&Yn(Ft,e),wr.forEach(t),_r.forEach(t),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)pc(n),n.blockedOn===null&&bt.shift()}var Mn=kt.ReactCurrentBatchConfig,bo=!0;function um(e,t,n,r){var o=X,s=Mn.transition;Mn.transition=null;try{X=1,Zl(e,t,n,r)}finally{X=o,Mn.transition=s}}function cm(e,t,n,r){var o=X,s=Mn.transition;Mn.transition=null;try{X=4,Zl(e,t,n,r)}finally{X=o,Mn.transition=s}}function Zl(e,t,n,r){if(bo){var o=ul(e,t,n,r);if(o===null)Rs(e,t,r,Ro,n),Xi(e,r);else if(im(o,e,t,n,r))r.stopPropagation();else if(Xi(e,r),t&4&&-1<lm.indexOf(e)){for(;o!==null;){var s=Ir(o);if(s!==null&&cc(s),s=ul(e,t,n,r),s===null&&Rs(e,t,r,Ro,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Rs(e,t,r,null,n)}}var Ro=null;function ul(e,t,n,r){if(Ro=null,e=Kl(r),e=Xt(e),e!==null)if(t=dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ro=e,null}function hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xf()){case Yl:return 1;case lc:return 4;case Eo:case Zf:return 16;case ic:return 536870912;default:return 16}default:return 16}}var Pt=null,Jl=null,fo=null;function gc(){if(fo)return fo;var e,t=Jl,n=t.length,r,o="value"in Pt?Pt.value:Pt.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return fo=o.slice(e,1<r?1-r:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yr(){return!0}function Ji(){return!1}function Be(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yr:Ji,this.isPropagationStopped=Ji,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),t}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=Be(Hn),Ar=le({},Hn,{view:0,detail:0}),dm=Be(Ar),ws,_s,Gn,Xo=le({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(ws=e.screenX-Gn.screenX,_s=e.screenY-Gn.screenY):_s=ws=0,Gn=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:_s}}),ea=Be(Xo),fm=le({},Xo,{dataTransfer:0}),mm=Be(fm),pm=le({},Ar,{relatedTarget:0}),ks=Be(pm),hm=le({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),gm=Be(hm),xm=le({},Hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ym=Be(xm),vm=le({},Hn,{data:0}),ta=Be(vm),wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=km[e])?!!t[e]:!1}function ti(){return Nm}var Sm=le({},Ar,{key:function(e){if(e.key){var t=wm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jm=Be(Sm),Em=le({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),na=Be(Em),Cm=le({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),bm=Be(Cm),Rm=le({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pm=Be(Rm),Mm=le({},Xo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=Be(Mm),Tm=[9,13,27,32],ni=yt&&"CompositionEvent"in window,ur=null;yt&&"documentMode"in document&&(ur=document.documentMode);var Fm=yt&&"TextEvent"in window&&!ur,xc=yt&&(!ni||ur&&8<ur&&11>=ur),ra=" ",oa=!1;function yc(e,t){switch(e){case"keyup":return Tm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yn=!1;function zm(e,t){switch(e){case"compositionend":return vc(t);case"keypress":return t.which!==32?null:(oa=!0,ra);case"textInput":return e=t.data,e===ra&&oa?null:e;default:return null}}function Am(e,t){if(yn)return e==="compositionend"||!ni&&yc(e,t)?(e=gc(),fo=Jl=Pt=null,yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xc&&t.locale!=="ko"?null:t.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Im[e.type]:t==="textarea"}function wc(e,t,n,r){Xu(r),t=Po(t,"onChange"),0<t.length&&(n=new ei("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cr=null,Nr=null;function Om(e){Mc(e,0)}function Zo(e){var t=_n(e);if(Vu(t))return e}function Dm(e,t){if(e==="change")return t}var _c=!1;if(yt){var Ns;if(yt){var Ss="oninput"in document;if(!Ss){var la=document.createElement("div");la.setAttribute("oninput","return;"),Ss=typeof la.oninput=="function"}Ns=Ss}else Ns=!1;_c=Ns&&(!document.documentMode||9<document.documentMode)}function ia(){cr&&(cr.detachEvent("onpropertychange",kc),Nr=cr=null)}function kc(e){if(e.propertyName==="value"&&Zo(Nr)){var t=[];wc(t,Nr,e,Kl(e)),tc(Om,t)}}function Um(e,t,n){e==="focusin"?(ia(),cr=t,Nr=n,cr.attachEvent("onpropertychange",kc)):e==="focusout"&&ia()}function $m(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(Nr)}function Bm(e,t){if(e==="click")return Zo(t)}function Hm(e,t){if(e==="input"||e==="change")return Zo(t)}function Vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Vm;function Sr(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ws.call(t,o)||!rt(e[o],t[o]))return!1}return!0}function aa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n=aa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aa(n)}}function Nc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sc(){for(var e=window,t=No();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=No(e.document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wm(e){var t=Sc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nc(n.ownerDocument.documentElement,n)){if(r!==null&&ri(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=ua(n,s);var i=ua(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qm=yt&&"documentMode"in document&&11>=document.documentMode,vn=null,cl=null,dr=null,dl=!1;function ca(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dl||vn==null||vn!==No(r)||(r=vn,"selectionStart"in r&&ri(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dr&&Sr(dr,r)||(dr=r,r=Po(cl,"onSelect"),0<r.length&&(t=new ei("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vn)))}function Gr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wn={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionend:Gr("Transition","TransitionEnd")},js={},jc={};yt&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function Jo(e){if(js[e])return js[e];if(!wn[e])return e;var t=wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jc)return js[e]=t[n];return e}var Ec=Jo("animationend"),Cc=Jo("animationiteration"),bc=Jo("animationstart"),Rc=Jo("transitionend"),Pc=new Map,da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){Pc.set(e,t),cn(t,[e])}for(var Es=0;Es<da.length;Es++){var Cs=da[Es],Qm=Cs.toLowerCase(),Km=Cs[0].toUpperCase()+Cs.slice(1);Bt(Qm,"on"+Km)}Bt(Ec,"onAnimationEnd");Bt(Cc,"onAnimationIteration");Bt(bc,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(Rc,"onTransitionEnd");zn("onMouseEnter",["mouseout","mouseover"]);zn("onMouseLeave",["mouseout","mouseover"]);zn("onPointerEnter",["pointerout","pointerover"]);zn("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ym=new Set("cancel close invalid load scroll toggle".split(" ").concat(lr));function fa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qf(r,t,void 0,e),e.currentTarget=null}function Mc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],a=u.instance,f=u.currentTarget;if(u=u.listener,a!==s&&o.isPropagationStopped())break e;fa(o,u,f),s=a}else for(i=0;i<r.length;i++){if(u=r[i],a=u.instance,f=u.currentTarget,u=u.listener,a!==s&&o.isPropagationStopped())break e;fa(o,u,f),s=a}}}if(jo)throw e=ll,jo=!1,ll=null,e}function te(e,t){var n=t[gl];n===void 0&&(n=t[gl]=new Set);var r=e+"__bubble";n.has(r)||(Lc(t,e,2,!1),n.add(r))}function bs(e,t,n){var r=0;t&&(r|=4),Lc(n,e,r,t)}var Xr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Xr]){e[Xr]=!0,Du.forEach(function(n){n!=="selectionchange"&&(Ym.has(n)||bs(n,!1,e),bs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xr]||(t[Xr]=!0,bs("selectionchange",!1,t))}}function Lc(e,t,n,r){switch(hc(t)){case 1:var o=um;break;case 4:o=cm;break;default:o=Zl}n=o.bind(null,t,n,e),o=void 0,!sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Rs(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;u!==null;){if(i=Xt(u),i===null)return;if(a=i.tag,a===5||a===6){r=s=i;continue e}u=u.parentNode}}r=r.return}tc(function(){var f=s,y=Kl(n),x=[];e:{var p=Pc.get(e);if(p!==void 0){var N=ei,_=e;switch(e){case"keypress":if(mo(n)===0)break e;case"keydown":case"keyup":N=jm;break;case"focusin":_="focus",N=ks;break;case"focusout":_="blur",N=ks;break;case"beforeblur":case"afterblur":N=ks;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=bm;break;case Ec:case Cc:case bc:N=gm;break;case Rc:N=Pm;break;case"scroll":N=dm;break;case"wheel":N=Lm;break;case"copy":case"cut":case"paste":N=ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=na}var g=(t&4)!==0,M=!g&&e==="scroll",m=g?p!==null?p+"Capture":null:p;g=[];for(var c=f,d;c!==null;){d=c;var v=d.stateNode;if(d.tag===5&&v!==null&&(d=v,m!==null&&(v=vr(c,m),v!=null&&g.push(Er(c,v,d)))),M)break;c=c.return}0<g.length&&(p=new N(p,_,null,n,y),x.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",p&&n!==rl&&(_=n.relatedTarget||n.fromElement)&&(Xt(_)||_[vt]))break e;if((N||p)&&(p=y.window===y?y:(p=y.ownerDocument)?p.defaultView||p.parentWindow:window,N?(_=n.relatedTarget||n.toElement,N=f,_=_?Xt(_):null,_!==null&&(M=dn(_),_!==M||_.tag!==5&&_.tag!==6)&&(_=null)):(N=null,_=f),N!==_)){if(g=ea,v="onMouseLeave",m="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(g=na,v="onPointerLeave",m="onPointerEnter",c="pointer"),M=N==null?p:_n(N),d=_==null?p:_n(_),p=new g(v,c+"leave",N,n,y),p.target=M,p.relatedTarget=d,v=null,Xt(y)===f&&(g=new g(m,c+"enter",_,n,y),g.target=d,g.relatedTarget=M,v=g),M=v,N&&_)t:{for(g=N,m=_,c=0,d=g;d;d=mn(d))c++;for(d=0,v=m;v;v=mn(v))d++;for(;0<c-d;)g=mn(g),c--;for(;0<d-c;)m=mn(m),d--;for(;c--;){if(g===m||m!==null&&g===m.alternate)break t;g=mn(g),m=mn(m)}g=null}else g=null;N!==null&&ma(x,p,N,g,!1),_!==null&&M!==null&&ma(x,M,_,g,!0)}}e:{if(p=f?_n(f):window,N=p.nodeName&&p.nodeName.toLowerCase(),N==="select"||N==="input"&&p.type==="file")var k=Dm;else if(sa(p))if(_c)k=Hm;else{k=$m;var C=Um}else(N=p.nodeName)&&N.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Bm);if(k&&(k=k(e,f))){wc(x,k,n,y);break e}C&&C(e,p,f),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Zs(p,"number",p.value)}switch(C=f?_n(f):window,e){case"focusin":(sa(C)||C.contentEditable==="true")&&(vn=C,cl=f,dr=null);break;case"focusout":dr=cl=vn=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,ca(x,n,y);break;case"selectionchange":if(qm)break;case"keydown":case"keyup":ca(x,n,y)}var w;if(ni)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else yn?yc(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(xc&&n.locale!=="ko"&&(yn||S!=="onCompositionStart"?S==="onCompositionEnd"&&yn&&(w=gc()):(Pt=y,Jl="value"in Pt?Pt.value:Pt.textContent,yn=!0)),C=Po(f,S),0<C.length&&(S=new ta(S,e,null,n,y),x.push({event:S,listeners:C}),w?S.data=w:(w=vc(n),w!==null&&(S.data=w)))),(w=Fm?zm(e,n):Am(e,n))&&(f=Po(f,"onBeforeInput"),0<f.length&&(y=new ta("onBeforeInput","beforeinput",null,n,y),x.push({event:y,listeners:f}),y.data=w))}Mc(x,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Po(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=vr(e,n),s!=null&&r.unshift(Er(e,s,o)),s=vr(e,t),s!=null&&r.push(Er(e,s,o))),e=e.return}return r}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ma(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var u=n,a=u.alternate,f=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&f!==null&&(u=f,o?(a=vr(n,s),a!=null&&i.unshift(Er(n,a,u))):o||(a=vr(n,s),a!=null&&i.push(Er(n,a,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Gm=/\r\n?/g,Xm=/\u0000|\uFFFD/g;function pa(e){return(typeof e=="string"?e:""+e).replace(Gm,`
`).replace(Xm,"")}function Zr(e,t,n){if(t=pa(t),pa(e)!==t&&n)throw Error(R(425))}function Mo(){}var fl=null,ml=null;function pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hl=typeof setTimeout=="function"?setTimeout:void 0,Zm=typeof clearTimeout=="function"?clearTimeout:void 0,ha=typeof Promise=="function"?Promise:void 0,Jm=typeof queueMicrotask=="function"?queueMicrotask:typeof ha<"u"?function(e){return ha.resolve(null).then(e).catch(ep)}:hl;function ep(e){setTimeout(function(){throw e})}function Ps(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),kr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);kr(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ga(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),at="__reactFiber$"+Vn,Cr="__reactProps$"+Vn,vt="__reactContainer$"+Vn,gl="__reactEvents$"+Vn,tp="__reactListeners$"+Vn,np="__reactHandles$"+Vn;function Xt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ga(e);e!==null;){if(n=e[at])return n;e=ga(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[at]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function es(e){return e[Cr]||null}var xl=[],kn=-1;function Ht(e){return{current:e}}function ne(e){0>kn||(e.current=xl[kn],xl[kn]=null,kn--)}function ee(e,t){kn++,xl[kn]=e.current,e.current=t}var $t={},je=Ht($t),Fe=Ht(!1),on=$t;function An(e,t){var n=e.type.contextTypes;if(!n)return $t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ze(e){return e=e.childContextTypes,e!=null}function Lo(){ne(Fe),ne(je)}function xa(e,t,n){if(je.current!==$t)throw Error(R(168));ee(je,t),ee(Fe,n)}function Tc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(R(108,Uf(e)||"Unknown",o));return le({},n,r)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$t,on=je.current,ee(je,e),ee(Fe,Fe.current),!0}function ya(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Tc(e,t,on),r.__reactInternalMemoizedMergedChildContext=e,ne(Fe),ne(je),ee(je,e)):ne(Fe),ee(Fe,n)}var pt=null,ts=!1,Ms=!1;function Fc(e){pt===null?pt=[e]:pt.push(e)}function rp(e){ts=!0,Fc(e)}function Vt(){if(!Ms&&pt!==null){Ms=!0;var e=0,t=X;try{var n=pt;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pt=null,ts=!1}catch(o){throw pt!==null&&(pt=pt.slice(e+1)),sc(Yl,Vt),o}finally{X=t,Ms=!1}}return null}var Nn=[],Sn=0,Fo=null,zo=0,Ve=[],We=0,sn=null,ht=1,gt="";function Yt(e,t){Nn[Sn++]=zo,Nn[Sn++]=Fo,Fo=e,zo=t}function zc(e,t,n){Ve[We++]=ht,Ve[We++]=gt,Ve[We++]=sn,sn=e;var r=ht;e=gt;var o=32-tt(r)-1;r&=~(1<<o),n+=1;var s=32-tt(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,ht=1<<32-tt(t)+o|n<<o|r,gt=s+e}else ht=1<<s|n<<o|r,gt=e}function oi(e){e.return!==null&&(Yt(e,1),zc(e,1,0))}function si(e){for(;e===Fo;)Fo=Nn[--Sn],Nn[Sn]=null,zo=Nn[--Sn],Nn[Sn]=null;for(;e===sn;)sn=Ve[--We],Ve[We]=null,gt=Ve[--We],Ve[We]=null,ht=Ve[--We],Ve[We]=null}var De=null,Oe=null,re=!1,et=null;function Ac(e,t){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function va(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Oe=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sn!==null?{id:ht,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Oe=null,!0):!1;default:return!1}}function yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vl(e){if(re){var t=Oe;if(t){var n=t;if(!va(e,t)){if(yl(e))throw Error(R(418));t=zt(n.nextSibling);var r=De;t&&va(e,t)?Ac(r,n):(e.flags=e.flags&-4097|2,re=!1,De=e)}}else{if(yl(e))throw Error(R(418));e.flags=e.flags&-4097|2,re=!1,De=e}}}function wa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Jr(e){if(e!==De)return!1;if(!re)return wa(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pl(e.type,e.memoizedProps)),t&&(t=Oe)){if(yl(e))throw Ic(),Error(R(418));for(;t;)Ac(e,t),t=zt(t.nextSibling)}if(wa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oe=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=De?zt(e.stateNode.nextSibling):null;return!0}function Ic(){for(var e=Oe;e;)e=zt(e.nextSibling)}function In(){Oe=De=null,re=!1}function li(e){et===null?et=[e]:et.push(e)}var op=kt.ReactCurrentBatchConfig;function Xn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var u=o.refs;i===null?delete u[s]:u[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function eo(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _a(e){var t=e._init;return t(e._payload)}function Oc(e){function t(m,c){if(e){var d=m.deletions;d===null?(m.deletions=[c],m.flags|=16):d.push(c)}}function n(m,c){if(!e)return null;for(;c!==null;)t(m,c),c=c.sibling;return null}function r(m,c){for(m=new Map;c!==null;)c.key!==null?m.set(c.key,c):m.set(c.index,c),c=c.sibling;return m}function o(m,c){return m=Dt(m,c),m.index=0,m.sibling=null,m}function s(m,c,d){return m.index=d,e?(d=m.alternate,d!==null?(d=d.index,d<c?(m.flags|=2,c):d):(m.flags|=2,c)):(m.flags|=1048576,c)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function u(m,c,d,v){return c===null||c.tag!==6?(c=Os(d,m.mode,v),c.return=m,c):(c=o(c,d),c.return=m,c)}function a(m,c,d,v){var k=d.type;return k===xn?y(m,c,d.props.children,v,d.key):c!==null&&(c.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Et&&_a(k)===c.type)?(v=o(c,d.props),v.ref=Xn(m,c,d),v.return=m,v):(v=wo(d.type,d.key,d.props,null,m.mode,v),v.ref=Xn(m,c,d),v.return=m,v)}function f(m,c,d,v){return c===null||c.tag!==4||c.stateNode.containerInfo!==d.containerInfo||c.stateNode.implementation!==d.implementation?(c=Ds(d,m.mode,v),c.return=m,c):(c=o(c,d.children||[]),c.return=m,c)}function y(m,c,d,v,k){return c===null||c.tag!==7?(c=nn(d,m.mode,v,k),c.return=m,c):(c=o(c,d),c.return=m,c)}function x(m,c,d){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Os(""+c,m.mode,d),c.return=m,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Hr:return d=wo(c.type,c.key,c.props,null,m.mode,d),d.ref=Xn(m,null,c),d.return=m,d;case gn:return c=Ds(c,m.mode,d),c.return=m,c;case Et:var v=c._init;return x(m,v(c._payload),d)}if(or(c)||qn(c))return c=nn(c,m.mode,d,null),c.return=m,c;eo(m,c)}return null}function p(m,c,d,v){var k=c!==null?c.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return k!==null?null:u(m,c,""+d,v);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Hr:return d.key===k?a(m,c,d,v):null;case gn:return d.key===k?f(m,c,d,v):null;case Et:return k=d._init,p(m,c,k(d._payload),v)}if(or(d)||qn(d))return k!==null?null:y(m,c,d,v,null);eo(m,d)}return null}function N(m,c,d,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(d)||null,u(c,m,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hr:return m=m.get(v.key===null?d:v.key)||null,a(c,m,v,k);case gn:return m=m.get(v.key===null?d:v.key)||null,f(c,m,v,k);case Et:var C=v._init;return N(m,c,d,C(v._payload),k)}if(or(v)||qn(v))return m=m.get(d)||null,y(c,m,v,k,null);eo(c,v)}return null}function _(m,c,d,v){for(var k=null,C=null,w=c,S=c=0,F=null;w!==null&&S<d.length;S++){w.index>S?(F=w,w=null):F=w.sibling;var P=p(m,w,d[S],v);if(P===null){w===null&&(w=F);break}e&&w&&P.alternate===null&&t(m,w),c=s(P,c,S),C===null?k=P:C.sibling=P,C=P,w=F}if(S===d.length)return n(m,w),re&&Yt(m,S),k;if(w===null){for(;S<d.length;S++)w=x(m,d[S],v),w!==null&&(c=s(w,c,S),C===null?k=w:C.sibling=w,C=w);return re&&Yt(m,S),k}for(w=r(m,w);S<d.length;S++)F=N(w,m,S,d[S],v),F!==null&&(e&&F.alternate!==null&&w.delete(F.key===null?S:F.key),c=s(F,c,S),C===null?k=F:C.sibling=F,C=F);return e&&w.forEach(function(B){return t(m,B)}),re&&Yt(m,S),k}function g(m,c,d,v){var k=qn(d);if(typeof k!="function")throw Error(R(150));if(d=k.call(d),d==null)throw Error(R(151));for(var C=k=null,w=c,S=c=0,F=null,P=d.next();w!==null&&!P.done;S++,P=d.next()){w.index>S?(F=w,w=null):F=w.sibling;var B=p(m,w,P.value,v);if(B===null){w===null&&(w=F);break}e&&w&&B.alternate===null&&t(m,w),c=s(B,c,S),C===null?k=B:C.sibling=B,C=B,w=F}if(P.done)return n(m,w),re&&Yt(m,S),k;if(w===null){for(;!P.done;S++,P=d.next())P=x(m,P.value,v),P!==null&&(c=s(P,c,S),C===null?k=P:C.sibling=P,C=P);return re&&Yt(m,S),k}for(w=r(m,w);!P.done;S++,P=d.next())P=N(w,m,S,P.value,v),P!==null&&(e&&P.alternate!==null&&w.delete(P.key===null?S:P.key),c=s(P,c,S),C===null?k=P:C.sibling=P,C=P);return e&&w.forEach(function(H){return t(m,H)}),re&&Yt(m,S),k}function M(m,c,d,v){if(typeof d=="object"&&d!==null&&d.type===xn&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case Hr:e:{for(var k=d.key,C=c;C!==null;){if(C.key===k){if(k=d.type,k===xn){if(C.tag===7){n(m,C.sibling),c=o(C,d.props.children),c.return=m,m=c;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Et&&_a(k)===C.type){n(m,C.sibling),c=o(C,d.props),c.ref=Xn(m,C,d),c.return=m,m=c;break e}n(m,C);break}else t(m,C);C=C.sibling}d.type===xn?(c=nn(d.props.children,m.mode,v,d.key),c.return=m,m=c):(v=wo(d.type,d.key,d.props,null,m.mode,v),v.ref=Xn(m,c,d),v.return=m,m=v)}return i(m);case gn:e:{for(C=d.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(m,c.sibling),c=o(c,d.children||[]),c.return=m,m=c;break e}else{n(m,c);break}else t(m,c);c=c.sibling}c=Ds(d,m.mode,v),c.return=m,m=c}return i(m);case Et:return C=d._init,M(m,c,C(d._payload),v)}if(or(d))return _(m,c,d,v);if(qn(d))return g(m,c,d,v);eo(m,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,c!==null&&c.tag===6?(n(m,c.sibling),c=o(c,d),c.return=m,m=c):(n(m,c),c=Os(d,m.mode,v),c.return=m,m=c),i(m)):n(m,c)}return M}var On=Oc(!0),Dc=Oc(!1),Ao=Ht(null),Io=null,jn=null,ii=null;function ai(){ii=jn=Io=null}function ui(e){var t=Ao.current;ne(Ao),e._currentValue=t}function wl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ln(e,t){Io=e,ii=jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(ii!==e)if(e={context:e,memoizedValue:t,next:null},jn===null){if(Io===null)throw Error(R(308));jn=e,Io.dependencies={lanes:0,firstContext:e}}else jn=jn.next=e;return t}var Zt=null;function ci(e){Zt===null?Zt=[e]:Zt.push(e)}function Uc(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ci(t)):(n.next=o.next,o.next=n),t.interleaved=n,wt(e,r)}function wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ct=!1;function di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,wt(e,n)}return o=r.interleaved,o===null?(t.next=t,ci(r)):(t.next=o.next,o.next=t),r.interleaved=t,wt(e,n)}function po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gl(e,n)}}function ka(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oo(e,t,n,r){var o=e.updateQueue;Ct=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var a=u,f=a.next;a.next=null,i===null?s=f:i.next=f,i=a;var y=e.alternate;y!==null&&(y=y.updateQueue,u=y.lastBaseUpdate,u!==i&&(u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=a))}if(s!==null){var x=o.baseState;i=0,y=f=a=null,u=s;do{var p=u.lane,N=u.eventTime;if((r&p)===p){y!==null&&(y=y.next={eventTime:N,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=e,g=u;switch(p=t,N=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){x=_.call(N,x,p);break e}x=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,p=typeof _=="function"?_.call(N,x,p):_,p==null)break e;x=le({},x,p);break e;case 2:Ct=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[u]:p.push(u))}else N={eventTime:N,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},y===null?(f=y=N,a=x):y=y.next=N,i|=p;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;p=u,u=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(y===null&&(a=x),o.baseState=a,o.firstBaseUpdate=f,o.lastBaseUpdate=y,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);an|=i,e.lanes=i,e.memoizedState=x}}function Na(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(R(191,o));o.call(r)}}}var Or={},ct=Ht(Or),br=Ht(Or),Rr=Ht(Or);function Jt(e){if(e===Or)throw Error(R(174));return e}function fi(e,t){switch(ee(Rr,t),ee(br,e),ee(ct,Or),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:el(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=el(t,e)}ne(ct),ee(ct,t)}function Dn(){ne(ct),ne(br),ne(Rr)}function Bc(e){Jt(Rr.current);var t=Jt(ct.current),n=el(t,e.type);t!==n&&(ee(br,e),ee(ct,n))}function mi(e){br.current===e&&(ne(ct),ne(br))}var oe=Ht(0);function Do(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ls=[];function pi(){for(var e=0;e<Ls.length;e++)Ls[e]._workInProgressVersionPrimary=null;Ls.length=0}var ho=kt.ReactCurrentDispatcher,Ts=kt.ReactCurrentBatchConfig,ln=0,se=null,fe=null,he=null,Uo=!1,fr=!1,Pr=0,sp=0;function ke(){throw Error(R(321))}function hi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function gi(e,t,n,r,o,s){if(ln=s,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=e===null||e.memoizedState===null?up:cp,e=n(r,o),fr){s=0;do{if(fr=!1,Pr=0,25<=s)throw Error(R(301));s+=1,he=fe=null,t.updateQueue=null,ho.current=dp,e=n(r,o)}while(fr)}if(ho.current=$o,t=fe!==null&&fe.next!==null,ln=0,he=fe=se=null,Uo=!1,t)throw Error(R(300));return e}function xi(){var e=Pr!==0;return Pr=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?se.memoizedState=he=e:he=he.next=e,he}function Ye(){if(fe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=he===null?se.memoizedState:he.next;if(t!==null)he=t,fe=e;else{if(e===null)throw Error(R(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},he===null?se.memoizedState=he=e:he=he.next=e}return he}function Mr(e,t){return typeof t=="function"?t(e):t}function Fs(e){var t=Ye(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=fe,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var u=i=null,a=null,f=s;do{var y=f.lane;if((ln&y)===y)a!==null&&(a=a.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var x={lane:y,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};a===null?(u=a=x,i=r):a=a.next=x,se.lanes|=y,an|=y}f=f.next}while(f!==null&&f!==s);a===null?i=r:a.next=u,rt(r,t.memoizedState)||(Te=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,se.lanes|=s,an|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zs(e){var t=Ye(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);rt(s,t.memoizedState)||(Te=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Hc(){}function Vc(e,t){var n=se,r=Ye(),o=t(),s=!rt(r.memoizedState,o);if(s&&(r.memoizedState=o,Te=!0),r=r.queue,yi(Qc.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Lr(9,qc.bind(null,n,r,o,t),void 0,null),ge===null)throw Error(R(349));ln&30||Wc(n,t,o)}return o}function Wc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qc(e,t,n,r){t.value=n,t.getSnapshot=r,Kc(t)&&Yc(e)}function Qc(e,t,n){return n(function(){Kc(t)&&Yc(e)})}function Kc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function Yc(e){var t=wt(e,1);t!==null&&nt(t,e,1,-1)}function Sa(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:e},t.queue=e,e=e.dispatch=ap.bind(null,se,e),[t.memoizedState,e]}function Lr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gc(){return Ye().memoizedState}function go(e,t,n,r){var o=it();se.flags|=e,o.memoizedState=Lr(1|t,n,void 0,r===void 0?null:r)}function ns(e,t,n,r){var o=Ye();r=r===void 0?null:r;var s=void 0;if(fe!==null){var i=fe.memoizedState;if(s=i.destroy,r!==null&&hi(r,i.deps)){o.memoizedState=Lr(t,n,s,r);return}}se.flags|=e,o.memoizedState=Lr(1|t,n,s,r)}function ja(e,t){return go(8390656,8,e,t)}function yi(e,t){return ns(2048,8,e,t)}function Xc(e,t){return ns(4,2,e,t)}function Zc(e,t){return ns(4,4,e,t)}function Jc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ed(e,t,n){return n=n!=null?n.concat([e]):null,ns(4,4,Jc.bind(null,t,e),n)}function vi(){}function td(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nd(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rd(e,t,n){return ln&21?(rt(n,t)||(n=ac(),se.lanes|=n,an|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=n)}function lp(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=Ts.transition;Ts.transition={};try{e(!1),t()}finally{X=n,Ts.transition=r}}function od(){return Ye().memoizedState}function ip(e,t,n){var r=Ot(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sd(e))ld(t,n);else if(n=Uc(e,t,n,r),n!==null){var o=Re();nt(n,e,r,o),id(n,t,r)}}function ap(e,t,n){var r=Ot(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sd(e))ld(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,u=s(i,n);if(o.hasEagerState=!0,o.eagerState=u,rt(u,i)){var a=t.interleaved;a===null?(o.next=o,ci(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Uc(e,t,o,r),n!==null&&(o=Re(),nt(n,e,r,o),id(n,t,r))}}function sd(e){var t=e.alternate;return e===se||t!==null&&t===se}function ld(e,t){fr=Uo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function id(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gl(e,n)}}var $o={readContext:Ke,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},up={readContext:Ke,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:ja,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,go(4194308,4,Jc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=it();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ip.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:Sa,useDebugValue:vi,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=Sa(!1),t=e[0];return e=lp.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,o=it();if(re){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ge===null)throw Error(R(349));ln&30||Wc(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,ja(Qc.bind(null,r,s,e),[e]),r.flags|=2048,Lr(9,qc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=it(),t=ge.identifierPrefix;if(re){var n=gt,r=ht;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cp={readContext:Ke,useCallback:td,useContext:Ke,useEffect:yi,useImperativeHandle:ed,useInsertionEffect:Xc,useLayoutEffect:Zc,useMemo:nd,useReducer:Fs,useRef:Gc,useState:function(){return Fs(Mr)},useDebugValue:vi,useDeferredValue:function(e){var t=Ye();return rd(t,fe.memoizedState,e)},useTransition:function(){var e=Fs(Mr)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Vc,useId:od,unstable_isNewReconciler:!1},dp={readContext:Ke,useCallback:td,useContext:Ke,useEffect:yi,useImperativeHandle:ed,useInsertionEffect:Xc,useLayoutEffect:Zc,useMemo:nd,useReducer:zs,useRef:Gc,useState:function(){return zs(Mr)},useDebugValue:vi,useDeferredValue:function(e){var t=Ye();return fe===null?t.memoizedState=e:rd(t,fe.memoizedState,e)},useTransition:function(){var e=zs(Mr)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Hc,useSyncExternalStore:Vc,useId:od,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _l(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),o=Ot(e),s=xt(r,o);s.payload=t,n!=null&&(s.callback=n),t=At(e,s,o),t!==null&&(nt(t,e,o,r),po(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),o=Ot(e),s=xt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=At(e,s,o),t!==null&&(nt(t,e,o,r),po(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=Ot(e),o=xt(n,r);o.tag=2,t!=null&&(o.callback=t),t=At(e,o,r),t!==null&&(nt(t,e,r,n),po(t,e,r))}};function Ea(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Sr(n,r)||!Sr(o,s):!0}function ad(e,t,n){var r=!1,o=$t,s=t.contextType;return typeof s=="object"&&s!==null?s=Ke(s):(o=ze(t)?on:je.current,r=t.contextTypes,s=(r=r!=null)?An(e,o):$t),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ca(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function kl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},di(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=Ke(s):(s=ze(t)?on:je.current,o.context=An(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_l(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&rs.enqueueReplaceState(o,o.state,null),Oo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Un(e,t){try{var n="",r=t;do n+=Df(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function As(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Nl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fp=typeof WeakMap=="function"?WeakMap:Map;function ud(e,t,n){n=xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ho||(Ho=!0,Tl=r),Nl(e,t)},n}function cd(e,t,n){n=xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Nl(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Nl(e,t),typeof r!="function"&&(It===null?It=new Set([this]):It.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ba(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fp;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ep.bind(null,e,t,n),t.then(e,e))}function Ra(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pa(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xt(-1,1),t.tag=2,At(n,t,1))),n.lanes|=1),e)}var mp=kt.ReactCurrentOwner,Te=!1;function be(e,t,n,r){t.child=e===null?Dc(t,null,n,r):On(t,e.child,n,r)}function Ma(e,t,n,r,o){n=n.render;var s=t.ref;return Ln(t,o),r=gi(e,t,n,r,s,o),n=xi(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_t(e,t,o)):(re&&n&&oi(t),t.flags|=1,be(e,t,r,o),t.child)}function La(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Ci(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,dd(e,t,s,r,o)):(e=wo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sr,n(i,r)&&e.ref===t.ref)return _t(e,t,o)}return t.flags|=1,e=Dt(s,r),e.ref=t.ref,e.return=t,t.child=e}function dd(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Sr(s,r)&&e.ref===t.ref)if(Te=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,_t(e,t,o)}return Sl(e,t,n,r,o)}function fd(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Cn,Ie),Ie|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Cn,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ee(Cn,Ie),Ie|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ee(Cn,Ie),Ie|=r;return be(e,t,o,n),t.child}function md(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,n,r,o){var s=ze(n)?on:je.current;return s=An(t,s),Ln(t,o),n=gi(e,t,n,r,s,o),r=xi(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,_t(e,t,o)):(re&&r&&oi(t),t.flags|=1,be(e,t,n,o),t.child)}function Ta(e,t,n,r,o){if(ze(n)){var s=!0;To(t)}else s=!1;if(Ln(t,o),t.stateNode===null)xo(e,t),ad(t,n,r),kl(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var a=i.context,f=n.contextType;typeof f=="object"&&f!==null?f=Ke(f):(f=ze(n)?on:je.current,f=An(t,f));var y=n.getDerivedStateFromProps,x=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==r||a!==f)&&Ca(t,i,r,f),Ct=!1;var p=t.memoizedState;i.state=p,Oo(t,r,i,o),a=t.memoizedState,u!==r||p!==a||Fe.current||Ct?(typeof y=="function"&&(_l(t,n,y,r),a=t.memoizedState),(u=Ct||Ea(t,n,u,r,p,a,f))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=f,r=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,$c(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Ze(t.type,u),i.props=f,x=t.pendingProps,p=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ke(a):(a=ze(n)?on:je.current,a=An(t,a));var N=n.getDerivedStateFromProps;(y=typeof N=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==x||p!==a)&&Ca(t,i,r,a),Ct=!1,p=t.memoizedState,i.state=p,Oo(t,r,i,o);var _=t.memoizedState;u!==x||p!==_||Fe.current||Ct?(typeof N=="function"&&(_l(t,n,N,r),_=t.memoizedState),(f=Ct||Ea(t,n,f,r,p,_,a)||!1)?(y||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,_,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,_,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),i.props=r,i.state=_,i.context=a,r=f):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return jl(e,t,n,r,s,o)}function jl(e,t,n,r,o,s){md(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&ya(t,n,!1),_t(e,t,s);r=t.stateNode,mp.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=On(t,e.child,null,s),t.child=On(t,null,u,s)):be(e,t,u,s),t.memoizedState=r.state,o&&ya(t,n,!0),t.child}function pd(e){var t=e.stateNode;t.pendingContext?xa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xa(e,t.context,!1),fi(e,t.containerInfo)}function Fa(e,t,n,r,o){return In(),li(o),t.flags|=256,be(e,t,n,r),t.child}var El={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function hd(e,t,n){var r=t.pendingProps,o=oe.current,s=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ee(oe,o&1),e===null)return vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ls(i,r,0,null),e=nn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cl(n),t.memoizedState=El,e):wi(t,i));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return pp(e,t,i,r,u,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,u=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Dt(o,a),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?s=Dt(u,s):(s=nn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Cl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=El,r}return s=e.child,e=s.sibling,r=Dt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wi(e,t){return t=ls({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function to(e,t,n,r){return r!==null&&li(r),On(t,e.child,null,n),e=wi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pp(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=As(Error(R(422))),to(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=ls({mode:"visible",children:r.children},o,0,null),s=nn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&On(t,e.child,null,i),t.child.memoizedState=Cl(i),t.memoizedState=El,s);if(!(t.mode&1))return to(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(R(419)),r=As(s,r,void 0),to(e,t,i,r)}if(u=(i&e.childLanes)!==0,Te||u){if(r=ge,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,wt(e,o),nt(r,e,o,-1))}return Ei(),r=As(Error(R(421))),to(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Cp.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Oe=zt(o.nextSibling),De=t,re=!0,et=null,e!==null&&(Ve[We++]=ht,Ve[We++]=gt,Ve[We++]=sn,ht=e.id,gt=e.overflow,sn=t),t=wi(t,r.children),t.flags|=4096,t)}function za(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wl(e.return,t,n)}function Is(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function gd(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(be(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&za(e,n,t);else if(e.tag===19)za(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(oe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Do(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Is(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Do(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Is(t,!0,n,null,s);break;case"together":Is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),an|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Dt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hp(e,t,n){switch(t.tag){case 3:pd(t),In();break;case 5:Bc(t);break;case 1:ze(t.type)&&To(t);break;case 4:fi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ee(Ao,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?hd(e,t,n):(ee(oe,oe.current&1),e=_t(e,t,n),e!==null?e.sibling:null);ee(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gd(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ee(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,fd(e,t,n)}return _t(e,t,n)}var xd,bl,yd,vd;xd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bl=function(){};yd=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Jt(ct.current);var s=null;switch(n){case"input":o=Gs(e,o),r=Gs(e,r),s=[];break;case"select":o=le({},o,{value:void 0}),r=le({},r,{value:void 0}),s=[];break;case"textarea":o=Js(e,o),r=Js(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mo)}tl(n,r);var i;n=null;for(f in o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var u=o[f];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(xr.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var a=r[f];if(u=o!=null?o[f]:void 0,r.hasOwnProperty(f)&&a!==u&&(a!=null||u!=null))if(f==="style")if(u){for(i in u)!u.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&u[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(s||(s=[]),s.push(f,n)),n=a;else f==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(s=s||[]).push(f,a)):f==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(f,""+a):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(xr.hasOwnProperty(f)?(a!=null&&f==="onScroll"&&te("scroll",e),s||u===a||(s=[])):(s=s||[]).push(f,a))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zn(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gp(e,t,n){var r=t.pendingProps;switch(si(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return ze(t.type)&&Lo(),Ne(t),null;case 3:return r=t.stateNode,Dn(),ne(Fe),ne(je),pi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Al(et),et=null))),bl(e,t),Ne(t),null;case 5:mi(t);var o=Jt(Rr.current);if(n=t.type,e!==null&&t.stateNode!=null)yd(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Ne(t),null}if(e=Jt(ct.current),Jr(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[at]=t,r[Cr]=s,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(o=0;o<lr.length;o++)te(lr[o],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Vi(r,s),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},te("invalid",r);break;case"textarea":qi(r,s),te("invalid",r)}tl(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Zr(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Zr(r.textContent,u,e),o=["children",""+u]):xr.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&te("scroll",r)}switch(n){case"input":Vr(r),Wi(r,s,!0);break;case"textarea":Vr(r),Qi(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mo)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[at]=t,e[Cr]=r,xd(e,t,!1,!1),t.stateNode=e;e:{switch(i=nl(n,r),n){case"dialog":te("cancel",e),te("close",e),o=r;break;case"iframe":case"object":case"embed":te("load",e),o=r;break;case"video":case"audio":for(o=0;o<lr.length;o++)te(lr[o],e);o=r;break;case"source":te("error",e),o=r;break;case"img":case"image":case"link":te("error",e),te("load",e),o=r;break;case"details":te("toggle",e),o=r;break;case"input":Vi(e,r),o=Gs(e,r),te("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=le({},r,{value:void 0}),te("invalid",e);break;case"textarea":qi(e,r),o=Js(e,r),te("invalid",e);break;default:o=r}tl(n,o),u=o;for(s in u)if(u.hasOwnProperty(s)){var a=u[s];s==="style"?Gu(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ku(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&yr(e,a):typeof a=="number"&&yr(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xr.hasOwnProperty(s)?a!=null&&s==="onScroll"&&te("scroll",e):a!=null&&Vl(e,s,a,i))}switch(n){case"input":Vr(e),Wi(e,r,!1);break;case"textarea":Vr(e),Qi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?bn(e,!!r.multiple,s,!1):r.defaultValue!=null&&bn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Mo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Jt(Rr.current),Jt(ct.current),Jr(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(s=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:Zr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zr(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return Ne(t),null;case 13:if(ne(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Oe!==null&&t.mode&1&&!(t.flags&128))Ic(),In(),t.flags|=98560,s=!1;else if(s=Jr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[at]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),s=!1}else et!==null&&(Al(et),et=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?me===0&&(me=3):Ei())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return Dn(),bl(e,t),e===null&&jr(t.stateNode.containerInfo),Ne(t),null;case 10:return ui(t.type._context),Ne(t),null;case 17:return ze(t.type)&&Lo(),Ne(t),null;case 19:if(ne(oe),s=t.memoizedState,s===null)return Ne(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Zn(s,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Do(e),i!==null){for(t.flags|=128,Zn(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(oe,oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ce()>$n&&(t.flags|=128,r=!0,Zn(s,!1),t.lanes=4194304)}else{if(!r)if(e=Do(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!re)return Ne(t),null}else 2*ce()-s.renderingStartTime>$n&&n!==1073741824&&(t.flags|=128,r=!0,Zn(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ce(),t.sibling=null,n=oe.current,ee(oe,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return ji(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ie&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function xp(e,t){switch(si(t),t.tag){case 1:return ze(t.type)&&Lo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(),ne(Fe),ne(je),pi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mi(t),null;case 13:if(ne(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(oe),null;case 4:return Dn(),null;case 10:return ui(t.type._context),null;case 22:case 23:return ji(),null;case 24:return null;default:return null}}var no=!1,Se=!1,yp=typeof WeakSet=="function"?WeakSet:Set,O=null;function En(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Rl(e,t,n){try{n()}catch(r){ae(e,t,r)}}var Aa=!1;function vp(e,t){if(fl=bo,e=Sc(),ri(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,u=-1,a=-1,f=0,y=0,x=e,p=null;t:for(;;){for(var N;x!==n||o!==0&&x.nodeType!==3||(u=i+o),x!==s||r!==0&&x.nodeType!==3||(a=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(N=x.firstChild)!==null;)p=x,x=N;for(;;){if(x===e)break t;if(p===n&&++f===o&&(u=i),p===s&&++y===r&&(a=i),(N=x.nextSibling)!==null)break;x=p,p=x.parentNode}x=N}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ml={focusedElem:e,selectionRange:n},bo=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,M=_.memoizedState,m=t.stateNode,c=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ze(t.type,g),M);m.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(v){ae(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return _=Aa,Aa=!1,_}function mr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Rl(t,n,s)}o=o.next}while(o!==r)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wd(e){var t=e.alternate;t!==null&&(e.alternate=null,wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Cr],delete t[gl],delete t[tp],delete t[np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _d(e){return e.tag===5||e.tag===3||e.tag===4}function Ia(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mo));else if(r!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}function Ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ll(e,t,n),e=e.sibling;e!==null;)Ll(e,t,n),e=e.sibling}var ye=null,Je=!1;function jt(e,t,n){for(n=n.child;n!==null;)kd(e,t,n),n=n.sibling}function kd(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Go,n)}catch{}switch(n.tag){case 5:Se||En(n,t);case 6:var r=ye,o=Je;ye=null,jt(e,t,n),ye=r,Je=o,ye!==null&&(Je?(e=ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(Je?(e=ye,n=n.stateNode,e.nodeType===8?Ps(e.parentNode,n):e.nodeType===1&&Ps(e,n),kr(e)):Ps(ye,n.stateNode));break;case 4:r=ye,o=Je,ye=n.stateNode.containerInfo,Je=!0,jt(e,t,n),ye=r,Je=o;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Rl(n,t,i),o=o.next}while(o!==r)}jt(e,t,n);break;case 1:if(!Se&&(En(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ae(n,t,u)}jt(e,t,n);break;case 21:jt(e,t,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,jt(e,t,n),Se=r):jt(e,t,n);break;default:jt(e,t,n)}}function Oa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yp),t.forEach(function(r){var o=bp.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Xe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:ye=u.stateNode,Je=!1;break e;case 3:ye=u.stateNode.containerInfo,Je=!0;break e;case 4:ye=u.stateNode.containerInfo,Je=!0;break e}u=u.return}if(ye===null)throw Error(R(160));kd(s,i,o),ye=null,Je=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(f){ae(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nd(t,e),t=t.sibling}function Nd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),lt(e),r&4){try{mr(3,e,e.return),os(3,e)}catch(g){ae(e,e.return,g)}try{mr(5,e,e.return)}catch(g){ae(e,e.return,g)}}break;case 1:Xe(t,e),lt(e),r&512&&n!==null&&En(n,n.return);break;case 5:if(Xe(t,e),lt(e),r&512&&n!==null&&En(n,n.return),e.flags&32){var o=e.stateNode;try{yr(o,"")}catch(g){ae(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Wu(o,s),nl(u,i);var f=nl(u,s);for(i=0;i<a.length;i+=2){var y=a[i],x=a[i+1];y==="style"?Gu(o,x):y==="dangerouslySetInnerHTML"?Ku(o,x):y==="children"?yr(o,x):Vl(o,y,x,f)}switch(u){case"input":Xs(o,s);break;case"textarea":qu(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var N=s.value;N!=null?bn(o,!!s.multiple,N,!1):p!==!!s.multiple&&(s.defaultValue!=null?bn(o,!!s.multiple,s.defaultValue,!0):bn(o,!!s.multiple,s.multiple?[]:"",!1))}o[Cr]=s}catch(g){ae(e,e.return,g)}}break;case 6:if(Xe(t,e),lt(e),r&4){if(e.stateNode===null)throw Error(R(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){ae(e,e.return,g)}}break;case 3:if(Xe(t,e),lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(g){ae(e,e.return,g)}break;case 4:Xe(t,e),lt(e);break;case 13:Xe(t,e),lt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ni=ce())),r&4&&Oa(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Se=(f=Se)||y,Xe(t,e),Se=f):Xe(t,e),lt(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!y&&e.mode&1)for(O=e,y=e.child;y!==null;){for(x=O=y;O!==null;){switch(p=O,N=p.child,p.tag){case 0:case 11:case 14:case 15:mr(4,p,p.return);break;case 1:En(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(g){ae(r,n,g)}}break;case 5:En(p,p.return);break;case 22:if(p.memoizedState!==null){Ua(x);continue}}N!==null?(N.return=p,O=N):Ua(x)}y=y.sibling}e:for(y=null,x=e;;){if(x.tag===5){if(y===null){y=x;try{o=x.stateNode,f?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=x.stateNode,a=x.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=Yu("display",i))}catch(g){ae(e,e.return,g)}}}else if(x.tag===6){if(y===null)try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(g){ae(e,e.return,g)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;y===x&&(y=null),x=x.return}y===x&&(y=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Xe(t,e),lt(e),r&4&&Oa(e);break;case 21:break;default:Xe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_d(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(yr(o,""),r.flags&=-33);var s=Ia(e);Ll(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,u=Ia(e);Ml(e,u,i);break;default:throw Error(R(161))}}catch(a){ae(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wp(e,t,n){O=e,Sd(e)}function Sd(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var o=O,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||no;if(!i){var u=o.alternate,a=u!==null&&u.memoizedState!==null||Se;u=no;var f=Se;if(no=i,(Se=a)&&!f)for(O=o;O!==null;)i=O,a=i.child,i.tag===22&&i.memoizedState!==null?$a(o):a!==null?(a.return=i,O=a):$a(o);for(;s!==null;)O=s,Sd(s),s=s.sibling;O=o,no=u,Se=f}Da(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,O=s):Da(e)}}function Da(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Se||os(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Se)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ze(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Na(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Na(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var y=f.memoizedState;if(y!==null){var x=y.dehydrated;x!==null&&kr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Se||t.flags&512&&Pl(t)}catch(p){ae(t,t.return,p)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Ua(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function $a(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(a){ae(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ae(t,o,a)}}var s=t.return;try{Pl(t)}catch(a){ae(t,s,a)}break;case 5:var i=t.return;try{Pl(t)}catch(a){ae(t,i,a)}}}catch(a){ae(t,t.return,a)}if(t===e){O=null;break}var u=t.sibling;if(u!==null){u.return=t.return,O=u;break}O=t.return}}var _p=Math.ceil,Bo=kt.ReactCurrentDispatcher,_i=kt.ReactCurrentOwner,Qe=kt.ReactCurrentBatchConfig,Y=0,ge=null,de=null,ve=0,Ie=0,Cn=Ht(0),me=0,Tr=null,an=0,ss=0,ki=0,pr=null,Le=null,Ni=0,$n=1/0,mt=null,Ho=!1,Tl=null,It=null,ro=!1,Mt=null,Vo=0,hr=0,Fl=null,yo=-1,vo=0;function Re(){return Y&6?ce():yo!==-1?yo:yo=ce()}function Ot(e){return e.mode&1?Y&2&&ve!==0?ve&-ve:op.transition!==null?(vo===0&&(vo=ac()),vo):(e=X,e!==0||(e=window.event,e=e===void 0?16:hc(e.type)),e):1}function nt(e,t,n,r){if(50<hr)throw hr=0,Fl=null,Error(R(185));zr(e,n,r),(!(Y&2)||e!==ge)&&(e===ge&&(!(Y&2)&&(ss|=n),me===4&&Rt(e,ve)),Ae(e,r),n===1&&Y===0&&!(t.mode&1)&&($n=ce()+500,ts&&Vt()))}function Ae(e,t){var n=e.callbackNode;om(e,t);var r=Co(e,e===ge?ve:0);if(r===0)n!==null&&Gi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gi(n),t===1)e.tag===0?rp(Ba.bind(null,e)):Fc(Ba.bind(null,e)),Jm(function(){!(Y&6)&&Vt()}),n=null;else{switch(uc(r)){case 1:n=Yl;break;case 4:n=lc;break;case 16:n=Eo;break;case 536870912:n=ic;break;default:n=Eo}n=Ld(n,jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jd(e,t){if(yo=-1,vo=0,Y&6)throw Error(R(327));var n=e.callbackNode;if(Tn()&&e.callbackNode!==n)return null;var r=Co(e,e===ge?ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wo(e,r);else{t=r;var o=Y;Y|=2;var s=Cd();(ge!==e||ve!==t)&&(mt=null,$n=ce()+500,tn(e,t));do try{Sp();break}catch(u){Ed(e,u)}while(!0);ai(),Bo.current=s,Y=o,de!==null?t=0:(ge=null,ve=0,t=me)}if(t!==0){if(t===2&&(o=il(e),o!==0&&(r=o,t=zl(e,o))),t===1)throw n=Tr,tn(e,0),Rt(e,r),Ae(e,ce()),n;if(t===6)Rt(e,r);else{if(o=e.current.alternate,!(r&30)&&!kp(o)&&(t=Wo(e,r),t===2&&(s=il(e),s!==0&&(r=s,t=zl(e,s))),t===1))throw n=Tr,tn(e,0),Rt(e,r),Ae(e,ce()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Gt(e,Le,mt);break;case 3:if(Rt(e,r),(r&130023424)===r&&(t=Ni+500-ce(),10<t)){if(Co(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=hl(Gt.bind(null,e,Le,mt),t);break}Gt(e,Le,mt);break;case 4:if(Rt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-tt(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_p(r/1960))-r,10<r){e.timeoutHandle=hl(Gt.bind(null,e,Le,mt),r);break}Gt(e,Le,mt);break;case 5:Gt(e,Le,mt);break;default:throw Error(R(329))}}}return Ae(e,ce()),e.callbackNode===n?jd.bind(null,e):null}function zl(e,t){var n=pr;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=Le,Le=n,t!==null&&Al(t)),e}function Al(e){Le===null?Le=e:Le.push.apply(Le,e)}function kp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!rt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~ki,t&=~ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function Ba(e){if(Y&6)throw Error(R(327));Tn();var t=Co(e,0);if(!(t&1))return Ae(e,ce()),null;var n=Wo(e,t);if(e.tag!==0&&n===2){var r=il(e);r!==0&&(t=r,n=zl(e,r))}if(n===1)throw n=Tr,tn(e,0),Rt(e,t),Ae(e,ce()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gt(e,Le,mt),Ae(e,ce()),null}function Si(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&($n=ce()+500,ts&&Vt())}}function un(e){Mt!==null&&Mt.tag===0&&!(Y&6)&&Tn();var t=Y;Y|=1;var n=Qe.transition,r=X;try{if(Qe.transition=null,X=1,e)return e()}finally{X=r,Qe.transition=n,Y=t,!(Y&6)&&Vt()}}function ji(){Ie=Cn.current,ne(Cn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zm(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(si(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lo();break;case 3:Dn(),ne(Fe),ne(je),pi();break;case 5:mi(r);break;case 4:Dn();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:ui(r.type._context);break;case 22:case 23:ji()}n=n.return}if(ge=e,de=e=Dt(e.current,null),ve=Ie=t,me=0,Tr=null,ki=ss=an=0,Le=pr=null,Zt!==null){for(t=0;t<Zt.length;t++)if(n=Zt[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Zt=null}return e}function Ed(e,t){do{var n=de;try{if(ai(),ho.current=$o,Uo){for(var r=se.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Uo=!1}if(ln=0,he=fe=se=null,fr=!1,Pr=0,_i.current=null,n===null||n.return===null){me=1,Tr=t,de=null;break}e:{var s=e,i=n.return,u=n,a=t;if(t=ve,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var f=a,y=u,x=y.tag;if(!(y.mode&1)&&(x===0||x===11||x===15)){var p=y.alternate;p?(y.updateQueue=p.updateQueue,y.memoizedState=p.memoizedState,y.lanes=p.lanes):(y.updateQueue=null,y.memoizedState=null)}var N=Ra(i);if(N!==null){N.flags&=-257,Pa(N,i,u,s,t),N.mode&1&&ba(s,f,t),t=N,a=f;var _=t.updateQueue;if(_===null){var g=new Set;g.add(a),t.updateQueue=g}else _.add(a);break e}else{if(!(t&1)){ba(s,f,t),Ei();break e}a=Error(R(426))}}else if(re&&u.mode&1){var M=Ra(i);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Pa(M,i,u,s,t),li(Un(a,u));break e}}s=a=Un(a,u),me!==4&&(me=2),pr===null?pr=[s]:pr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=ud(s,a,t);ka(s,m);break e;case 1:u=a;var c=s.type,d=s.stateNode;if(!(s.flags&128)&&(typeof c.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(It===null||!It.has(d)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=cd(s,u,t);ka(s,v);break e}}s=s.return}while(s!==null)}Rd(n)}catch(k){t=k,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Cd(){var e=Bo.current;return Bo.current=$o,e===null?$o:e}function Ei(){(me===0||me===3||me===2)&&(me=4),ge===null||!(an&268435455)&&!(ss&268435455)||Rt(ge,ve)}function Wo(e,t){var n=Y;Y|=2;var r=Cd();(ge!==e||ve!==t)&&(mt=null,tn(e,t));do try{Np();break}catch(o){Ed(e,o)}while(!0);if(ai(),Y=n,Bo.current=r,de!==null)throw Error(R(261));return ge=null,ve=0,me}function Np(){for(;de!==null;)bd(de)}function Sp(){for(;de!==null&&!Yf();)bd(de)}function bd(e){var t=Md(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?Rd(e):de=t,_i.current=null}function Rd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xp(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(n=gp(n,t,Ie),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function Gt(e,t,n){var r=X,o=Qe.transition;try{Qe.transition=null,X=1,jp(e,t,n,r)}finally{Qe.transition=o,X=r}return null}function jp(e,t,n,r){do Tn();while(Mt!==null);if(Y&6)throw Error(R(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(sm(e,s),e===ge&&(de=ge=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ro||(ro=!0,Ld(Eo,function(){return Tn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qe.transition,Qe.transition=null;var i=X;X=1;var u=Y;Y|=4,_i.current=null,vp(e,n),Nd(n,e),Wm(ml),bo=!!fl,ml=fl=null,e.current=n,wp(n),Gf(),Y=u,X=i,Qe.transition=s}else e.current=n;if(ro&&(ro=!1,Mt=e,Vo=o),s=e.pendingLanes,s===0&&(It=null),Jf(n.stateNode),Ae(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ho)throw Ho=!1,e=Tl,Tl=null,e;return Vo&1&&e.tag!==0&&Tn(),s=e.pendingLanes,s&1?e===Fl?hr++:(hr=0,Fl=e):hr=0,Vt(),null}function Tn(){if(Mt!==null){var e=uc(Vo),t=Qe.transition,n=X;try{if(Qe.transition=null,X=16>e?16:e,Mt===null)var r=!1;else{if(e=Mt,Mt=null,Vo=0,Y&6)throw Error(R(331));var o=Y;for(Y|=4,O=e.current;O!==null;){var s=O,i=s.child;if(O.flags&16){var u=s.deletions;if(u!==null){for(var a=0;a<u.length;a++){var f=u[a];for(O=f;O!==null;){var y=O;switch(y.tag){case 0:case 11:case 15:mr(8,y,s)}var x=y.child;if(x!==null)x.return=y,O=x;else for(;O!==null;){y=O;var p=y.sibling,N=y.return;if(wd(y),y===f){O=null;break}if(p!==null){p.return=N,O=p;break}O=N}}}var _=s.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var M=g.sibling;g.sibling=null,g=M}while(g!==null)}}O=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,O=i;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mr(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,O=m;break e}O=s.return}}var c=e.current;for(O=c;O!==null;){i=O;var d=i.child;if(i.subtreeFlags&2064&&d!==null)d.return=i,O=d;else e:for(i=c;O!==null;){if(u=O,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:os(9,u)}}catch(k){ae(u,u.return,k)}if(u===i){O=null;break e}var v=u.sibling;if(v!==null){v.return=u.return,O=v;break e}O=u.return}}if(Y=o,Vt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Go,e)}catch{}r=!0}return r}finally{X=n,Qe.transition=t}}return!1}function Ha(e,t,n){t=Un(n,t),t=ud(e,t,1),e=At(e,t,1),t=Re(),e!==null&&(zr(e,1,t),Ae(e,t))}function ae(e,t,n){if(e.tag===3)Ha(e,e,n);else for(;t!==null;){if(t.tag===3){Ha(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(It===null||!It.has(r))){e=Un(n,e),e=cd(t,e,1),t=At(t,e,1),e=Re(),t!==null&&(zr(t,1,e),Ae(t,e));break}}t=t.return}}function Ep(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(ve&n)===n&&(me===4||me===3&&(ve&130023424)===ve&&500>ce()-Ni?tn(e,0):ki|=n),Ae(e,t)}function Pd(e,t){t===0&&(e.mode&1?(t=Qr,Qr<<=1,!(Qr&130023424)&&(Qr=4194304)):t=1);var n=Re();e=wt(e,t),e!==null&&(zr(e,t,n),Ae(e,n))}function Cp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pd(e,n)}function bp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Pd(e,n)}var Md;Md=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Te=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Te=!1,hp(e,t,n);Te=!!(e.flags&131072)}else Te=!1,re&&t.flags&1048576&&zc(t,zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xo(e,t),e=t.pendingProps;var o=An(t,je.current);Ln(t,n),o=gi(null,t,r,e,o,n);var s=xi();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(s=!0,To(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,di(t),o.updater=rs,t.stateNode=o,o._reactInternals=t,kl(t,r,e,n),t=jl(null,t,r,!0,s,n)):(t.tag=0,re&&s&&oi(t),be(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Pp(r),e=Ze(r,e),o){case 0:t=Sl(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Ma(null,t,r,e,n);break e;case 14:t=La(null,t,r,Ze(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),Sl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),Ta(e,t,r,o,n);case 3:e:{if(pd(t),e===null)throw Error(R(387));r=t.pendingProps,s=t.memoizedState,o=s.element,$c(e,t),Oo(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Un(Error(R(423)),t),t=Fa(e,t,r,n,o);break e}else if(r!==o){o=Un(Error(R(424)),t),t=Fa(e,t,r,n,o);break e}else for(Oe=zt(t.stateNode.containerInfo.firstChild),De=t,re=!0,et=null,n=Dc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(In(),r===o){t=_t(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return Bc(t),e===null&&vl(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,pl(r,o)?i=null:s!==null&&pl(r,s)&&(t.flags|=32),md(e,t),be(e,t,i,n),t.child;case 6:return e===null&&vl(t),null;case 13:return hd(e,t,n);case 4:return fi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=On(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),Ma(e,t,r,o,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,ee(Ao,r._currentValue),r._currentValue=i,s!==null)if(rt(s.value,i)){if(s.children===o.children&&!Fe.current){t=_t(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){i=s.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=xt(-1,n&-n),a.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var y=f.pending;y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wl(s.return,n,t),u.lanes|=n;break}a=a.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(R(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),wl(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}be(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ln(t,n),o=Ke(o),r=r(o),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,o=Ze(r,t.pendingProps),o=Ze(r.type,o),La(e,t,r,o,n);case 15:return dd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ze(r,o),xo(e,t),t.tag=1,ze(r)?(e=!0,To(t)):e=!1,Ln(t,n),ad(t,r,o),kl(t,r,o,n),jl(null,t,r,!0,e,n);case 19:return gd(e,t,n);case 22:return fd(e,t,n)}throw Error(R(156,t.tag))};function Ld(e,t){return sc(e,t)}function Rp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,n,r){return new Rp(e,t,n,r)}function Ci(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pp(e){if(typeof e=="function")return Ci(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ql)return 11;if(e===Ql)return 14}return 2}function Dt(e,t){var n=e.alternate;return n===null?(n=qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wo(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Ci(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case xn:return nn(n.children,o,s,t);case Wl:i=8,o|=8;break;case qs:return e=qe(12,n,t,o|2),e.elementType=qs,e.lanes=s,e;case Qs:return e=qe(13,n,t,o),e.elementType=Qs,e.lanes=s,e;case Ks:return e=qe(19,n,t,o),e.elementType=Ks,e.lanes=s,e;case Bu:return ls(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uu:i=10;break e;case $u:i=9;break e;case ql:i=11;break e;case Ql:i=14;break e;case Et:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=qe(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function nn(e,t,n,r){return e=qe(7,e,r,t),e.lanes=n,e}function ls(e,t,n,r){return e=qe(22,e,r,t),e.elementType=Bu,e.lanes=n,e.stateNode={isHidden:!1},e}function Os(e,t,n){return e=qe(6,e,null,t),e.lanes=n,e}function Ds(e,t,n){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mp(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bi(e,t,n,r,o,s,i,u,a){return e=new Mp(e,t,n,u,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},di(s),e}function Lp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Td(e){if(!e)return $t;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(ze(n))return Tc(e,n,t)}return t}function Fd(e,t,n,r,o,s,i,u,a){return e=bi(n,r,!0,e,o,s,i,u,a),e.context=Td(null),n=e.current,r=Re(),o=Ot(n),s=xt(r,o),s.callback=t??null,At(n,s,o),e.current.lanes=o,zr(e,o,r),Ae(e,r),e}function is(e,t,n,r){var o=t.current,s=Re(),i=Ot(o);return n=Td(n),t.context===null?t.context=n:t.pendingContext=n,t=xt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=At(o,t,i),e!==null&&(nt(e,o,i,s),po(e,o,i)),i}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Va(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ri(e,t){Va(e,t),(e=e.alternate)&&Va(e,t)}function Tp(){return null}var zd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pi(e){this._internalRoot=e}as.prototype.render=Pi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));is(e,t,null,null)};as.prototype.unmount=Pi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;un(function(){is(null,e,null,null)}),t[vt]=null}};function as(e){this._internalRoot=e}as.prototype.unstable_scheduleHydration=function(e){if(e){var t=fc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bt.length&&t!==0&&t<bt[n].priority;n++);bt.splice(n,0,e),n===0&&pc(e)}};function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function us(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wa(){}function Fp(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var f=qo(i);s.call(f)}}var i=Fd(t,r,e,0,null,!1,!1,"",Wa);return e._reactRootContainer=i,e[vt]=i.current,jr(e.nodeType===8?e.parentNode:e),un(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var f=qo(a);u.call(f)}}var a=bi(e,0,!1,null,null,!1,!1,"",Wa);return e._reactRootContainer=a,e[vt]=a.current,jr(e.nodeType===8?e.parentNode:e),un(function(){is(t,a,n,r)}),a}function cs(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var u=o;o=function(){var a=qo(i);u.call(a)}}is(t,i,e,o)}else i=Fp(n,t,e,o,r);return qo(i)}cc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sr(t.pendingLanes);n!==0&&(Gl(t,n|1),Ae(t,ce()),!(Y&6)&&($n=ce()+500,Vt()))}break;case 13:un(function(){var r=wt(e,1);if(r!==null){var o=Re();nt(r,e,1,o)}}),Ri(e,1)}};Xl=function(e){if(e.tag===13){var t=wt(e,134217728);if(t!==null){var n=Re();nt(t,e,134217728,n)}Ri(e,134217728)}};dc=function(e){if(e.tag===13){var t=Ot(e),n=wt(e,t);if(n!==null){var r=Re();nt(n,e,t,r)}Ri(e,t)}};fc=function(){return X};mc=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};ol=function(e,t,n){switch(t){case"input":if(Xs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=es(r);if(!o)throw Error(R(90));Vu(r),Xs(r,o)}}}break;case"textarea":qu(e,n);break;case"select":t=n.value,t!=null&&bn(e,!!n.multiple,t,!1)}};Ju=Si;ec=un;var zp={usingClientEntryPoint:!1,Events:[Ir,_n,es,Xu,Zu,Si]},Jn={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ap={bundleType:Jn.bundleType,version:Jn.version,rendererPackageName:Jn.rendererPackageName,rendererConfig:Jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rc(e),e===null?null:e.stateNode},findFiberByHostInstance:Jn.findFiberByHostInstance||Tp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Go=oo.inject(Ap),ut=oo}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zp;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mi(t))throw Error(R(200));return Lp(e,t,null,n)};$e.createRoot=function(e,t){if(!Mi(e))throw Error(R(299));var n=!1,r="",o=zd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bi(e,1,!1,null,null,n,!1,r,o),e[vt]=t.current,jr(e.nodeType===8?e.parentNode:e),new Pi(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=rc(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return un(e)};$e.hydrate=function(e,t,n){if(!us(t))throw Error(R(200));return cs(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!Mi(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=zd;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Fd(t,null,e,1,n??null,o,!1,s,i),e[vt]=t.current,jr(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new as(t)};$e.render=function(e,t,n){if(!us(t))throw Error(R(200));return cs(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!us(e))throw Error(R(40));return e._reactRootContainer?(un(function(){cs(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};$e.unstable_batchedUpdates=Si;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!us(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return cs(e,t,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function Ad(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ad)}catch(e){console.error(e)}}Ad(),Au.exports=$e;var Ip=Au.exports,qa=Ip;Vs.createRoot=qa.createRoot,Vs.hydrateRoot=qa.hydrateRoot;const Op="https://aknzrsgymehrixfwqefq.supabase.co",Dp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrbnpyc2d5bWVocml4ZndxZWZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMjUyODgsImV4cCI6MjA4NjYwMTI4OH0.ESpNDYKwlK72Ebj19yk5qoUDtOr3PY_rQ5dQSelwZL8",Up={getItem:async e=>{const n=(await chrome.storage.local.get(e))[e];if(n==null)return null;if(typeof n=="string")return n;try{return JSON.stringify(n)}catch{return null}},setItem:async(e,t)=>{await chrome.storage.local.set({[e]:t})},removeItem:async e=>{await chrome.storage.local.remove(e)}};async function $p(e,t,n){var s;const r=`doomscroller:${e}`,o=(s=globalThis.navigator)==null?void 0:s.locks;if(!(o!=null&&o.request))return n();try{return await o.request(r,{mode:"exclusive"},async()=>n())}catch{return n()}}var ku,Nu;const Bp=!!((Nu=(ku=globalThis.navigator)==null?void 0:ku.locks)!=null&&Nu.request),A=of(Op,Dp,{auth:{storage:Up,persistSession:!0,autoRefreshToken:Bp,lock:$p,detectSessionInUrl:!1}}),Id="cached_profile_",Qo="cached_auth_profile_",Hp=32e4,Qa=16e5;function Li(e){return typeof e=="string"&&e.startsWith("data:image/")}function Vp(e){return Li(e.avatar_url)?e.avatar_url.length:0}function Wp(e){return!Li(e.avatar_url)||e.avatar_url.length<=Hp?e:{...e,avatar_url:null}}async function Od(e,t={}){const n=t.includeProfileCache??!0,r=t.includeAuthCache??!0,o=Wp(e),s={};n&&(s[`${Id}${e.id}`]=o),r&&(s[`${Qo}${e.id}`]=o),Object.keys(s).length>0&&await chrome.storage.local.set(s),await qp(t.preferredUserId??o.id)}async function qp(e){try{const t=await chrome.storage.local.get(null),n=[];let r=0;for(const[s,i]of Object.entries(t)){if(!s.startsWith(Id)&&!s.startsWith(Qo)||!i||typeof i!="object")continue;const u=i,a=Vp(u);if(a<=0)continue;r+=a;const f=s.startsWith(Qo),x=(e!==void 0&&u.id===e?2:0)+(f?1:0);n.push({key:s,profile:u,avatarLen:a,priority:x})}if(r<=Qa)return;n.sort((s,i)=>s.priority-i.priority||i.avatarLen-s.avatarLen);const o={};for(const s of n){if(r<=Qa)break;Li(s.profile.avatar_url)&&(o[s.key]={...s.profile,avatar_url:null},r-=s.avatarLen)}Object.keys(o).length>0&&await chrome.storage.local.set(o)}catch{}}const Dd="Use at least 10 characters, including uppercase, lowercase, a number, and a symbol.";function Ti(e){return e.length<10?{valid:!1,message:"Password must be at least 10 characters."}:/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?/[^A-Za-z0-9]/.test(e)?{valid:!0,message:""}:{valid:!1,message:"Password must include at least one symbol."}:{valid:!1,message:"Password must include at least one number."}:{valid:!1,message:"Password must include at least one lowercase letter."}:{valid:!1,message:"Password must include at least one uppercase letter."}}const Ko="doom_pending_email_verification",Qp=7*24*60*60*1e3;function Ud(e){return e.trim().toLowerCase()}function Kp(e){if(!e||typeof e!="object")return null;const t=e;if(typeof t.email!="string"||typeof t.createdAt!="number")return null;const n=Ud(t.email);return!n||!n.includes("@")||!Number.isFinite(t.createdAt)||Date.now()-t.createdAt>Qp?null:{email:n,createdAt:t.createdAt}}async function Yp(){try{const e=await chrome.storage.local.get(Ko),t=Kp(e[Ko]);return t||(await _o(),null)}catch{return null}}async function Gp(e){const t=Ud(e);if(!t)return;const n={email:t,createdAt:Date.now()};await chrome.storage.local.set({[Ko]:n})}async function _o(){await chrome.storage.local.remove(Ko)}const Xp=1e4,Ka=3,Zp=700,Ya=2,Jp=1e3;function Us(e){if(!e)return!1;const t=e.email_confirmed_at;return typeof t=="string"&&t.length>0}function eh(e){if(!(e instanceof Error))return!1;const t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("networkerror")||t.includes("network request failed")}async function Ga(e){let t;for(let n=0;n<=Ya;n++)try{return await e()}catch(r){if(t=r,!eh(r)||n===Ya)break;await new Promise(o=>setTimeout(o,Jp*(n+1)))}throw t}function th(){var m;const[e,t]=h.useState({user:null,profile:null,session:null,loading:!0,profileError:null}),n=h.useRef(null),r=h.useRef(null),o=h.useCallback(c=>`${Qo}${c}`,[]),s=h.useCallback(async c=>{try{const d=o(c),k=(await chrome.storage.local.get(d))[d];if(k&&k.id===c)return k}catch{}return null},[o]),i=h.useCallback(async c=>{try{await Od(c,{includeProfileCache:!1,includeAuthCache:!0,preferredUserId:c.id})}catch{}},[]),u=h.useCallback(async c=>sf(A,c),[]),a=h.useCallback(async c=>{let d=null;try{const v=new Promise(C=>{d=setTimeout(()=>C({profile:null,timedOut:!0}),Xp)}),k=u(c).then(C=>({profile:C,timedOut:!1}));return await Promise.race([k,v])}finally{d&&clearTimeout(d)}},[u]),f=h.useCallback(c=>new Promise(d=>{setTimeout(d,c)}),[]),y=h.useCallback(async c=>{let d={profile:null,timedOut:!1};for(let v=0;v<Ka;v+=1){if(d=await a(c).catch(()=>({profile:null,timedOut:!1})),d.profile)return d;v<Ka-1&&await f(Zp*(v+1))}return d},[a,f]),x=h.useCallback(async c=>c!=null&&c.access_token?c:null,[]);h.useEffect(()=>{let c=!0;async function d(C){if(!c)return;const w=await x(C);if(c)if(w!=null&&w.user){if(!Us(w.user)){await A.auth.signOut().catch(()=>{}),n.current=null,r.current=null,t({user:null,profile:null,session:null,loading:!1,profileError:null});return}const S=w.user.id,F=n.current!==S;n.current=S,F&&(r.current=null),t(b=>({...b,user:w.user,session:w,loading:!1,profile:F?null:b.profile,profileError:F?null:b.profileError}));const P=await s(S);if(P&&c&&t(b=>{var $;return(($=b.user)==null?void 0:$.id)!==S||b.profile&&!F?b:{...b,profile:P,profileError:null}}),r.current===S)return;const{profile:B,timedOut:H}=await y(w.user);if(!c)return;B?(r.current=S,i(B),t(b=>({...b,profile:B,profileError:null}))):t(b=>({...b,profile:null,profileError:H?"Profile sync timed out. Check connection and retry.":"Could not load your profile from the database."}))}else n.current=null,r.current=null,t({user:null,profile:null,session:null,loading:!1,profileError:null})}const{data:{subscription:v}}=A.auth.onAuthStateChange((C,w)=>{setTimeout(()=>{d(w)},0)});A.auth.getSession().then(({data:{session:C}})=>{d(C)});const k=setTimeout(()=>{c&&t(C=>C.loading?{...C,loading:!1}:C)},5e3);return()=>{c=!1,clearTimeout(k),v.unsubscribe()}},[x,s,y,i]);const p=async(c,d,v)=>{const k=Ti(d);if(!k.valid)throw new Error(k.message);const{data:C,error:w}=await Ga(()=>A.auth.signUp({email:c,password:d,options:{data:{display_name:v}}}));if(w)throw w;const S=!Us(C.user??null);return S?(await Gp(c).catch(()=>{}),await A.auth.signOut().catch(()=>{})):await _o().catch(()=>{}),{requiresEmailVerification:S}},N=async(c,d)=>{var C,w;const{data:v,error:k}=await Ga(()=>A.auth.signInWithPassword({email:c,password:d}));if(k)throw k;if(!Us(((C=v.session)==null?void 0:C.user)??null))throw await A.auth.signOut().catch(()=>{}),new Error("Email not verified. Please verify from your inbox, then sign in.");if(await _o().catch(()=>{}),(w=v.session)!=null&&w.user){const S=v.session.user;n.current=S.id,r.current=null,t({user:S,profile:null,session:v.session,loading:!1,profileError:null}),s(S.id).then(F=>{F&&t(P=>{var B;return((B=P.user)==null?void 0:B.id)!==S.id||P.profile?P:{...P,profile:F,profileError:null}})}).catch(()=>{}),y(S).then(({profile:F,timedOut:P})=>{F?(r.current=S.id,i(F),t(B=>({...B,profile:F,profileError:null}))):t(B=>({...B,profile:null,profileError:P?"Profile sync timed out. Check connection and retry.":"Could not load your profile from the database."}))}).catch(()=>{t(F=>({...F,profileError:"Could not load your profile from the database."}))})}return v},_=async()=>{const{error:c}=await A.auth.signOut();if(c)throw c;await _o().catch(()=>{}),n.current=null,r.current=null,t({user:null,profile:null,session:null,loading:!1,profileError:null})},g=async c=>{if(!e.user)throw new Error("Not authenticated");const{error:d}=await A.from("profiles").update({username:c.toLowerCase()}).eq("id",e.user.id);if(d)throw d;r.current=null;const v=await lf(A,e.user.id);v&&(r.current=e.user.id),v&&i(v),t(k=>({...k,profile:v,profileError:v?null:"Could not refresh your profile."}))},M=h.useCallback(async()=>{if(!e.user)return;const c=e.user;r.current=null,t(k=>({...k,profileError:null}));const{profile:d,timedOut:v}=await y(c);d?(r.current=c.id,i(d),t(k=>({...k,profile:d,profileError:null}))):t(k=>({...k,profile:null,profileError:v?"Profile sync timed out. Check connection and retry.":"Could not load your profile from the database."}))},[y,e.user,i]);return h.useEffect(()=>{var v;const c=(v=e.user)==null?void 0:v.id;if(!c)return;const d=A.channel(`profile-live-${c}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${c}`},({new:k})=>{const C=k;C&&(r.current=c,i(C),t(w=>{var S;return((S=w.user)==null?void 0:S.id)!==c?w:{...w,profile:C,profileError:null}}))}).subscribe();return()=>{A.removeChannel(d)}},[(m=e.user)==null?void 0:m.id,i]),{...e,signUp:p,signIn:N,signOut:_,updateUsername:g,refreshProfile:M}}function $d(e){if(!(e instanceof Error))return!1;const t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("networkerror")||t.includes("network request failed")}function nh(e){if(e instanceof Error){const t=e.message||"";return t.toLowerCase().includes("email not verified")?"Email not verified. Check inbox/spam for the verification email, open the link, then sign in.":$d(e)?"Could not reach server. Office/school Wi-Fi may block required DNS. Connect to a personal hotspot and try again.":t}return"Failed to sign in"}function rh({onSignIn:e,onSwitchToSignUp:t,pendingVerificationEmail:n=null}){const[r,o]=h.useState(n??""),[s,i]=h.useState(""),[u,a]=h.useState(!1),[f,y]=h.useState(""),[x,p]=h.useState(!1),[N,_]=h.useState(!1),g=h.useRef(n??null);h.useEffect(()=>{n&&g.current!==n&&(o(n),g.current=n)},[n]);const M=async m=>{m&&m.preventDefault(),y(""),p(!1),_(!0);try{await e(r,s)}catch(c){p($d(c)),y(nh(c))}finally{_(!1)}};return l.jsxs("div",{className:"flex flex-col items-center pt-10 h-full px-8",children:[l.jsx("p",{className:"text-5xl mb-2",children:""}),l.jsx("h1",{className:"text-2xl font-bold font-mono neon-text-green mb-1",children:"DoomScroller"}),l.jsx("p",{className:"text-doom-muted text-xs mb-8",children:"Track your shame in meters."}),n&&l.jsxs("div",{className:"w-full mb-4 bg-neon-green/10 border border-neon-green/30 rounded-lg px-3 py-2",role:"status",children:[l.jsxs("p",{className:"text-neon-green text-[11px] font-medium",children:["Verification pending for ",n]}),l.jsx("p",{className:"text-doom-muted text-[10px] mt-1",children:"Open the email link, then sign in below with the same account."})]}),l.jsxs("form",{onSubmit:M,className:"w-full space-y-4",children:[l.jsx("div",{children:l.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:m=>o(m.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:u?"text":"password",placeholder:"Password",value:s,onChange:m=>i(m.target.value),required:!0,minLength:6,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3 pr-10
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`}),l.jsx("button",{type:"button",onClick:()=>a(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-doom-muted hover:text-white text-xs transition-colors",children:u?"Hide":"Show"})]}),f&&l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-neon-pink text-xs",children:f}),x&&l.jsx("button",{type:"button",onClick:()=>M(),disabled:N,className:"text-neon-cyan text-xs hover:underline disabled:opacity-50",children:"Tap to retry"})]}),l.jsx("button",{type:"submit",disabled:N,className:"w-full btn-primary py-3 font-bold text-sm disabled:opacity-50",children:N?"Signing in...":"Sign In"})]}),l.jsxs("p",{className:"text-doom-muted text-xs mt-6",children:["Don't have an account?"," ",l.jsx("button",{onClick:t,className:"text-neon-cyan hover:underline",children:"Sign Up"})]})]})}function Bd(e){if(!(e instanceof Error))return!1;const t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("networkerror")||t.includes("network request failed")}function oh(e){if(e instanceof Error){const t=e.message||"";return Bd(e)?"Could not reach server. Office/school Wi-Fi may block required DNS. Connect to a personal hotspot and try again.":t}return"Failed to sign up"}function sh({onSignUp:e,onSwitchToLogin:t}){const[n,r]=h.useState(""),[o,s]=h.useState(""),[i,u]=h.useState(""),[a,f]=h.useState(""),[y,x]=h.useState(!1),[p,N]=h.useState(""),[_,g]=h.useState(""),[M,m]=h.useState(!1),[c,d]=h.useState(!1),v=async k=>{if(k&&k.preventDefault(),N(""),g(""),m(!1),i!==a){N("Passwords do not match");return}const C=Ti(i);if(!C.valid){N(C.message);return}if(n.length<2){N("Display name must be at least 2 characters");return}d(!0);try{(await e(o,i,n)).requiresEmailVerification?g("Verification email sent. Check inbox/spam, open the link, then come back and sign in."):g("Account created. You can sign in now.")}catch(w){m(Bd(w)),N(oh(w))}finally{d(!1)}};return l.jsxs("div",{className:"flex flex-col items-center pt-8 h-full px-8",children:[l.jsx("p",{className:"text-5xl mb-2",children:""}),l.jsx("h1",{className:"text-2xl font-bold font-mono neon-text-green mb-1",children:"Join the Doom"}),l.jsx("p",{className:"text-doom-muted text-xs mb-6",children:"Your scrolling shame starts here."}),l.jsxs("form",{onSubmit:v,className:"w-full space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Display Name",value:n,onChange:k=>r(k.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                     text-white placeholder-doom-muted text-sm
                     focus:outline-none focus:border-neon-green/50 transition-colors`}),l.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:k=>s(k.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                     text-white placeholder-doom-muted text-sm
                     focus:outline-none focus:border-neon-green/50 transition-colors`}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:y?"text":"password",placeholder:"Password",value:i,onChange:k=>u(k.target.value),required:!0,minLength:10,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3 pr-10
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`}),l.jsx("button",{type:"button",onClick:()=>x(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-doom-muted hover:text-white text-xs transition-colors",children:y?"Hide":"Show"})]}),l.jsx("p",{className:"text-[11px] text-doom-muted leading-relaxed -mt-1",children:Dd}),l.jsx("input",{type:y?"text":"password",placeholder:"Confirm Password",value:a,onChange:k=>f(k.target.value),required:!0,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-4 py-3
                     text-white placeholder-doom-muted text-sm
                     focus:outline-none focus:border-neon-green/50 transition-colors`}),p&&l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-neon-pink text-xs",children:p}),M&&l.jsx("button",{type:"button",onClick:()=>v(),disabled:c,className:"text-neon-cyan text-xs hover:underline disabled:opacity-50",children:"Tap to retry"})]}),_&&l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-neon-green text-xs",children:_}),l.jsx("p",{className:"text-doom-muted text-[10px]",children:"If the email link opens an unreachable page, close that tab and sign in here."}),l.jsx("button",{type:"button",onClick:t,className:"text-neon-cyan text-xs hover:underline",children:"Go to Sign In"})]}),l.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-3 font-bold text-sm disabled:opacity-50",children:c?"Creating account...":"Sign Up"})]}),l.jsxs("p",{className:"text-doom-muted text-xs mt-4",children:["Already have an account?"," ",l.jsx("button",{onClick:t,className:"text-neon-cyan hover:underline",children:"Sign In"})]})]})}function lh({className:e}){return l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.9,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l.jsx("path",{d:"M7 8h10a3 3 0 0 1 2.92 2.33l.84 3.6A2.5 2.5 0 0 1 18.26 17h-1.15a2 2 0 0 1-1.79-1.1l-.32-.64a1 1 0 0 0-.9-.56h-4.2a1 1 0 0 0-.9.56l-.32.64a2 2 0 0 1-1.79 1.1H5.74a2.5 2.5 0 0 1-2.44-3.07l.84-3.6A3 3 0 0 1 7 8Z"}),l.jsx("path",{d:"M8 11v3"}),l.jsx("path",{d:"M6.5 12.5h3"}),l.jsx("circle",{cx:"15.7",cy:"11.5",r:"0.9"}),l.jsx("circle",{cx:"17.9",cy:"13.3",r:"0.9"})]})}function ih({currentUsername:e,onSetUsername:t}){const[n,r]=h.useState(""),[o,s]=h.useState(""),[i,u]=h.useState(!1),a=/^[a-z0-9]+_[a-f0-9]{4}$/.test(e),f=x=>x.length<3?"Username must be at least 3 characters":x.length>20?"Username must be at most 20 characters":/^[a-z0-9_]+$/.test(x)?null:"Only lowercase letters, numbers, and underscores",y=async x=>{x.preventDefault();const p=f(n);if(p){s(p);return}s(""),u(!0);try{await t(n)}catch(N){const _=N instanceof Error?N.message:"Failed to set username";_.includes("duplicate")||_.includes("unique")?s("Username already taken"):s(_)}finally{u(!1)}};return a?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-8",children:[l.jsx("div",{className:"w-14 h-14 rounded-full border border-doom-border bg-doom-surface/70 mb-3 flex items-center justify-center shadow-[0_0_18px_rgba(57,255,20,0.12)]",children:l.jsx(lh,{className:"w-8 h-8 text-neon-green"})}),l.jsx("h1",{className:"text-xl font-bold font-mono neon-text-green mb-1",children:"Pick a Username"}),l.jsx("p",{className:"text-doom-muted text-xs mb-6 text-center",children:"This is how other doomscrollers will find you."}),l.jsxs("form",{onSubmit:y,className:"w-full space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center bg-doom-surface border border-doom-border rounded-lg px-4 py-3",children:[l.jsx("span",{className:"text-doom-muted text-sm mr-1",children:"@"}),l.jsx("input",{type:"text",placeholder:"your_username",value:n,onChange:x=>{r(x.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),s("")},maxLength:20,required:!0,className:`flex-1 bg-transparent text-white placeholder-doom-muted text-sm
                         focus:outline-none`})]}),l.jsx("p",{className:"text-doom-muted text-[10px] mt-1 px-1",children:"3-20 chars, lowercase, numbers, underscores"})]}),o&&l.jsx("p",{className:"text-neon-pink text-xs text-center",children:o}),l.jsx("button",{type:"submit",disabled:i||n.length<3,className:"w-full btn-primary py-3 font-bold text-sm disabled:opacity-50",children:i?"Setting...":"Claim Username"})]})]}):null}const so="cached_scroll_stats",ah="scrollBatches",uh="scrollBatchesInFlight",ch=1e3;function Xa(e){return{todayMeters:Number((e==null?void 0:e.todayMeters)??0),todayBysite:e!=null&&e.todayBysite&&typeof e.todayBysite=="object"?e.todayBysite:{},totalMeters:Number((e==null?void 0:e.totalMeters)??0),totalBysite:e!=null&&e.totalBysite&&typeof e.totalBysite=="object"?e.totalBysite:{}}}function Hd(){const[e,t]=h.useState({todayMeters:0,todayBysite:{},totalMeters:0,totalBysite:{}}),[n,r]=h.useState(!0),o=h.useRef(0),s=h.useRef(0);h.useEffect(()=>{chrome.storage.local.get(so).then(u=>{u[so]&&(t(Xa(u[so])),r(!1))})},[]);const i=h.useCallback(async()=>{const u=++o.current;try{const a=await chrome.runtime.sendMessage({type:"GET_STATS"});if(a&&u>=s.current){s.current=u;const f=Xa(a);t(f),chrome.storage.local.set({[so]:f})}}catch{}finally{r(!1)}},[]);return h.useEffect(()=>{i();const u=setInterval(i,ch),a=(f,y)=>{y==="local"&&(f[ah]||f[uh])&&i()};return chrome.storage.onChanged.addListener(a),()=>{clearInterval(u),chrome.storage.onChanged.removeListener(a)}},[i]),{stats:e,loading:n,refresh:i}}const Wt='<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>',qt='</title><path d="',Qt='"/></svg>',dh={title:"Facebook",slug:"facebook",get svg(){return Wt+"Facebook"+qt+this.path+Qt},path:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z",source:"https://about.meta.com/brand/resources/facebook/logo",hex:"0866FF",guidelines:"https://about.meta.com/brand/resources/facebook/logo"},fh={title:"Instagram",slug:"instagram",get svg(){return Wt+"Instagram"+qt+this.path+Qt},path:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077",source:"https://about.meta.com/brand/resources/instagram",hex:"FF0069",guidelines:"https://about.meta.com/brand/resources/instagram"},mh={title:"Pinterest",slug:"pinterest",get svg(){return Wt+"Pinterest"+qt+this.path+Qt},path:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z",source:"https://business.pinterest.com/en/brand-guidelines",hex:"BD081C",guidelines:"https://business.pinterest.com/en/brand-guidelines"},ph={title:"Reddit",slug:"reddit",get svg(){return Wt+"Reddit"+qt+this.path+Qt},path:"M12 0C5.373 0 0 5.373 0 12c0 3.314 1.343 6.314 3.515 8.485l-2.286 2.286C.775 23.225 1.097 24 1.738 24H12c6.627 0 12-5.373 12-12S18.627 0 12 0Zm4.388 3.199c1.104 0 1.999.895 1.999 1.999 0 1.105-.895 2-1.999 2-.946 0-1.739-.657-1.947-1.539v.002c-1.147.162-2.032 1.15-2.032 2.341v.007c1.776.067 3.4.567 4.686 1.363.473-.363 1.064-.58 1.707-.58 1.547 0 2.802 1.254 2.802 2.802 0 1.117-.655 2.081-1.601 2.531-.088 3.256-3.637 5.876-7.997 5.876-4.361 0-7.905-2.617-7.998-5.87-.954-.447-1.614-1.415-1.614-2.538 0-1.548 1.255-2.802 2.803-2.802.645 0 1.239.218 1.712.585 1.275-.79 2.881-1.291 4.64-1.365v-.01c0-1.663 1.263-3.034 2.88-3.207.188-.911.993-1.595 1.959-1.595Zm-8.085 8.376c-.784 0-1.459.78-1.506 1.797-.047 1.016.64 1.429 1.426 1.429.786 0 1.371-.369 1.418-1.385.047-1.017-.553-1.841-1.338-1.841Zm7.406 0c-.786 0-1.385.824-1.338 1.841.047 1.017.634 1.385 1.418 1.385.785 0 1.473-.413 1.426-1.429-.046-1.017-.721-1.797-1.506-1.797Zm-3.703 4.013c-.974 0-1.907.048-2.77.135-.147.015-.241.168-.183.305.483 1.154 1.622 1.964 2.953 1.964 1.33 0 2.47-.81 2.953-1.964.057-.137-.037-.29-.184-.305-.863-.087-1.795-.135-2.769-.135Z",source:"https://www.redditinc.com/brand",hex:"FF4500",guidelines:"https://www.redditinc.com/brand"},hh={title:"Snapchat",slug:"snapchat",get svg(){return Wt+"Snapchat"+qt+this.path+Qt},path:"M12.206.793c.99 0 4.347.276 5.93 3.821.529 1.193.403 3.219.299 4.847l-.003.06c-.012.18-.022.345-.03.51.075.045.203.09.401.09.3-.016.659-.12 1.033-.301.165-.088.344-.104.464-.104.182 0 .359.029.509.09.45.149.734.479.734.838.015.449-.39.839-1.213 1.168-.089.029-.209.075-.344.119-.45.135-1.139.36-1.333.81-.09.224-.061.524.12.868l.015.015c.06.136 1.526 3.475 4.791 4.014.255.044.435.27.42.509 0 .075-.015.149-.045.225-.24.569-1.273.988-3.146 1.271-.059.091-.12.375-.164.57-.029.179-.074.36-.134.553-.076.271-.27.405-.555.405h-.03c-.135 0-.313-.031-.538-.074-.36-.075-.765-.135-1.273-.135-.3 0-.599.015-.913.074-.6.104-1.123.464-1.723.884-.853.599-1.826 1.288-3.294 1.288-.06 0-.119-.015-.18-.015h-.149c-1.468 0-2.427-.675-3.279-1.288-.599-.42-1.107-.779-1.707-.884-.314-.045-.629-.074-.928-.074-.54 0-.958.089-1.272.149-.211.043-.391.074-.54.074-.374 0-.523-.224-.583-.42-.061-.192-.09-.389-.135-.567-.046-.181-.105-.494-.166-.57-1.918-.222-2.95-.642-3.189-1.226-.031-.063-.052-.15-.055-.225-.015-.243.165-.465.42-.509 3.264-.54 4.73-3.879 4.791-4.02l.016-.029c.18-.345.224-.645.119-.869-.195-.434-.884-.658-1.332-.809-.121-.029-.24-.074-.346-.119-1.107-.435-1.257-.93-1.197-1.273.09-.479.674-.793 1.168-.793.146 0 .27.029.383.074.42.194.789.3 1.104.3.234 0 .384-.06.465-.105l-.046-.569c-.098-1.626-.225-3.651.307-4.837C7.392 1.077 10.739.807 11.727.807l.419-.015h.06z",source:"https://www.snapchat.com/brand-guidelines",hex:"FFFC00",guidelines:"https://www.snapchat.com/brand-guidelines"},gh={title:"TikTok",slug:"tiktok",get svg(){return Wt+"TikTok"+qt+this.path+Qt},path:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z",source:"https://tiktok.com",hex:"000000"},xh={title:"X",slug:"x",get svg(){return Wt+"X"+qt+this.path+Qt},path:"M14.234 10.162 22.977 0h-2.072l-7.591 8.824L7.251 0H.258l9.168 13.343L.258 24H2.33l8.016-9.318L16.749 24h6.993zm-2.837 3.299-.929-1.329L3.076 1.56h3.182l5.965 8.532.929 1.329 7.754 11.09h-3.182z",source:"https://x.com",hex:"000000",guidelines:"https://about.x.com/en/who-we-are/brand-toolkit"},yh={title:"YouTube",slug:"youtube",get svg(){return Wt+"YouTube"+qt+this.path+Qt},path:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z",source:"https://www.youtube.com/howyoutubeworks/resources/brand-resources/#logos-icons-and-colors",hex:"FF0000",guidelines:"https://www.youtube.com/howyoutubeworks/resources/brand-resources/#logos-icons-and-colors"},vh={facebook:dh,x:xh,tiktok:gh,instagram:fh,snapchat:hh,reddit:ph,youtube:yh,pinterest:mh};function Za({site:e,meters:t}){const n=af(e),r=n?uf[n]:{name:e,short:"??",color:"#666"},o=n?vh[n]:null;return l.jsxs("div",{className:"card flex flex-col items-center gap-1 min-w-[70px]",children:[o?l.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4","aria-label":r.name,role:"img",style:{color:r.color},children:l.jsx("path",{d:o.path,fill:"currentColor"})}):l.jsx("span",{className:"text-xs font-bold font-mono",style:{color:r.color},children:r.short}),l.jsx("span",{className:"text-white text-sm font-mono font-bold",children:t<1e3?`${Math.round(t)}m`:`${(t/1e3).toFixed(1)}km`})]})}const Ja=[e=>`That's ${(e/91.44).toFixed(1)} football fields`,e=>`${(e/330).toFixed(2)} Eiffel Towers tall`,e=>`${Math.round(e/.25)} lengths of your unread textbook`,e=>`${(e/2.7).toFixed(0)} flights of stairs you didn't climb`,e=>`${(e/110).toFixed(1)} blue whales long`,e=>`That's ${(e/1.7).toFixed(0)} you's stacked up`];function eu({stats:e,loading:t}){const{stats:n,loading:r}=Hd(),o=e??n,s=t??r,i=h.useMemo(()=>{if(o.todayMeters===0)return"You haven't scrolled today. Suspicious.";const f=Math.floor(Math.random()*Ja.length);return Ja[f](o.todayMeters)},[o.todayMeters]),u=Object.entries(o.todayBysite).sort(([,f],[,y])=>y-f),a=Object.entries(o.totalBysite??{}).sort(([,f],[,y])=>y-f);return s?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading stats..."})}):l.jsxs("div",{className:"flex flex-col gap-5",children:[l.jsxs("div",{className:"text-center py-4",children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-widest mb-2",children:"Today"}),l.jsx("p",{className:"text-5xl font-bold font-mono neon-text-green",children:o.todayMeters<1e3?`${Math.round(o.todayMeters)}m`:`${(o.todayMeters/1e3).toFixed(2)}km`}),l.jsxs("p",{className:"text-doom-muted text-xs mt-2 italic",children:['"',i,'"']})]}),u.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Breakdown"}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:u.map(([f,y])=>l.jsx(Za,{site:f,meters:y},f))})]}),l.jsx("div",{className:"card neon-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-doom-muted text-xs font-mono",children:"TOTAL DISTANCE"}),l.jsx("span",{className:"text-white font-mono font-bold",children:o.totalMeters<1e3?`${Math.round(o.totalMeters)}m`:`${(o.totalMeters/1e3).toFixed(2)}km`})]})}),a.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"All Time Breakdown"}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:a.map(([f,y])=>l.jsx(Za,{site:f,meters:y},`all_time_${f}`))})]}),o.todayMeters===0&&o.totalMeters===0&&l.jsxs("div",{className:"text-center py-6",children:[l.jsxs("svg",{className:"w-8 h-8 mx-auto mb-2 text-doom-muted",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),l.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]}),l.jsx("p",{className:"text-doom-muted text-sm",children:"Open a social media site and start scrolling."}),l.jsx("p",{className:"text-doom-muted text-xs mt-1",children:"We'll track your shame automatically."})]})]})}const wh=8*1024*1024,tu=320,er=9e5,_h=[.9,.82,.74,.66,.58],nu=[.9,.82,.74,.66,.58];function kh(e){return e.type==="image/jpeg"||e.type==="image/jpg"}function Nh(e){return typeof e=="string"&&e.startsWith("data:image/")}async function Sh(e){return await new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?t(r.result):n(new Error("Could not read image file"))},r.onerror=()=>n(new Error("Could not read image file")),r.readAsDataURL(e)})}async function jh(e){return await new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(new Error("Invalid image file")),r.src=e})}async function Eh(e){if(!kh(e))return 1;const t=await e.arrayBuffer(),n=new DataView(t);if(n.byteLength<4||n.getUint16(0,!1)!==65496)return 1;let r=2;for(;r+3<n.byteLength;){const o=n.getUint16(r,!1);if(r+=2,(o&65280)!==65280||r+1>=n.byteLength)break;const s=n.getUint16(r,!1);if(s<2)break;if(o===65505){const i=r+2;if(i+(s-2)>n.byteLength)break;if(n.getUint8(i)===69&&n.getUint8(i+1)===120&&n.getUint8(i+2)===105&&n.getUint8(i+3)===102){const a=i+6;if(a+8>n.byteLength)return 1;const f=n.getUint16(a,!1)===18761,y=n.getUint32(a+4,f);let x=a+y;if(x+2>n.byteLength)return 1;const p=n.getUint16(x,f);x+=2;for(let N=0;N<p;N+=1){const _=x+N*12;if(_+12>n.byteLength)break;if(n.getUint16(_,f)!==274)continue;const M=n.getUint16(_+8,f);return M>=1&&M<=8?M:1}}return 1}r+=s}return 1}function Ch(e){return e>=5&&e<=8}function bh(e,t,n,r){switch(t){case 2:e.transform(-1,0,0,1,n,0);break;case 3:e.transform(-1,0,0,-1,n,r);break;case 4:e.transform(1,0,0,-1,0,r);break;case 5:e.transform(0,1,1,0,0,0);break;case 6:e.transform(0,1,-1,0,n,0);break;case 7:e.transform(0,-1,-1,0,n,r);break;case 8:e.transform(0,-1,1,0,0,r);break}}function Rh(e){const t=e.getContext("2d");if(!t)return!1;const{data:n}=t.getImageData(0,0,e.width,e.height);for(let r=3;r<n.length;r+=4)if(n[r]<255)return!0;return!1}function tr(e,t,n){const r=n===void 0?e.toDataURL(t):e.toDataURL(t,n);return Nh(r)?t==="image/png"?r.startsWith("data:image/png")?r:null:r.startsWith(`data:${t}`)?r:null:null}function Ph(e,t){const n=e.naturalWidth||e.width,r=e.naturalHeight||e.height,o=Math.max(n,r),s=o>tu?tu/o:1,i=Math.max(1,Math.round(n*s)),u=Math.max(1,Math.round(r*s)),a=document.createElement("canvas");Ch(t)?(a.width=u,a.height=i):(a.width=i,a.height=u);const f=a.getContext("2d");if(!f)throw new Error("Could not process image");return bh(f,t,a.width,a.height),f.drawImage(e,0,0,i,u),a}async function Mh(e){if(!e.type.startsWith("image/"))throw new Error("Please choose an image file");if(e.size>wh)throw new Error("Image is too large (max 8MB)");const t=await Sh(e),n=await jh(t),r=await Eh(e),o=Ph(n,r);if(Rh(o)){for(const a of nu){const f=tr(o,"image/webp",a);if(f&&f.length<=er)return f}const u=tr(o,"image/png");if(u&&u.length<=er)return u;throw new Error("Image is too large after compression. Try a smaller image")}for(const u of _h){const a=tr(o,"image/jpeg",u);if(a&&a.length<=er)return a}for(const u of nu){const a=tr(o,"image/webp",u);if(a&&a.length<=er)return a}const i=tr(o,"image/png");if(i&&i.length<=er)return i;throw new Error("Image is too large after compression. Try a smaller image")}function rn(e){return e?typeof e.world_public=="boolean"?e.world_public:e.is_public:!0}function Fn(e){return e&&typeof e.friends_public=="boolean"?e.friends_public:!0}function ru(e,t){return e?t.isOwnProfile?!0:typeof e.can_view_details=="boolean"?e.can_view_details:rn(e)?!0:Fn(e)&&!!t.isFriend:!1}function Lh(e){return!e||rn(e)?"public":Fn(e)?"friends":"private"}function Vd({className:e="w-4 h-4"}){return l.jsxs("svg",{viewBox:"0 0 24 24",className:e,"aria-hidden":"true",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"doomscroller-coin-grad",cx:"35%",cy:"35%",r:"70%",children:[l.jsx("stop",{offset:"0%",stopColor:"#fff2a8"}),l.jsx("stop",{offset:"48%",stopColor:"#ffd84f"}),l.jsx("stop",{offset:"100%",stopColor:"#d89c00"})]})}),l.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"url(#doomscroller-coin-grad)",stroke:"#f5c542",strokeWidth:"1.4"}),l.jsx("circle",{cx:"12",cy:"12",r:"6.2",fill:"none",stroke:"#f8e18a",strokeWidth:"1.2",opacity:"0.9"}),l.jsx("ellipse",{cx:"8.2",cy:"7.6",rx:"2.1",ry:"1.3",fill:"#fff6c7",opacity:"0.85"})]})}function Th(e){if(!e||typeof e!="object")return[];const t=e.tags;return Array.isArray(t)?t.map(n=>String(n).toLowerCase().trim()).filter(Boolean).slice(0,12):[]}function Fh(e){const t=Th(e.meta),n=[e.event_key??"",e.trigger_type??"",e.title??"",e.description??"",e.app_scope??"",t.join(" ")].join(" ").toLowerCase();return/\bburst|sprint|speed|rapid|lightning|quick\b/.test(n)?"sprint":/\bspecialist|loyal|focus|single|mono\b/.test(n)?"specialist":/\bdiversity|multi|tourist|variety|mix\b/.test(n)?"diversity":/\bmarathon|session|endurance|long\b/.test(n)?"marathon":/\bstreak|consecutive|daily|days\b/.test(n)?"streak":/\bnight|late|midnight|owl\b/.test(n)?"night":/\bdistance|meter|meters|scroll|regret\b/.test(n)?"distance":"focus"}function zh(e){return e==="legendary"?"#f59e0b":e==="epic"?"#22d3ee":e==="rare"?"#39ff14":"#475569"}function Ah(e){return e==="sprint"?["#f43f5e","#fb7185","#120d14"]:e==="specialist"?["#14b8a6","#5eead4","#0c1414"]:e==="diversity"?["#f59e0b","#facc15","#16120c"]:e==="marathon"?["#38bdf8","#7dd3fc","#0b1218"]:e==="distance"?["#a78bfa","#c4b5fd","#120f18"]:e==="streak"?["#22c55e","#86efac","#0d1510"]:e==="night"?["#6366f1","#818cf8","#0f1020"]:["#e879f9","#f0abfc","#150f19"]}function Ih(e){return e==="sprint"?l.jsx("path",{d:"M56 14L32 52h22l-8 34 30-46H54l2-26z"}):e==="specialist"?l.jsxs(l.Fragment,{children:[l.jsx("circle",{cx:"50",cy:"50",r:"26",fill:"none",strokeWidth:"6"}),l.jsx("circle",{cx:"50",cy:"50",r:"12",fill:"none",strokeWidth:"6"}),l.jsx("circle",{cx:"50",cy:"50",r:"4"})]}):e==="diversity"?l.jsxs(l.Fragment,{children:[l.jsx("circle",{cx:"28",cy:"32",r:"7"}),l.jsx("circle",{cx:"72",cy:"28",r:"7"}),l.jsx("circle",{cx:"24",cy:"70",r:"7"}),l.jsx("circle",{cx:"66",cy:"68",r:"7"}),l.jsx("path",{d:"M28 32l44-4M28 32l-4 38M72 28L66 68M24 70l42-2",fill:"none",strokeWidth:"5"})]}):e==="marathon"?l.jsxs(l.Fragment,{children:[l.jsx("path",{d:"M18 50c0-14 10-24 24-24s24 10 24 24-10 24-24 24S18 64 18 50z",fill:"none",strokeWidth:"5"}),l.jsx("path",{d:"M58 50c0-14 10-24 24-24",fill:"none",strokeWidth:"5"}),l.jsx("path",{d:"M58 50c0 14 10 24 24 24",fill:"none",strokeWidth:"5"})]}):e==="streak"?l.jsxs(l.Fragment,{children:[l.jsx("rect",{x:"22",y:"54",width:"12",height:"24",rx:"3"}),l.jsx("rect",{x:"40",y:"42",width:"12",height:"36",rx:"3"}),l.jsx("rect",{x:"58",y:"28",width:"12",height:"50",rx:"3"}),l.jsx("path",{d:"M20 30h10l6-10 8 16 8-12 8 6h10",fill:"none",strokeWidth:"5"})]}):e==="night"?l.jsxs(l.Fragment,{children:[l.jsx("path",{d:"M60 18a28 28 0 1 0 22 44A22 22 0 1 1 60 18z"}),l.jsx("path",{d:"M26 22l4 8 8 4-8 4-4 8-4-8-8-4 8-4z"})]}):e==="distance"?l.jsxs(l.Fragment,{children:[l.jsx("path",{d:"M14 74l18-24 12 14 16-22 26 32H14z"}),l.jsx("path",{d:"M18 78h64",fill:"none",strokeWidth:"5"}),l.jsx("circle",{cx:"78",cy:"30",r:"7"})]}):l.jsxs(l.Fragment,{children:[l.jsx("path",{d:"M50 14L88 50 50 86 12 50 50 14z",fill:"none",strokeWidth:"6"}),l.jsx("circle",{cx:"50",cy:"50",r:"12"}),l.jsx("path",{d:"M34 50h32M50 34v32",fill:"none",strokeWidth:"5"})]})}function ou({achievement:e,rarity:t,size:n="sm",className:r=""}){const o=Fh(e),s=zh(t),[i,u,a]=Ah(o),f=n==="lg"?76:58,y=`linear-gradient(180deg, ${a} 0%, #0a0f15 100%)`;return l.jsxs("div",{className:`relative rounded-xl border overflow-hidden ${r}`,style:{width:f,height:f,backgroundImage:y,borderColor:`${s}88`,boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.06), 0 6px 14px rgba(0,0,0,0.35)"},children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",style:{backgroundImage:"linear-gradient(to right, rgba(255,255,255,0.08) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,0.08) 1px, transparent 1px)",backgroundSize:"8px 8px"}}),l.jsx("div",{className:"absolute inset-[2px] rounded-[10px] border pointer-events-none",style:{borderColor:"rgba(255,255,255,0.08)"}}),l.jsx("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full",style:{color:i,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.45))"},children:l.jsx("g",{fill:`${u}aa`,stroke:i,strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:5,children:Ih(o)})}),l.jsx("div",{className:"absolute top-1.5 right-1.5 w-2 h-2 rounded-full",style:{backgroundColor:s}})]})}const $s="cached_profile_",nr="cached_achievements_";function pn(e){return e==="rare"||e==="epic"||e==="legendary"?e:"common"}function su(e){return e==="legendary"?"border-amber-400/60 bg-doom-surface":e==="epic"?"border-cyan-400/55 bg-doom-surface":e==="rare"?"border-neon-green/45 bg-doom-surface":"border-doom-border bg-doom-surface"}function lo(e){if(!e||typeof e!="object")return null;const t=e.roast_line;return typeof t=="string"&&t.trim().length>0?t.trim():null}function Oh(e){const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown date":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Dh({className:e}){return l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[l.jsx("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2.5"}),l.jsx("path",{d:"M8 11V8a4 4 0 0 1 8 0v3"}),l.jsx("circle",{cx:"12",cy:"16",r:"1.2"})]})}function Uh(e){const t=Lh(e);return t==="public"?null:t==="friends"?{text:"FRIENDS ONLY",className:"text-yellow-300 border-yellow-300/40"}:{text:"PRIVATE",className:"text-neon-pink border-neon-pink/30"}}function $h(e){if(!e||typeof e!="object")return!1;const t=e;if(t.type!=="ACHIEVEMENT_SYNCED"||!t.payload||typeof t.payload!="object")return!1;const n=t.payload;return typeof n.userId=="string"&&typeof n.eventKey=="string"}function Bh(e){return{id:e.id,username:e.username,display_name:e.display_name,avatar_url:e.avatar_url??null,is_public:typeof e.is_public=="boolean"?e.is_public:typeof e.world_public=="boolean"?e.world_public:!0,world_public:typeof e.world_public=="boolean"?e.world_public:void 0,friends_public:typeof e.friends_public=="boolean"?e.friends_public:void 0,can_view_details:typeof e.can_view_details=="boolean"?e.can_view_details:void 0,total_meters_scrolled:Number(e.total_meters_scrolled??0),coin_balance:Number(e.coin_balance??0),coin_meter_checkpoint:Number(e.coin_meter_checkpoint??0),created_at:e.created_at??new Date(0).toISOString()}}function Hh({userId:e,isOwnProfile:t,onBack:n,cachedProfile:r,onProfileUpdated:o,liveTotalMeters:s}){const[i,u]=h.useState((t?r:null)??null),[a,f]=h.useState([]),[y,x]=h.useState(t?!r:!0),[p,N]=h.useState(!1),[_,g]=h.useState(""),[M,m]=h.useState("success"),[c,d]=h.useState(!1),[v,k]=h.useState(null),C=h.useRef(null),w=h.useRef(null),S=h.useCallback(async()=>{const{data:L}=await A.from("achievements").select("*").eq("user_id",e).order("earned_at",{ascending:!1});L&&(f(L),await chrome.storage.local.set({[nr+e]:L}))},[e]),F=h.useCallback(async L=>{try{await Od(L,{includeProfileCache:!0,includeAuthCache:t,preferredUserId:t?L.id:void 0})}catch{}},[t]);h.useEffect(()=>{let L=!0;async function U(){if(t&&!r){const V=await chrome.storage.local.get([$s+e,nr+e]),Q=V[$s+e],_e=V[nr+e];L&&Q&&(u(Q),x(!1)),L&&_e&&f(_e)}L&&t&&r&&x(!1);let j=null,z=!0;if(t)if(r)j=r;else{const V=await A.from("profiles").select("*").eq("id",e).maybeSingle();V.data&&(j=V.data)}else{const V=await A.rpc("get_social_profiles",{profile_ids:[e]});if(V.error){const Q=await A.from("profiles").select("*").eq("id",e).maybeSingle();Q.data?j=Q.data:z=!1}else{const Q=(V.data??[])[0]??null;!Q||Q.can_view_details===!1?z=!1:j=Bh(Q)}}if(!z){if(!L)return;u(null),f([]),x(!1),t||await chrome.storage.local.remove([$s+e,nr+e]);return}const T=await A.from("achievements").select("*").eq("user_id",e).order("earned_at",{ascending:!1});L&&(j&&(u(j),t&&F(j)),T.data&&(f(T.data),t&&chrome.storage.local.set({[nr+e]:T.data})),x(!1))}return U(),()=>{L=!1}},[e,r,t,F]),h.useEffect(()=>{d(!1)},[i==null?void 0:i.avatar_url]),h.useEffect(()=>{if(!t)return;const L=U=>{$h(U)&&U.payload.userId===e&&S()};return chrome.runtime.onMessage.addListener(L),()=>{chrome.runtime.onMessage.removeListener(L)}},[t,S,e]),h.useEffect(()=>()=>{w.current!==null&&window.clearTimeout(w.current)},[]);const P=h.useCallback(async L=>{var z;const U=(z=L.target.files)==null?void 0:z[0];if(L.target.value="",!U||!i||!t)return;N(!0),g(""),m("success");const j=i;try{const T=await Mh(U),V={...j,avatar_url:T};u(V),d(!1);const{data:Q,error:_e}=await A.from("profiles").update({avatar_url:T}).eq("id",e).select("*").single();if(_e)throw u(j),_e;const Z=Q??V;u(Z),await F(Z),o==null||o(),g("Profile picture updated"),m("success")}catch(T){const V=T instanceof Error?T.message:"Failed to upload profile picture";g(V),m("error")}finally{N(!1),w.current!==null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>g(""),2200)}},[t,o,i,F,e]),B=h.useCallback(async()=>{if(!i||!t||!i.avatar_url)return;N(!0),g(""),m("success");const L=i,U={...L,avatar_url:null};u(U);try{const{data:j,error:z}=await A.from("profiles").update({avatar_url:null}).eq("id",e).select("*").single();if(z)throw u(L),z;const T=j??U;u(T),await F(T),o==null||o(),g("Profile picture removed"),m("success")}catch(j){const z=j instanceof Error?j.message:"Failed to remove profile picture";g(z),m("error")}finally{N(!1),w.current!==null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>g(""),2200)}},[t,o,i,F,e]);if(y)return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading profile..."})});if(!i)return l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"mx-auto mb-3 w-12 h-12 rounded-full border border-doom-border bg-doom-surface/70 flex items-center justify-center",children:l.jsx(Dh,{className:"w-6 h-6 text-doom-muted"})}),l.jsx("p",{className:"text-doom-muted text-sm",children:"Account private or unavailable."}),n&&l.jsx("button",{onClick:n,className:"btn-primary text-xs mt-4",children:"Go Back"})]});const H=new Date(i.created_at).toLocaleDateString("en-US",{month:"short",year:"numeric"}),b=t&&typeof s=="number"?Math.max(Number(i.total_meters_scrolled??0),s):Number(i.total_meters_scrolled??0),$=Number.isFinite(Number(i.coin_balance))?Math.max(0,Math.floor(Number(i.coin_balance))):Su(b),I=Uh(i);return l.jsxs("div",{className:"flex flex-col gap-4",children:[n&&l.jsx("button",{onClick:n,className:"text-doom-muted text-xs font-mono hover:text-white self-start",children:" Back"}),l.jsxs("div",{className:"text-center py-2",children:[l.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-yellow-500/10 border border-yellow-400/40 mb-2 shadow-[0_0_10px_rgba(250,204,21,0.18)]",children:[l.jsx(Vd,{className:"w-4 h-4"}),l.jsx("span",{className:"text-yellow-100 text-sm font-semibold font-mono tabular-nums",children:$})]}),t?l.jsx("div",{className:"w-16 h-16 rounded-full bg-doom-surface border-2 border-neon-green/30 mx-auto mb-3 overflow-hidden flex items-center justify-center",children:i.avatar_url&&!c?l.jsx("img",{src:i.avatar_url,alt:`${i.display_name} profile picture`,className:"w-full h-full object-cover",onError:()=>d(!0)}):l.jsx("span",{className:"text-2xl",children:""})}):l.jsx("div",{className:"w-16 h-16 rounded-full bg-doom-surface border-2 border-neon-green/30 mx-auto mb-3 overflow-hidden flex items-center justify-center",children:i.avatar_url&&!c?l.jsx("img",{src:i.avatar_url,alt:`${i.display_name} profile picture`,className:"w-full h-full object-cover",onError:()=>d(!0)}):l.jsx("span",{className:"text-2xl",children:""})}),t&&l.jsxs(l.Fragment,{children:[l.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:P,className:"hidden"}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx("button",{onClick:()=>{var L;return(L=C.current)==null?void 0:L.click()},disabled:p,className:"px-2.5 py-1 rounded-md border border-neon-green/30 text-[11px] text-neon-green font-mono hover:bg-neon-green/10 disabled:opacity-50",children:"Change"}),l.jsx("button",{onClick:B,disabled:p||!i.avatar_url,className:"px-2.5 py-1 rounded-md border border-neon-pink/30 text-[11px] text-neon-pink font-mono hover:bg-neon-pink/10 disabled:opacity-50",children:"Remove"})]}),_&&l.jsx("p",{className:`text-[10px] font-mono mb-1 ${M==="error"?"text-neon-pink":"text-neon-green"}`,children:_})]}),l.jsx("h2",{className:"text-lg font-bold font-mono text-white",children:i.display_name}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",i.username]}),I&&l.jsx("span",{className:`inline-block text-[10px] border rounded px-1.5 py-0.5 mt-1 ${I.className}`,children:I.text})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:"card text-center",children:[l.jsx("p",{className:"text-doom-muted text-[10px] font-mono uppercase",children:"Total Scrolled"}),l.jsx("p",{className:"text-lg font-bold font-mono neon-text-green",children:b<1e3?`${Math.round(b)}m`:`${(b/1e3).toFixed(2)}km`})]}),l.jsxs("div",{className:"card text-center",children:[l.jsx("p",{className:"text-doom-muted text-[10px] font-mono uppercase",children:"Member Since"}),l.jsx("p",{className:"text-lg font-bold font-mono text-white",children:H})]})]}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Achievements (",a.length,")"]}),a.length>0?l.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.map(L=>l.jsxs("button",{type:"button",onClick:()=>k(L),className:`card flex flex-col items-center gap-1.5 p-2 text-left transition-transform hover:-translate-y-0.5 ${su(pn(L.rarity))}`,title:`${L.title}: ${L.description}${lo(L.meta)?`  ${lo(L.meta)}`:""}`,children:[l.jsx(ou,{achievement:L,rarity:pn(L.rarity),size:"sm"}),l.jsx("span",{className:"text-[10px] text-doom-muted font-mono text-center leading-tight min-h-[2.1rem] w-full",children:L.title}),l.jsx("span",{className:"text-[8px] uppercase tracking-wider text-doom-muted/80 font-mono",children:pn(L.rarity)})]},L.id))}):l.jsx("div",{className:"card text-center py-4",children:l.jsx("p",{className:"text-doom-muted text-xs",children:t?"No achievements yet. Keep scrolling (or don't).":"No achievements to show."})})]}),v&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-[1px] flex items-center justify-center px-4",onClick:()=>k(null),children:l.jsxs("div",{className:`w-full max-w-[320px] rounded-xl border p-4 bg-[#080b11] shadow-[0_18px_50px_rgba(0,0,0,0.55)] ${su(pn(v.rarity))}`,onClick:L=>L.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ou,{achievement:v,rarity:pn(v.rarity),size:"lg"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wider font-mono text-doom-muted",children:"Achievement"}),l.jsx("p",{className:"text-[10px] uppercase tracking-wider font-mono text-white/80",children:pn(v.rarity)})]})]}),l.jsx("button",{type:"button",onClick:()=>k(null),className:"text-doom-muted hover:text-white text-xl leading-none","aria-label":"Close achievement details",children:""})]}),l.jsx("h3",{className:"text-sm font-semibold font-mono text-white mb-2 leading-snug",children:v.title}),l.jsx("p",{className:"text-xs text-doom-muted leading-relaxed mb-3",children:v.description}),lo(v.meta)&&l.jsxs("p",{className:"text-[11px] text-neon-green/90 italic mb-3",children:['"',lo(v.meta),'"']}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] font-mono text-doom-muted",children:[l.jsxs("div",{className:"bg-doom-surface border border-doom-border rounded-md px-2 py-1.5",children:["Unlocked",l.jsx("div",{className:"text-white mt-0.5",children:Oh(v.earned_at)})]}),l.jsxs("div",{className:"bg-doom-surface border border-doom-border rounded-md px-2 py-1.5",children:["Trigger",l.jsx("div",{className:"text-white mt-0.5 break-all leading-snug",children:v.trigger_type})]})]})]})})]})}const Vh=3e3;function ko(e){return e.toLowerCase().replace(/[^a-z0-9\s_]/g," ").replace(/\s+/g," ").trim()}function Wh(e,t){if(!e)return!1;let n=0;for(let r=0;r<t.length&&n<e.length;r+=1)e[n]===t[r]&&(n+=1);return n===e.length}function lu(e,t){if(!e||!t)return 0;if(t===e)return 1e3;if(t.startsWith(e))return 820-Math.min(300,t.length-e.length);const n=t.indexOf(e);if(n>=0)return 700-Math.min(300,n*7);const o=e.split(" ").filter(Boolean).filter(s=>t.includes(s)).length;return o>0?500+o*40:Wh(e.replace(/\s+/g,""),t.replace(/\s+/g,""))?320:0}function iu(e,t){const n=ko(e);if(!n)return 0;const r=ko(t.username),o=ko(t.display_name),s=lu(n,r),i=lu(n,o)*.85;return Math.max(s,i)}function qh(e){if(!e||typeof e!="object")return!1;const t=String(e.code??""),n=String(e.message??"").toLowerCase();return t==="23505"||n.includes("duplicate key")||n.includes("unique_friendship")}function au(e){return{id:e.id,username:e.username,display_name:e.display_name,avatar_url:e.avatar_url??null,is_public:typeof e.is_public=="boolean"?e.is_public:typeof e.world_public=="boolean"?e.world_public:!0,world_public:typeof e.world_public=="boolean"?e.world_public:void 0,friends_public:typeof e.friends_public=="boolean"?e.friends_public:void 0,can_view_details:typeof e.can_view_details=="boolean"?e.can_view_details:void 0,total_meters_scrolled:Number(e.total_meters_scrolled??0),coin_balance:Number(e.coin_balance??0),coin_meter_checkpoint:Number(e.coin_meter_checkpoint??0),created_at:e.created_at??new Date(0).toISOString()}}function Qh(e){const[t,n]=h.useState([]),[r,o]=h.useState([]),[s,i]=h.useState([]),[u,a]=h.useState([]),[f,y]=h.useState(!0),x=h.useRef(!1),p=h.useRef(new Set),N=h.useRef(!1),_=h.useRef(!1),g=h.useCallback(async()=>{if(N.current){_.current=!0;return}N.current=!0;try{do{_.current=!1;const{data:w,error:S}=await A.from("friendships").select("*").or(`requester_id.eq.${e},addressee_id.eq.${e}`);if(S){y(!1);continue}const F=w??[],P=Array.from(new Set(F.map(U=>U.requester_id===e?U.addressee_id:U.requester_id)));let B=[];if(P.length>0){const{data:U,error:j}=await A.rpc("get_social_profiles",{profile_ids:P});if(!j)B=(U??[]).map(au);else{const{data:z,error:T}=await A.from("profiles").select("*").in("id",P);if(T){y(!1);continue}B=z??[]}}const H=new Map;for(const U of B)H.set(U.id,U);const b=[],$=[],I=[];for(const U of F){const j=U.requester_id===e?U.addressee_id:U.requester_id,z=H.get(j);if(!z)continue;const T={friendship:U,profile:z};U.status==="accepted"?b.push(T):U.status==="pending"&&(U.addressee_id===e?$.push(T):I.push(T))}n(b),o($),i(I);const L=new Set(I.map(U=>U.profile.id));if(x.current){const U=b.filter(j=>p.current.has(j.profile.id)).map(j=>({userId:j.profile.id,displayName:j.profile.display_name,username:j.profile.username}));U.length>0&&a(j=>{const z=new Set(j.map(V=>V.userId)),T=U.filter(V=>!z.has(V.userId));return T.length===0?j:[...j,...T]})}x.current=!0,p.current=L,y(!1)}while(_.current)}finally{N.current=!1}},[e]);h.useEffect(()=>{g();const w=setInterval(()=>{g()},Vh);return()=>clearInterval(w)},[g]),h.useEffect(()=>{const w=A.channel(`friendships-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"friendships",filter:`requester_id=eq.${e}`},()=>{g()}).on("postgres_changes",{event:"*",schema:"public",table:"friendships",filter:`addressee_id=eq.${e}`},()=>{g()}).subscribe();return()=>{A.removeChannel(w)}},[e,g]);const M=h.useCallback(w=>{a(S=>S.filter(F=>F.userId!==w))},[]),m=h.useCallback(()=>{a([])},[]);return{friends:t,pendingReceived:r,pendingSent:s,acceptanceNotices:u,loading:f,refresh:g,sendRequest:async w=>{if(t.find($=>$.profile.id===w))return;const{data:F,error:P}=await A.from("friendships").select("*").or(`and(requester_id.eq.${e},addressee_id.eq.${w}),and(requester_id.eq.${w},addressee_id.eq.${e})`);if(P)throw P;const B=F??[];if(B.some($=>$.status==="accepted")||B.some($=>$.status==="pending"))return;const H=B.filter($=>$.status==="rejected").map($=>$.id);if(H.length>0){const{error:$}=await A.from("friendships").delete().in("id",H);if($)throw $}const{error:b}=await A.from("friendships").insert({requester_id:e,addressee_id:w,status:"pending"});if(b){if(qh(b)){await g();return}throw b}await g()},acceptRequest:async w=>{const S=r.find(P=>P.friendship.id===w);S&&(o(P=>P.filter(B=>B.friendship.id!==w)),n(P=>P.some(B=>B.profile.id===S.profile.id)?P:[...P,{...S,friendship:{...S.friendship,status:"accepted"}}]));const{error:F}=await A.from("friendships").update({status:"accepted"}).eq("id",w);if(F)throw await g(),F;await g()},rejectRequest:async w=>{o(F=>F.filter(P=>P.friendship.id!==w));const{error:S}=await A.from("friendships").update({status:"rejected"}).eq("id",w);if(S)throw await g(),S;await g()},removeFriend:async w=>{n(F=>F.filter(P=>P.friendship.id!==w));const{error:S}=await A.from("friendships").delete().eq("id",w);if(S)throw await g(),S;await g()},searchUsers:async w=>{const S=w.trim();if(S.length<2)return[];const F=ko(S).split(" ").filter(Boolean);if(F.length===0)return[];const P=Array.from(new Set(F.flatMap($=>[`username.ilike.%${$}%`,`display_name.ilike.%${$}%`]))),B=A.rpc("search_profiles_for_friend_requests",{search_query:S,result_limit:40}),{data:H,error:b}=await B;if(b){let $=A.from("profiles").select("*").neq("id",e).limit(40);P.length>0&&($=$.or(P.join(",")));const{data:I,error:L}=await $;if(L)throw L;return(I??[]).map(U=>({profile:U,score:iu(S,U)})).filter(U=>U.score>0).sort((U,j)=>j.score-U.score||U.profile.username.localeCompare(j.profile.username)).slice(0,10).map(U=>U.profile)}return(H??[]).map(au).map($=>({profile:$,score:iu(S,$)})).filter($=>$.score>0).sort(($,I)=>I.score-$.score||$.profile.username.localeCompare(I.profile.username)).slice(0,10).map($=>$.profile)},dismissAcceptanceNotice:M,dismissAllAcceptanceNotices:m}}function en({avatarUrl:e,displayName:t="User",sizeClass:n="w-8 h-8",className:r="",iconClassName:o="text-lg"}){const[s,i]=h.useState(!1);return h.useEffect(()=>{i(!1)},[e]),l.jsx("div",{className:`${n} rounded-full overflow-hidden bg-doom-surface border border-doom-border flex items-center justify-center shrink-0 ${r}`.trim(),children:e&&!s?l.jsx("img",{src:e,alt:`${t} profile picture`,className:"w-full h-full object-cover",onError:()=>i(!0)}):l.jsx("span",{className:o,children:""})})}function Kh({userId:e,onViewProfile:t,onPendingRequestsChanged:n}){const{friends:r,pendingReceived:o,pendingSent:s,acceptanceNotices:i,loading:u,sendRequest:a,acceptRequest:f,rejectRequest:y,removeFriend:x,searchUsers:p,dismissAcceptanceNotice:N}=Qh(e),[_,g]=h.useState(""),[M,m]=h.useState([]),[c,d]=h.useState(!1),[v,k]=h.useState(""),[C,w]=h.useState("friends"),[S,F]=h.useState(null);h.useEffect(()=>{n==null||n(o.length)},[n,o.length]);const P=async()=>{if(!(_.length<2)){d(!0),k("");try{const I=await p(_);m(I)}catch{k("Search failed")}finally{d(!1)}}},B=async I=>{k("");try{await a(I),m(L=>L.filter(U=>U.id!==I))}catch(L){const U=L instanceof Error?L.message:"Failed to send request";U.includes("duplicate")||U.includes("unique")?k("Already sent a request to this user"):k(U)}},H=async I=>{k("");try{await f(I)}catch{k("Failed to accept request")}},b=async I=>{k("");try{await y(I)}catch{k("Failed to reject request")}},$=async I=>{k(""),F(I);try{await x(I)}catch{k("Failed to remove friend")}finally{F(null)}};return u?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading friends..."})}):l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",placeholder:"Search by username...",value:_,onChange:I=>g(I.target.value),onKeyDown:I=>I.key==="Enter"&&P(),className:`flex-1 bg-doom-surface border border-doom-border rounded-lg px-3 py-2
                       text-white placeholder-doom-muted text-sm
                       focus:outline-none focus:border-neon-green/50 transition-colors`}),l.jsx("button",{onClick:P,disabled:c||_.length<2,className:"btn-primary text-xs px-3 disabled:opacity-50",children:c?"...":""})]}),v&&l.jsx("p",{className:"text-neon-pink text-xs mt-1",children:v})]}),i.length>0&&l.jsx("div",{className:"space-y-2",children:i.map(I=>l.jsxs("div",{className:"rounded-lg border border-neon-green/40 bg-neon-green/10 px-3 py-2 flex items-center justify-between gap-2",children:[l.jsxs("button",{onClick:()=>t(I.userId),className:"flex-1 text-left",children:[l.jsx("p",{className:"text-neon-green text-[11px] font-mono uppercase tracking-wider",children:"Friend request accepted"}),l.jsxs("p",{className:"text-white text-xs",children:[I.displayName," (@",I.username,") accepted your request."]})]}),l.jsx("button",{onClick:()=>N(I.userId),className:"text-doom-muted hover:text-white text-xs px-2 py-1 rounded border border-doom-border hover:border-neon-green/40 transition-colors",children:"Dismiss"})]},I.userId))}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("button",{onClick:()=>w("friends"),className:`rounded-lg border px-3 py-2 text-xs font-mono transition-colors ${C==="friends"?"border-neon-green/60 bg-neon-green/10 text-neon-green":"border-doom-border bg-doom-surface text-doom-muted hover:text-white"}`,children:["Friends (",r.length,")"]}),l.jsxs("button",{onClick:()=>w("requests"),className:`rounded-lg border px-3 py-2 text-xs font-mono transition-colors ${C==="requests"?"border-red-400/60 bg-red-500/10 text-red-300":"border-doom-border bg-doom-surface text-doom-muted hover:text-white"}`,children:["Requests (",o.length,")"]})]}),M.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Results"}),l.jsx("div",{className:"space-y-2",children:M.map(I=>{const L=r.some(T=>T.profile.id===I.id),U=s.some(T=>T.profile.id===I.id),j=o.some(T=>T.profile.id===I.id),z=ru(I,{isOwnProfile:!1,isFriend:L});return l.jsxs("div",{className:"card flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>t(I.id),className:"flex items-center gap-2 hover:text-neon-cyan transition-colors",children:[l.jsx(en,{avatarUrl:I.avatar_url,displayName:I.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium",children:I.display_name}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",I.username]}),!z&&l.jsx("p",{className:"text-[10px] text-doom-muted mt-0.5",children:"Private account"})]})]}),L?l.jsx("span",{className:"text-neon-green text-xs",children:" Friends"}):j?l.jsx("button",{onClick:()=>w("requests"),className:"text-red-300 text-xs border border-red-400/40 rounded px-2 py-1 hover:bg-red-500/10 transition-colors",children:"Respond"}):U?l.jsx("span",{className:"text-doom-muted text-xs",children:"Requested"}):l.jsx("button",{onClick:()=>B(I.id),className:"btn-primary text-xs px-2 py-1",children:"Add"})]},I.id)})})]}),C==="friends"?l.jsxs("div",{children:[l.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Friends (",r.length,")"]}),r.length>0?l.jsx("div",{className:"space-y-2",children:r.map(({friendship:I,profile:L})=>l.jsxs("div",{className:"card flex items-center justify-between gap-2 w-full hover:border-neon-green/30 transition-colors",children:[l.jsxs("button",{onClick:()=>t(L.id),className:"flex items-center gap-3 flex-1 text-left min-w-0",children:[l.jsx(en,{avatarUrl:L.avatar_url,displayName:L.display_name,sizeClass:"w-9 h-9",iconClassName:"text-base"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:L.display_name}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono truncate",children:["@",L.username]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[ru(L,{isOwnProfile:!1,isFriend:!0})?l.jsx("span",{className:"text-doom-muted text-xs font-mono whitespace-nowrap",children:L.total_meters_scrolled<1e3?`${Math.round(L.total_meters_scrolled)}m`:`${(L.total_meters_scrolled/1e3).toFixed(1)}km`}):l.jsx("span",{className:"text-doom-muted text-[11px] font-mono whitespace-nowrap",children:"Private"}),l.jsx("button",{onClick:()=>$(I.id),disabled:S===I.id,className:"btn-danger text-[11px] px-2 py-1 disabled:opacity-60",children:S===I.id?"...":"Remove"})]})]},I.id))}):l.jsx("div",{className:"card text-center py-4",children:l.jsx("p",{className:"text-doom-muted text-xs",children:"No friends yet. Search for someone above."})})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Incoming (",o.length,")"]}),o.length>0?l.jsx("div",{className:"space-y-2",children:o.map(({friendship:I,profile:L})=>l.jsxs("div",{className:"card flex items-center justify-between",children:[l.jsxs("button",{onClick:()=>t(L.id),className:"flex items-center gap-2 hover:text-neon-cyan transition-colors",children:[l.jsx(en,{avatarUrl:L.avatar_url,displayName:L.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium",children:L.display_name}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",L.username]})]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>H(I.id),className:"btn-primary text-xs px-2 py-1",children:"Accept"}),l.jsx("button",{onClick:()=>b(I.id),className:"btn-danger text-xs px-2 py-1",children:"Reject"})]})]},I.id))}):l.jsx("div",{className:"card text-center py-4",children:l.jsx("p",{className:"text-doom-muted text-xs",children:"No incoming requests."})})]}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:["Sent (",s.length,")"]}),s.length>0?l.jsx("div",{className:"space-y-2",children:s.map(({friendship:I,profile:L})=>l.jsxs("button",{onClick:()=>t(L.id),className:"card flex items-center justify-between w-full text-left hover:border-neon-cyan/30 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(en,{avatarUrl:L.avatar_url,displayName:L.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium",children:L.display_name}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",L.username]})]})]}),l.jsx("span",{className:"text-doom-muted text-xs font-mono",children:"Pending"})]},I.id))}):l.jsx("div",{className:"card text-center py-4",children:l.jsx("p",{className:"text-doom-muted text-xs",children:"No pending sent requests."})})]})]})]})}const Yh=2*60*1e3,Gh=2*60*1e3;function Xh({userId:e,onViewProfile:t}){const[n,r]=h.useState("world"),[o,s]=h.useState([]),[i,u]=h.useState(null),[a,f]=h.useState(!0),[y,x]=h.useState(null),p=`cached_leaderboard_${n}_${e}`,N=h.useCallback(async()=>{try{const{data:S,error:F}=await A.from("leaderboard_world").select("*").order("rank",{ascending:!0}).limit(50);if(!F&&S){const P=S??[],B=P.find(H=>H.user_id===e);if(B)return{entries:P,myRank:B};try{const{data:H,error:b}=await A.from("leaderboard_world").select("*").eq("user_id",e).maybeSingle();if(!b&&H)return{entries:P,myRank:H}}catch{}}}catch{}const{data:g,error:M}=await A.from("profiles").select("id, username, display_name, avatar_url, total_meters_scrolled, is_public, world_public").eq("world_public",!0).order("total_meters_scrolled",{ascending:!1}).limit(50);if(M)throw M;const m=cu(g??[]),c=m.find(S=>S.user_id===e);if(c)return{entries:m,myRank:c};const{data:d,error:v}=await A.from("profiles").select("id, username, display_name, avatar_url, total_meters_scrolled, is_public, world_public").eq("id",e).single();if(v||!d)return{entries:m,myRank:null};if(!rn(d))return{entries:m,myRank:null};const k=Number(d.total_meters_scrolled??0),{count:C,error:w}=await A.from("profiles").select("id",{count:"exact",head:!0}).eq("world_public",!0).gt("total_meters_scrolled",k);if(w)throw w;return{entries:m,myRank:{user_id:d.id,username:d.username,display_name:d.display_name,avatar_url:d.avatar_url,total_meters:k,rank:(C??0)+1}}},[e]),_=h.useCallback(async()=>{const{data:g,error:M}=await A.from("friendships").select("requester_id, addressee_id").or(`requester_id.eq.${e},addressee_id.eq.${e}`).eq("status","accepted");if(M)throw M;const m=new Set([e]);for(const C of g??[])m.add(C.requester_id===e?C.addressee_id:C.requester_id);const{data:c,error:d}=await A.from("profiles").select("id, username, display_name, avatar_url, total_meters_scrolled, is_public, world_public, friends_public").in("id",[...m]).order("total_meters_scrolled",{ascending:!1});if(d)throw d;const v=(c??[]).filter(C=>C.id===e||rn(C)?!0:Fn(C)),k=cu(v);return{entries:k,myRank:k.find(C=>C.user_id===e)??null}},[e]);return h.useEffect(()=>{let g=!0,M=!1;const m=setTimeout(()=>{g&&(f(!1),x(w=>w??"Leaderboard request timed out"))},8e3);async function c(){const S=(await chrome.storage.local.get(p))[p];S&&(Date.now()-S.updatedAt>Gh||g&&(M=!0,s(S.entries),u(S.myRank),f(!1)))}async function d(w){const S={...w,updatedAt:Date.now()};await chrome.storage.local.set({[p]:S})}async function v(){x(null);try{const w=n==="world"?await N():await _();if(!g)return;s(w.entries),u(w.myRank),f(!1),x(null),clearTimeout(m),d(w)}catch(w){if(!g)return;M||(s([]),u(null)),x(w instanceof Error?w.message:"Failed to load leaderboard"),f(!1),clearTimeout(m)}}async function k(){f(!0),await c(),g&&await v()}k();const C=setInterval(()=>{v()},Yh);return()=>{g=!1,clearInterval(C),clearTimeout(m)}},[p,_,N,n]),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("div",{className:"flex gap-2",children:["world","friends"].map(g=>l.jsx("button",{onClick:()=>r(g),className:`flex-1 py-2 rounded-lg text-sm font-mono font-medium transition-all
              ${n===g?"bg-neon-green/10 text-neon-green border border-neon-green/30":"bg-doom-surface text-doom-muted border border-doom-border hover:text-white"}`,children:l.jsxs("span",{className:"inline-flex items-center gap-2",children:[g==="world"?l.jsx(Jh,{className:"w-4 h-4"}):l.jsx(e0,{className:"w-4 h-4"}),l.jsx("span",{children:g==="world"?"World":"Friends"})]})},g))}),y&&l.jsxs("div",{className:"card border-neon-pink/30 text-neon-pink text-xs",children:["Failed to load leaderboard: ",y]}),i&&l.jsx("div",{className:"card neon-border",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-lg font-bold font-mono neon-text-green",children:["#",i.rank]}),l.jsx(en,{avatarUrl:i.avatar_url,displayName:i.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:"You"}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",i.username]})]}),l.jsx("span",{className:"text-sm font-mono font-bold neon-text-green",children:uu(i.total_meters)})]})}),a?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx("p",{className:"text-doom-muted font-mono text-sm animate-pulse",children:"Loading..."})}):o.length===0?l.jsx("div",{className:"card text-center py-4",children:l.jsx("p",{className:"text-doom-muted text-xs",children:n==="world"?"No scrollers yet. Be the first!":"Add some friends to see their ranking here."})}):l.jsx("div",{className:"space-y-1",children:o.map(g=>l.jsxs("button",{onClick:()=>t(g.user_id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all
                ${g.user_id===e?"bg-neon-green/5 border border-neon-green/20":"hover:bg-doom-surface"}`,children:[l.jsx("span",{className:"w-8 flex justify-center",children:l.jsx(Zh,{rank:g.rank})}),l.jsx(en,{avatarUrl:g.avatar_url,displayName:g.display_name,sizeClass:"w-8 h-8",iconClassName:"text-base"}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("p",{className:"text-sm",children:[g.display_name,g.user_id===e&&l.jsx("span",{className:"text-neon-green text-xs ml-1",children:"(you)"})]}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono",children:["@",g.username]})]}),l.jsx("span",{className:"text-xs font-mono text-doom-muted",children:uu(g.total_meters)})]},g.user_id))})]})}function uu(e){return e<1e3?`${Math.round(e)}m`:`${(e/1e3).toFixed(1)}km`}function cu(e){let t=null,n=0;return e.map((r,o)=>{const s=Number(r.total_meters_scrolled??0);let i=n;return(t===null||s<t)&&(i=o+1,n=i,t=s),{user_id:r.id,username:r.username,display_name:r.display_name,avatar_url:r.avatar_url,total_meters:s,rank:i}})}function Zh({rank:e}){return e===1?l.jsx("span",{className:"w-6 h-6 rounded-full bg-yellow-400 text-black text-xs font-bold font-mono flex items-center justify-center",children:"1"}):e===2?l.jsx("span",{className:"w-6 h-6 rounded-full bg-slate-300 text-black text-xs font-bold font-mono flex items-center justify-center",children:"2"}):e===3?l.jsx("span",{className:"w-6 h-6 rounded-full bg-amber-600 text-black text-xs font-bold font-mono flex items-center justify-center",children:"3"}):l.jsxs("span",{className:"font-mono text-sm text-doom-muted",children:["#",e]})}function Jh({className:e}){return l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M2 12h20"}),l.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10Z"})]})}function e0({className:e}){return l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function t0({profile:e,onSignOut:t,onProfileUpdated:n}){const[r,o]=h.useState(rn(e)),[s,i]=h.useState(Fn(e)),[u,a]=h.useState(e.display_name),[f,y]=h.useState(!1),[x,p]=h.useState(""),[N,_]=h.useState(""),[g,M]=h.useState(""),[m,c]=h.useState(!1),[d,v]=h.useState(!1),[k,C]=h.useState(""),[w,S]=h.useState("error");h.useEffect(()=>{o(rn(e)),i(Fn(e)),a(e.display_name)},[e]);function F(b){if(b&&typeof b=="object"&&"message"in b){const $=String(b.message??"").trim();if($)return $}return"Failed to update password"}const P=async()=>{y(!0),p("");const{error:b}=await A.from("profiles").update({is_public:r,world_public:r,friends_public:s,display_name:u}).eq("id",e.id);b?p("Failed to save"):(p("Saved!"),n()),y(!1),setTimeout(()=>p(""),2e3)},B=r!==rn(e)||s!==Fn(e)||u!==e.display_name,H=async()=>{if(C(""),!N||!g){S("error"),C("Enter and confirm your new password.");return}if(N!==g){S("error"),C("New passwords do not match.");return}const b=Ti(N);if(!b.valid){S("error"),C(b.message);return}v(!0);try{const{error:$}=await A.auth.updateUser({password:N});if($){S("error"),C(F($));return}S("success"),C("Password updated."),_(""),M(""),c(!1)}catch($){S("error"),C(F($))}finally{v(!1),setTimeout(()=>C(""),2500)}};return l.jsxs("div",{className:"flex flex-col gap-5",children:[l.jsx("h2",{className:"text-sm font-mono font-bold text-doom-muted uppercase tracking-wider",children:"Settings"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-doom-muted text-xs font-mono block mb-1",children:"Display Name"}),l.jsx("input",{type:"text",value:u,onChange:b=>a(b.target.value),className:`w-full bg-doom-surface border border-doom-border rounded-lg px-3 py-2
                     text-white text-sm focus:outline-none focus:border-neon-green/50 transition-colors`})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-doom-muted text-xs font-mono block mb-1",children:"Username"}),l.jsxs("div",{className:"bg-doom-surface border border-doom-border rounded-lg px-3 py-2 text-doom-muted text-sm",children:["@",e.username]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"World Visibility"}),l.jsx("p",{className:"text-doom-muted text-xs mt-0.5",children:r?"Visible to everyone (profile + world leaderboard)":"Hidden from world; choose friend visibility below"})]}),l.jsx("button",{onClick:()=>o(b=>!b),className:`w-12 h-6 rounded-full transition-all duration-200 relative
              ${r?"bg-neon-green/30":"bg-doom-border"}`,children:l.jsx("div",{className:`w-5 h-5 rounded-full absolute top-0.5 transition-all duration-200
                ${r?"left-6 bg-neon-green shadow-neon-green":"left-0.5 bg-doom-muted"}`})})]}),!r&&l.jsx("div",{className:"mt-3 pt-3 border-t border-doom-border",children:l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Friends Visibility"}),l.jsx("p",{className:"text-doom-muted text-xs mt-0.5",children:s?"Friends can view your profile + friends leaderboard":"No one can view your profile details"})]}),l.jsx("button",{onClick:()=>i(b=>!b),className:`w-12 h-6 rounded-full transition-all duration-200 relative
                  ${s?"bg-neon-green/30":"bg-doom-border"}`,children:l.jsx("div",{className:`w-5 h-5 rounded-full absolute top-0.5 transition-all duration-200
                    ${s?"left-6 bg-neon-green shadow-neon-green":"left-0.5 bg-doom-muted"}`})})]})})]}),B&&l.jsx("button",{onClick:P,disabled:f,className:"btn-primary py-2 text-sm font-bold disabled:opacity-50",children:f?"Saving...":"Save Changes"}),x&&l.jsx("p",{className:`text-xs text-center ${x==="Saved!"?"text-neon-green":"text-neon-pink"}`,children:x}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Change Password"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:m?"text":"password",value:N,onChange:b=>_(b.target.value),placeholder:"New password",minLength:10,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-3 py-2 pr-12
                         text-white text-sm focus:outline-none focus:border-neon-green/50 transition-colors`}),l.jsx("button",{type:"button",onClick:()=>c(b=>!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-doom-muted hover:text-white text-xs transition-colors",children:m?"Hide":"Show"})]}),l.jsx("input",{type:m?"text":"password",value:g,onChange:b=>M(b.target.value),placeholder:"Confirm new password",minLength:10,className:`w-full bg-doom-surface border border-doom-border rounded-lg px-3 py-2
                       text-white text-sm focus:outline-none focus:border-neon-green/50 transition-colors`}),l.jsx("p",{className:"text-[11px] text-doom-muted leading-relaxed",children:Dd}),l.jsx("button",{onClick:H,disabled:d,className:`w-full px-3 py-2 rounded-lg border border-neon-green/45 text-neon-green
                       hover:bg-neon-green/10 transition-colors text-sm font-semibold disabled:opacity-50`,children:d?"Updating...":"Update Password"}),k&&l.jsx("p",{className:`text-xs text-center ${w==="success"?"text-neon-green":"text-neon-pink"}`,children:k})]})]}),l.jsx("div",{className:"mt-4 pt-4 border-t border-doom-border",children:l.jsx("button",{onClick:t,className:"btn-danger w-full py-2 text-sm",children:"Sign Out"})}),l.jsx("p",{className:"text-doom-muted text-[10px] text-center font-mono",children:"DoomScroller v1.0.0"})]})}const n0="https://aknzrsgymehrixfwqefq.supabase.co",r0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrbnpyc2d5bWVocml4ZndxZWZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMjUyODgsImV4cCI6MjA4NjYwMTI4OH0.ESpNDYKwlK72Ebj19yk5qoUDtOr3PY_rQ5dQSelwZL8",Bs=['Your rank is somewhere between "needs help" and "thumb athlete." Keep scrolling and you will definitely move in one direction.',"You asked for focus advice from a doomscroll bot. Respectfully, close this tab and touch your textbook for 20 minutes.","AI roast service is taking a break, but your scrolling never does. Consider a hydration break before your thumb asks for overtime pay."];function o0(e){const t=e.trim().toLowerCase();return t.includes("rank")?Bs[0]:t.includes("study")||t.includes("focus")?Bs[1]:Bs[2]}function io(e,t){return{id:`tmp_${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,user_id:"local",role:e,content:t,created_at:new Date().toISOString()}}function Il(e){if(!e)return"";if(typeof e=="string")return e;if(e instanceof Error)return e.message||"";try{return JSON.stringify(e)}catch{return String(e)}}function Fi(e){if(e instanceof Wd)return e.status;if(!e||typeof e!="object")return null;const t=e.context,n=typeof(t==null?void 0:t.status)=="number"?t.status:Number(t==null?void 0:t.status);return Number.isFinite(n)?n:null}function s0(e){return Fi(e)===429}function l0(e){const t=Fi(e);if(t===429){const o=Il(e);return o||"You've hit your 5 message limit for today. Come back tomorrow for more roasts!"}if(t===401||t===403)return"Session expired. Please sign out and sign in again.";if(t&&t>=500)return`Chat service error (${t}). Please try again.`;if(t&&t>=400)return`Request failed (${t}).`;const n=Il(e)||"Unknown error",r=n.toLowerCase();return r.includes("failed to fetch")||r.includes("networkerror")?"Cannot reach AI service. Network may be blocking Supabase.":r.includes("401")||r.includes("jwt")||r.includes("unauthorized")?"Session expired. Please sign out and sign in again.":n}function du(e){const t=Fi(e);if(t===401||t===403)return!0;const r=Il(e).toLowerCase();return r.includes("401")||r.includes("jwt")||r.includes("unauthorized")}class Wd extends Error{constructor(n,r){super(r);Ii(this,"status");this.name="ChatbotHttpError",this.status=n}}async function fu(e,t){const n=await fetch(`${n0}/functions/v1/chatbot`,{method:"POST",headers:{"content-type":"application/json",apikey:r0,Authorization:`Bearer ${t}`,"x-ds-token":t},body:JSON.stringify({message:e})});let r=null;try{r=await n.json()}catch{}if(!n.ok){const o=r&&typeof r=="object"&&"error"in r?String(r.error??""):"";throw new Wd(n.status,o||`Edge function failed (${n.status})`)}return r??{}}function i0(e){const[t,n]=h.useState([]),[r]=h.useState(!1),[o,s]=h.useState(!1),[i,u]=h.useState(null),[a,f]=h.useState(null),y=h.useRef(!1),x=h.useCallback(async()=>{var c;const{data:{session:_},error:g}=await A.auth.getSession();if(g)throw g;if(!(_!=null&&_.access_token))throw new Error("Session expired. Please sign in again.");const M=_.expires_at,m=Math.floor(Date.now()/1e3);if(M&&M-m>60)return _.access_token;try{const{data:d}=await A.auth.refreshSession();if((c=d.session)!=null&&c.access_token)return d.session.access_token}catch{console.warn("[DoomScroller] Session refresh failed, using existing token")}return _.access_token},[]),p=h.useCallback(async _=>{var M;const g=await x();try{return await fu(_,g)}catch(m){if(!du(m))throw m;try{const c=await A.auth.refreshSession();if(c.error||!((M=c.data.session)!=null&&M.access_token))throw m;return await fu(_,c.data.session.access_token)}catch(c){throw du(c)?c:m}}},[x]),N=h.useCallback(async _=>{const g=_.trim();if(!g||y.current)return;y.current=!0,s(!0),u(null);const M=io("user",g);n(m=>[...m,M]);try{const m=await p(g),c=typeof m.reply=="string"?m.reply.trim():"";if(!c)throw new Error("Empty AI response");n(d=>[...d,io("assistant",c)]),f(m.context??null)}catch(m){const c=l0(m);if(s0(m))n(d=>[...d,io("assistant",c)]),u(c);else{const d=o0(g);n(v=>[...v,io("assistant",d)]),u(`AI service unavailable. ${c||"Showing fallback roast."}`)}console.error("[DoomScroller] Chat invoke failed:",m)}finally{y.current=!1,s(!1)}},[p,e]);return{messages:t,loading:r,sending:o,error:i,context:a,sendMessage:N,clearError:()=>u(null)}}function a0({userId:e}){const{messages:t,loading:n,sending:r,error:o,context:s,sendMessage:i,clearError:u}=i0(e),[a,f]=h.useState(""),y=h.useRef(null);h.useEffect(()=>{var p;(p=y.current)==null||p.scrollIntoView({behavior:"smooth",block:"end"})},[t.length,r]);const x=async p=>{p.preventDefault();const N=a.trim();!N||r||(f(""),await i(N))};return l.jsxs("div",{className:"flex flex-col gap-3 h-full min-h-[460px]",children:[l.jsxs("div",{className:"card py-3",children:[l.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-1",children:"AI Chat"}),l.jsx("p",{className:"text-doom-muted text-xs leading-relaxed",children:"Ask for roasts, patterns, or how cooked am I today? and the bot answers using your own doomscroll data."}),s&&l.jsxs("p",{className:"text-[10px] text-doom-muted font-mono mt-2",children:[s.rank?`Rank #${s.rank}`:"Rank unavailable",typeof s.percentile=="number"?`  ${s.percentile}% percentile`:"",s.topSite?`  Top app: ${s.topSite}`:""]})]}),o&&l.jsxs("div",{className:"card border-neon-pink/40 bg-neon-pink/10 text-neon-pink text-xs font-mono flex items-center justify-between gap-2",children:[l.jsx("span",{children:o}),l.jsx("button",{className:"px-2 py-1 rounded border border-neon-pink/40 hover:bg-neon-pink/20",onClick:u,children:"Dismiss"})]}),l.jsxs("div",{className:"card flex-1 overflow-y-auto space-y-2",children:[n?l.jsx("p",{className:"text-doom-muted text-xs font-mono animate-pulse",children:"Loading messages..."}):t.length===0?l.jsx("p",{className:"text-doom-muted text-xs",children:"No messages yet. Ask the bot what your worst scrolling habit is."}):t.map(p=>l.jsx("div",{className:`max-w-[88%] px-3 py-2 rounded-lg text-xs leading-relaxed ${p.role==="user"?"ml-auto bg-neon-green/12 border border-neon-green/35 text-neon-green":"mr-auto bg-doom-surface border border-doom-border text-white"}`,children:p.content},p.id)),r&&l.jsx("div",{className:"mr-auto bg-doom-surface border border-doom-border text-doom-muted text-xs px-3 py-2 rounded-lg animate-pulse",children:"Cooking a roast..."}),l.jsx("div",{ref:y})]}),l.jsx("form",{className:"card !p-2",onSubmit:x,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{value:a,onChange:p=>f(p.target.value),placeholder:"Ask AI chat...",className:"flex-1 bg-doom-surface border border-doom-border rounded-md px-3 py-2 text-sm focus:outline-none focus:border-neon-green",maxLength:400,disabled:r}),l.jsx("button",{type:"submit",disabled:r||a.trim().length===0,className:"btn-primary text-xs px-3 py-2 disabled:opacity-50",children:"Send"})]})})]})}const mu=4,u0=120,c0=[10,20,60,120,180,300],gr=6,pu="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",d0=120,f0=1200,hu=8,m0="battle_result_seen_",Hs=!1,qd=[{id:"scroll_sprint",title:"Scroll Sprint",subtitle:"Pure speed",details:"Highest distance in the round wins."},{id:"target_chase",title:"Target Chase",subtitle:"Precision mode",details:"Closest to the target distance wins."}],p0={scroll_sprint:["Scroll as much as possible before timer ends.","Highest distance wins the pot.","Tie splits coins evenly."],target_chase:["Try to finish closest to the target distance.","Overshoot and undershoot both count.","Closest distance wins."]};function gu(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,gr)}function h0(){let e="";for(let t=0;t<gr;t+=1)e+=pu[Math.floor(Math.random()*pu.length)];return e}function xu(e){return e<60?`${e}s`:e%60===0?`${e/60}m`:`${Math.floor(e/60)}m ${e%60}s`}function yu(e,t){const n=Math.max(0,Math.floor(t)),r=Number.isFinite(e)?Math.floor(e):0;return Math.min(n,Math.max(0,r))}function vu(e){if(!e)return"Not selected";const t=qd.find(n=>n.id===e);return(t==null?void 0:t.title)??e}function g0(e){if(!e||typeof e!="object")return null;const t=e,n=typeof t.settledAt=="string"?t.settledAt:null,r=Number(t.pot),o=Number(t.betCoins),s=Array.isArray(t.winnerIds)?t.winnerIds:[],i=t.payouts&&typeof t.payouts=="object"?t.payouts:{},u=t.scores&&typeof t.scores=="object"?t.scores:{},a=t.offBy&&typeof t.offBy=="object"?t.offBy:{},f=Number(t.targetMeters);if(!n||!Number.isFinite(r)||!Number.isFinite(o))return null;const y=s.filter(_=>typeof _=="string"),x={};for(const[_,g]of Object.entries(i)){const M=Number(g);Number.isFinite(M)&&(x[_]=M)}const p={};for(const[_,g]of Object.entries(u)){const M=Number(g);Number.isFinite(M)&&(p[_]=M)}const N={};for(const[_,g]of Object.entries(a)){const M=Number(g);Number.isFinite(M)&&(N[_]=M)}return{settledAt:n,pot:Math.max(0,Math.floor(r)),betCoins:Math.max(0,Math.floor(o)),winnerIds:y,payouts:x,scores:p,targetMeters:Number.isFinite(f)?f:null,offBy:Object.keys(N).length>0?N:null}}function hn(e){return Number.isFinite(e)?e<1e3?`${e.toFixed(1)}m`:`${(e/1e3).toFixed(2)}km`:"0m"}function x0(e,t){return`${m0}${e}_${t}`}function ue(e){return e?e.code==="42P01"?"Battle tables are not deployed yet. Run latest migration.":e.code==="23505"?"Duplicate value conflict. Try again.":e.code==="42501"?"Permission denied by database policy.":e.message||"Unexpected database error":"Unexpected database error"}function y0(e){return[...e].sort((t,n)=>new Date(t.joinedAt).getTime()-new Date(n.joinedAt).getTime())}function v0({userId:e,username:t,displayName:n,avatarUrl:r,availableCoins:o,onWalletSync:s}){const[i,u]=h.useState(""),[a,f]=h.useState(null),[y,x]=h.useState([]),[p,N]=h.useState(!0),[_,g]=h.useState(!1),[M,m]=h.useState(!1),[c,d]=h.useState(null),[v,k]=h.useState(null),[C,w]=h.useState(!1),[S,F]=h.useState(()=>Date.now()),[P,B]=h.useState(null),H=h.useRef(null),b=h.useRef(null),$=h.useRef(!1),I=h.useRef(!1),L=h.useRef(null),U=h.useRef(null),j=!!(a&&a.host_id===e),z=(a==null?void 0:a.max_players)??mu,T=h.useMemo(()=>y0(y),[y]),V=T.length>=z,Q=j&&(a==null?void 0:a.status)==="lobby"&&T.length>=2,_e=a!=null&&a.selected_game_type?p0[a.selected_game_type]:[],Z=g0((a==null?void 0:a.round_result)??null),ie=h.useMemo(()=>{const E={};for(const D of T)E[D.userId]=D.displayName;return E},[T]),G=a!=null&&a.round_started_at?new Date(a.round_started_at).getTime():null,Ee=a!=null&&a.round_ends_at?new Date(a.round_ends_at).getTime():null,Kt=(a==null?void 0:a.status)==="active"&&G!=null&&S<G,Dr=(a==null?void 0:a.status)==="active"&&G!=null&&Ee!=null&&S>=G&&S<Ee,ds=(a==null?void 0:a.status)==="active"&&Ee!=null&&S>=Ee,zi=h.useMemo(()=>{if(!(a!=null&&a.selected_game_type))return[];const E=Number(a.round_target_meters??0),D=a.selected_game_type==="target_chase",W=[...T].map(K=>{const J=Math.max(0,Number(K.totalMeters)-Number(K.roundStartMeters));return{userId:K.userId,score:J,offBy:D?Math.abs(J-E):null}});return D?W.sort((K,J)=>{const pe=K.offBy??Number.POSITIVE_INFINITY,xe=J.offBy??Number.POSITIVE_INFINITY;return pe!==xe?pe-xe:J.score-K.score}):W.sort((K,J)=>J.score-K.score)},[T,a==null?void 0:a.round_target_meters,a==null?void 0:a.selected_game_type]),ot=h.useCallback(()=>{f(null),x([])},[]),Nt=h.useCallback(async E=>{const{data:D,error:W}=await A.from("battle_rooms").select("*").eq("id",E).maybeSingle();if(W)throw new Error(ue(W));if(!D){ot();return}const K=D;if(K.status==="closed"){ot(),k("Battle room is closed.");return}const{data:J,error:pe}=await A.from("battle_room_members").select("status").eq("room_id",E).eq("user_id",e).maybeSingle();if(pe)throw new Error(ue(pe));const xe=(J==null?void 0:J.status)??null;if(xe==="kicked"){ot(),d("You were kicked from this room by the host.");return}if(xe!=="joined"){ot();return}const{data:dt,error:st}=await A.from("battle_room_members").select("*").eq("room_id",E).eq("status","joined").order("joined_at",{ascending:!0});if(st)throw new Error(ue(st));const ms=dt??[],$r=ms.map(Ge=>Ge.user_id);let Wn=new Map;if($r.length>0){const{data:Ge,error:Ce}=await A.rpc("get_social_profiles",{profile_ids:$r});if(Ce)throw new Error(ue(Ce));for(const ft of Ge??[])Wn.set(ft.id,{username:ft.username??"user",display_name:ft.display_name??"User",avatar_url:ft.avatar_url??null,total_meters_scrolled:Number(ft.total_meters_scrolled??0)})}const tf=ms.map(Ge=>{const Ce=Wn.get(Ge.user_id),ft=Ge.user_id===e;return{userId:Ge.user_id,username:(Ce==null?void 0:Ce.username)??(ft?t:"user"),displayName:(Ce==null?void 0:Ce.display_name)??(ft?n:"User"),avatarUrl:(Ce==null?void 0:Ce.avatar_url)??(ft?r:null),joinedAt:Ge.joined_at,role:Ge.role,totalMeters:Number((Ce==null?void 0:Ce.total_meters_scrolled)??0),roundStartMeters:Number(Ge.round_start_meters??0),roundScoreMeters:Number(Ge.round_score_meters??0)}});f(K),x(tf)},[r,ot,n,e,t]),He=h.useCallback(async E=>{if($.current){I.current=!0;return}$.current=!0;try{do I.current=!1,await Nt(E);while(I.current)}finally{$.current=!1}},[Nt]),Ur=h.useCallback(E=>{H.current!=null&&window.clearTimeout(H.current),H.current=window.setTimeout(()=>{H.current=null,He(E)},d0)},[He]),St=h.useCallback(E=>{b.current&&(A.removeChannel(b.current),b.current=null);const D=A.channel(`battle-room-db:${E}`).on("postgres_changes",{event:"*",schema:"public",table:"battle_rooms",filter:`id=eq.${E}`},()=>{Ur(E)}).on("postgres_changes",{event:"*",schema:"public",table:"battle_room_members",filter:`room_id=eq.${E}`},()=>{Ur(E)}).subscribe(W=>{W==="SUBSCRIBED"&&Ur(E)});b.current=D},[Ur]),Ai=h.useCallback(async()=>{N(!0),d(null),k(null);try{const{data:E,error:D}=await A.from("battle_room_members").select("room_id, joined_at").eq("user_id",e).eq("status","joined").order("joined_at",{ascending:!1}).limit(1).maybeSingle();if(D)throw new Error(ue(D));if(!(E!=null&&E.room_id)){ot();return}const W=E.room_id;await Nt(W),St(W)}catch(E){const D=E instanceof Error?E.message:"Failed to load battle room";d(D),ot()}finally{N(!1)}},[ot,Nt,St,e]);h.useEffect(()=>(Ai(),()=>{H.current!=null&&(window.clearTimeout(H.current),H.current=null),b.current&&(A.removeChannel(b.current),b.current=null)}),[Ai]),h.useEffect(()=>{a!=null&&a.id&&St(a.id)},[a==null?void 0:a.id,St]),h.useEffect(()=>{if(!(a!=null&&a.id))return;const E=a.id,D=window.setInterval(()=>{He(E)},f0);return()=>{window.clearInterval(D)}},[He,a==null?void 0:a.id]),h.useEffect(()=>{if((a==null?void 0:a.status)!=="active")return;const E=window.setInterval(()=>{F(Date.now())},250);return()=>{window.clearInterval(E)}},[a==null?void 0:a.status]),h.useEffect(()=>{if(!Z||!(a!=null&&a.id))return;const E=`${a.id}:${Z.settledAt}`;if(U.current===E)return;const D=x0(e,a.id);let W=!1;return(async()=>{try{const K=await chrome.storage.local.get(D);if(W||(typeof K[D]=="string"?K[D]:null)===E)return}catch{}if(!W){U.current=E,s==null||s(),B(null);try{await chrome.storage.local.set({[D]:E})}catch{}}})(),()=>{W=!0}},[Z,s,a==null?void 0:a.id,e]);const Qd=h.useCallback(async()=>{g(!0),d(null),k(null);try{let E=null;for(let W=0;W<8;W+=1){const K=h0(),{data:J,error:pe}=await A.from("battle_rooms").insert({room_key:K,host_id:e,created_by:e,status:"lobby",bet_coins:yu(Math.min(10,o),o),timer_seconds:u0,selected_game_type:null,max_players:mu}).select("*").single();if(!pe){E=J;break}if(pe.code!=="23505")throw new Error(ue(pe))}if(!E)throw new Error("Could not generate a unique room key.");const{error:D}=await A.from("battle_room_members").upsert({room_id:E.id,user_id:e,role:"host",status:"joined",left_at:null},{onConflict:"room_id,user_id"});if(D)throw new Error(ue(D));u(E.room_key),f(E),await Nt(E.id),St(E.id),k("Room created. Share key with friends.")}catch(E){const D=E instanceof Error?E.message:"Failed to create room";d(D)}finally{g(!1)}},[o,Nt,St,e]),Kd=h.useCallback(async()=>{const E=gu(i);if(E.length!==gr){d(`Enter a ${gr}-character room key.`);return}g(!0),d(null),k(null);try{const{data:D,error:W}=await A.from("battle_rooms").select("*").eq("room_key",E).maybeSingle();if(W)throw new Error(ue(W));if(!D)throw new Error("Room not found.");const K=D;if(K.status==="closed")throw new Error("Room is closed.");const{data:J,error:pe}=await A.from("battle_room_members").select("*").eq("room_id",K.id).eq("user_id",e).maybeSingle();if(pe)throw new Error(ue(pe));if((J==null?void 0:J.status)==="kicked")throw new Error("You were kicked from this room and cannot rejoin.");const{data:xe,error:dt}=await A.from("battle_room_members").select("user_id").eq("room_id",K.id).eq("status","joined");if(dt)throw new Error(ue(dt));const st=(xe==null?void 0:xe.length)??0;if(!((J==null?void 0:J.status)==="joined")&&st>=K.max_players)throw new Error(`Room is full (${K.max_players} players max).`);const $r=K.host_id===e?"host":"player",{error:Wn}=await A.from("battle_room_members").upsert({room_id:K.id,user_id:e,role:$r,status:"joined",left_at:null},{onConflict:"room_id,user_id"});if(Wn)throw new Error(ue(Wn));await Nt(K.id),St(K.id),k("Joined room. Waiting for host.")}catch(D){const W=D instanceof Error?D.message:"Failed to join room";d(W)}finally{g(!1)}},[Nt,i,St,e]),Yd=h.useCallback(async()=>{var E;if(a){m(!0),d(null);try{if(a.host_id===e){const{data:K,error:J}=await A.from("battle_room_members").select("user_id").eq("room_id",a.id).eq("status","joined").neq("user_id",e).order("joined_at",{ascending:!0}).limit(1);if(J)throw new Error(ue(J));const pe=(E=K==null?void 0:K[0])==null?void 0:E.user_id;if(pe){const{error:xe}=await A.from("battle_room_members").update({role:"player"}).eq("room_id",a.id);if(xe)throw new Error(ue(xe));const{error:dt}=await A.from("battle_room_members").update({role:"host"}).eq("room_id",a.id).eq("user_id",pe);if(dt)throw new Error(ue(dt));const{error:st}=await A.from("battle_rooms").update({host_id:pe}).eq("id",a.id);if(st)throw new Error(ue(st))}else{const{error:xe}=await A.from("battle_rooms").update({status:"closed"}).eq("id",a.id);if(xe)throw new Error(ue(xe))}}const{error:W}=await A.from("battle_room_members").update({status:"left",left_at:new Date().toISOString(),role:"player"}).eq("room_id",a.id).eq("user_id",e);if(W)throw new Error(ue(W));ot(),k("You left the room.")}catch(D){const W=D instanceof Error?D.message:"Failed to leave room";d(W)}finally{m(!1)}}},[ot,a,e]),Gd=h.useCallback(async E=>{if(!(!a||!j||E===e)){m(!0),d(null);try{const{error:D}=await A.from("battle_room_members").update({status:"kicked",left_at:new Date().toISOString(),role:"player"}).eq("room_id",a.id).eq("user_id",E);if(D)throw new Error(ue(D));k("Player removed from room."),await He(a.id)}catch(D){const W=D instanceof Error?D.message:"Failed to kick player";d(W)}finally{m(!1)}}},[j,He,a,e]),fn=h.useCallback(async E=>{if(!(!a||!j)){m(!0),d(null);try{const D=E.bet_coins??a.bet_coins,W=E.timer_seconds??a.timer_seconds,K=Object.prototype.hasOwnProperty.call(E,"selected_game_type")?E.selected_game_type:a.selected_game_type,J=E.status??a.status,pe=Object.prototype.hasOwnProperty.call(E,"round_started_at")?E.round_started_at:a.round_started_at,xe=Object.prototype.hasOwnProperty.call(E,"round_ends_at")?E.round_ends_at:a.round_ends_at,dt=Object.prototype.hasOwnProperty.call(E,"round_target_meters")?E.round_target_meters:a.round_target_meters,{error:st}=await A.from("battle_rooms").update({bet_coins:D,timer_seconds:W,selected_game_type:K,status:J,round_started_at:pe,round_ends_at:xe,round_target_meters:dt}).eq("id",a.id);if(st)throw new Error(ue(st));await He(a.id)}catch(D){const W=D instanceof Error?D.message:"Failed to update room";d(W)}finally{m(!1)}}},[j,He,a]),Xd=async()=>{if(a!=null&&a.room_key)try{await navigator.clipboard.writeText(a.room_key),w(!0),window.setTimeout(()=>w(!1),1200)}catch{d("Could not copy key. Copy manually.")}},Zd=h.useCallback(async()=>{if(!(!a||!j)){if(!a.selected_game_type){d("Host must select a game type first.");return}m(!0),d(null);try{const{error:E}=await A.rpc("start_battle_round",{p_room_id:a.id,p_prestart_seconds:hu});if(E)throw new Error(ue(E));await He(a.id),k(`Round starts in ${hu}s. Read rules before go time.`)}catch(E){const D=E instanceof Error?E.message:"Failed to start round";d(D)}finally{m(!1)}}},[j,He,a]),Jd=h.useCallback(async()=>{!a||!j||await fn({status:"game_select",round_started_at:null,round_ends_at:null,round_target_meters:null})},[j,a,fn]),fs=h.useCallback(async()=>{if(!(!a||!j)){m(!0),d(null);try{const{error:E}=await A.rpc("finalize_battle_round",{p_room_id:a.id});if(E)throw new Error(ue(E));await He(a.id),k("Round settled. Coins moved.")}catch(E){const D=E instanceof Error?E.message:"Failed to finalize round";d(D),L.current=null}finally{m(!1)}}},[j,He,a]);if(h.useEffect(()=>{if(!a||!j||!ds)return;const E=`${a.id}:${a.round_ends_at??""}`;L.current!==E&&(L.current=E,fs())},[fs,j,ds,a]),p)return l.jsx("div",{className:"card text-center py-8",children:l.jsx("p",{className:"text-doom-muted text-sm font-mono animate-pulse",children:"Loading battle room..."})});const ef=!a;return P&&P.winnerIds.includes(e),Math.floor(Number((P==null?void 0:P.payouts[e])??0)),l.jsxs("div",{className:"relative flex flex-col gap-4",children:[ef?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-2",children:"Create battle room"}),l.jsx("p",{className:"text-doom-muted text-xs mb-3",children:"Host creates a key, players join, host starts, then picks game mode."}),l.jsx("button",{onClick:()=>{Qd()},className:"btn-primary w-full text-sm",disabled:_,children:_?"Creating...":"Create Room"})]}),l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Join with key"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:E=>u(gu(E.target.value)),placeholder:"Room key",maxLength:gr,className:"flex-1 bg-doom-surface border border-doom-border rounded-md px-3 py-2 text-sm tracking-[0.24em] uppercase focus:outline-none focus:border-neon-green/50"}),l.jsx("button",{onClick:()=>{Kd()},className:"btn-primary text-xs px-3 disabled:opacity-50",disabled:_,children:"Join"})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider",children:["Room ",a.room_key]}),l.jsxs("p",{className:"text-doom-muted text-xs",children:[j?"You are host":"You are player","  ",T.length,"/",z," players"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:Xd,className:"px-2 py-1 text-[11px] rounded-md border border-doom-border text-doom-muted hover:text-white hover:border-neon-green/40",children:C?"Copied":"Copy key"}),l.jsx("button",{onClick:()=>{Yd()},className:"btn-danger text-[11px] px-2 py-1 disabled:opacity-60",disabled:M,children:"Leave"})]})]})}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider",children:"Lobby players"}),l.jsx("p",{className:"text-doom-muted text-[11px]",children:V?"Room full":`${z-T.length} slots open`})]}),l.jsx("div",{className:"space-y-2",children:T.map(E=>{const D=E.userId===e,W=E.userId===a.host_id;return l.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-doom-border bg-doom-bg/40 px-2.5 py-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx(en,{avatarUrl:E.avatarUrl,displayName:E.displayName,sizeClass:"w-8 h-8",iconClassName:"text-base"}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm truncate",children:E.displayName}),l.jsxs("p",{className:"text-doom-muted text-xs font-mono truncate",children:["@",E.username]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[W&&l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-neon-green/40 text-neon-green font-mono",children:"HOST"}),D&&l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border border-doom-border text-doom-muted font-mono",children:"YOU"}),j&&!D&&l.jsx("button",{onClick:()=>{Gd(E.userId)},className:"text-[10px] px-1.5 py-0.5 rounded border border-neon-pink/40 text-neon-pink hover:bg-neon-pink/15 transition-colors",disabled:M,children:"Kick"})]})]},E.userId)})})]}),a.status==="lobby"&&l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono uppercase tracking-wider mb-2",children:"Round setup"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-[11px] text-doom-muted",children:"Bet coins"}),l.jsx("input",{type:"number",min:0,max:Math.max(0,Math.floor(o)),value:a.bet_coins,disabled:!j||M,onChange:E=>{const D=yu(Number(E.target.value),o);fn({bet_coins:D})},className:"mt-1 w-full bg-doom-surface border border-doom-border rounded-md px-2 py-1.5 text-sm disabled:opacity-60"})]}),l.jsxs("label",{className:"block",children:[l.jsx("span",{className:"text-[11px] text-doom-muted",children:"Round timer"}),l.jsx("select",{value:a.timer_seconds,disabled:!j||M,onChange:E=>{fn({timer_seconds:Number(E.target.value)})},className:"mt-1 w-full bg-doom-surface border border-doom-border rounded-md px-2 py-1.5 text-sm disabled:opacity-60",children:c0.map(E=>l.jsx("option",{value:E,children:xu(E)},E))})]})]}),j?l.jsx("button",{onClick:()=>{fn({status:"game_select",selected_game_type:null,round_started_at:null,round_ends_at:null,round_target_meters:null})},disabled:!Q||M,className:"btn-primary w-full text-sm disabled:opacity-50",children:Q?"Start Battle":"Need at least 2 players"}):l.jsx("p",{className:"text-doom-muted text-xs",children:"Waiting for host to start."})]}),a.status==="game_select"&&l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-1",children:"Game select"}),l.jsxs("p",{className:"text-doom-muted text-xs mb-3",children:["Pot: ",l.jsxs("span",{className:"text-white",children:[a.bet_coins*T.length," coins"]}),"  Timer:"," ",l.jsx("span",{className:"text-white",children:xu(a.timer_seconds)})]}),j?l.jsx("div",{className:"grid grid-cols-1 gap-2",children:qd.map(E=>{const D=a.selected_game_type===E.id;return l.jsxs("button",{onClick:()=>{fn({selected_game_type:E.id})},className:`text-left rounded-lg border px-3 py-2 transition-colors ${D?"border-neon-green/60 bg-neon-green/10":"border-doom-border bg-doom-surface hover:border-neon-green/30"}`,disabled:M,children:[l.jsx("p",{className:"text-sm text-white",children:E.title}),l.jsxs("p",{className:"text-[11px] text-doom-muted",children:[E.subtitle,"  ",E.details]})]},E.id)})}):l.jsx("p",{className:"text-doom-muted text-xs",children:"Waiting for host to choose game type..."}),a.selected_game_type&&l.jsxs("div",{className:"mt-3 rounded-lg border border-neon-green/35 bg-neon-green/10 px-3 py-2",children:[l.jsxs("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-1",children:["Rules: ",vu(a.selected_game_type)]}),l.jsx("ul",{className:"space-y-1",children:_e.map(E=>l.jsxs("li",{className:"text-[11px] text-doom-muted",children:[" ",E]},E))})]}),Z&&l.jsxs("div",{className:"mt-3 rounded-lg border border-doom-border bg-doom-bg/50 px-3 py-2",children:[l.jsx("p",{className:"text-doom-muted text-[11px] font-mono uppercase tracking-wider mb-1",children:"Last round"}),l.jsxs("p",{className:"text-xs text-white",children:["Winners:"," ",l.jsx("span",{className:"text-neon-green",children:Z.winnerIds.map(E=>ie[E]??"Player").join(", ")})]}),l.jsxs("p",{className:"text-[11px] text-doom-muted",children:["Pot ",Z.pot,"  Your result"," ",l.jsxs("span",{className:Number(Z.payouts[e]??0)>=0?"text-neon-green":"text-neon-pink",children:[Number(Z.payouts[e]??0)>=0?"+":"",Math.floor(Number(Z.payouts[e]??0))," coins"]})]}),Number.isFinite(Number(Z.targetMeters??NaN))&&l.jsxs("p",{className:"text-[11px] text-doom-muted mt-0.5",children:["Target:"," ",l.jsx("span",{className:"text-neon-cyan",children:hn(Number(Z.targetMeters??0))}),Z.offBy&&Number.isFinite(Number(Z.offBy[e]??NaN))&&l.jsxs(l.Fragment,{children:[" "," You were"," ",l.jsx("span",{className:"text-white",children:hn(Number(Z.offBy[e]??0))})," ","off"]})]})]}),j&&a.selected_game_type&&l.jsx("button",{onClick:()=>{Zd()},disabled:M,className:"btn-primary w-full text-sm mt-3 disabled:opacity-60",children:"Start Round"})]}),a.status==="active"&&l.jsxs("div",{className:"card",children:[l.jsx("p",{className:"text-neon-green text-xs font-mono uppercase tracking-wider mb-2",children:a.selected_game_type?`${vu(a.selected_game_type)}  Round Live`:"Round Live"}),a.selected_game_type&&l.jsxs("div",{className:"rounded-lg border border-doom-border bg-doom-bg/50 px-3 py-2 mb-3",children:[l.jsx("p",{className:"text-doom-muted text-[11px] font-mono uppercase tracking-wider mb-1",children:"Rules"}),l.jsx("ul",{className:"space-y-1",children:_e.map(E=>l.jsxs("li",{className:"text-[11px] text-doom-muted",children:[" ",E]},E))})]}),(Kt||Dr)&&l.jsx("div",{className:"rounded-lg border border-doom-border bg-doom-bg/50 px-3 py-2 text-center mb-3",children:l.jsx("p",{className:"text-[11px] text-doom-muted",children:"Round countdown is shown on the main page overlay."})}),Hs,Hs,a.selected_game_type==="target_chase"&&Number.isFinite(Number(a.round_target_meters??NaN))&&l.jsxs("div",{className:"rounded-lg border border-neon-cyan/45 bg-neon-cyan/10 px-3 py-2 mt-3 text-center",children:[l.jsx("p",{className:"text-neon-cyan text-[11px] font-mono uppercase tracking-wider",children:"Target distance"}),l.jsx("p",{className:"text-2xl font-mono font-bold text-neon-cyan mt-1",children:hn(Number(a.round_target_meters??0))}),l.jsx("p",{className:"text-[11px] text-doom-muted mt-1",children:"Closest player wins this round."})]}),(a.selected_game_type==="scroll_sprint"||a.selected_game_type==="target_chase")&&zi.length>0&&l.jsxs("div",{className:"rounded-lg border border-doom-border bg-doom-bg/40 p-2 mt-3",children:[l.jsx("p",{className:"text-doom-muted text-[11px] font-mono uppercase tracking-wider mb-1",children:"Live standings"}),l.jsx("div",{className:"space-y-1",children:zi.map((E,D)=>{const W=T.find(J=>J.userId===E.userId);if(!W)return null;const K=W.userId===e;return l.jsxs("div",{className:"flex items-center justify-between rounded border border-doom-border px-2 py-1 text-xs",children:[l.jsxs("span",{className:`${K?"text-neon-green":"text-white"}`,children:["#",D+1," ",W.displayName,K?" (You)":""]}),a.selected_game_type==="target_chase"?l.jsxs("span",{className:"font-mono tabular-nums text-doom-muted text-right",children:[hn(E.score)," "," off"," ",hn(Number(E.offBy??0))]}):l.jsx("span",{className:"font-mono tabular-nums text-doom-muted",children:hn(E.score)})]},W.userId)})})]}),ds&&l.jsxs("div",{className:"rounded-lg border border-neon-pink/40 bg-neon-pink/10 px-3 py-3",children:[l.jsx("p",{className:"text-neon-pink text-sm font-mono",children:"Round complete."}),j?l.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[l.jsx("button",{onClick:()=>{fs()},className:"btn-primary w-full text-sm disabled:opacity-60",disabled:M,children:"Finalize Round"}),l.jsx("button",{onClick:()=>{Jd()},className:"px-3 py-2 text-xs rounded-md border border-doom-border text-doom-muted hover:text-white hover:border-neon-green/35",disabled:M,children:"Back To Game Select"})]}):l.jsx("p",{className:"text-[11px] text-doom-muted mt-1",children:"Waiting for host to set the next round."})]})]})]}),Hs,v&&l.jsx("div",{className:"card border-neon-cyan/35 bg-neon-cyan/10 text-neon-cyan text-xs",children:v}),c&&l.jsx("div",{className:"card border-neon-pink/35 bg-neon-pink/10 text-neon-pink text-xs",children:c})]})}const w0={home:({className:e})=>l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M3 12l9-9 9 9"}),l.jsx("path",{d:"M9 21V12h6v9"}),l.jsx("path",{d:"M5 12v9h14v-9"})]}),board:({className:e})=>l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5C7 4 7 7 7 7"}),l.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5C17 4 17 7 17 7"}),l.jsx("path",{d:"M4 22h16"}),l.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20 7 22"}),l.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20 17 22"}),l.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),pals:({className:e})=>l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"9",cy:"7",r:"4"}),l.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),l.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),battle:({className:e})=>l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M14.5 17.5L3 6V3h3l11.5 11.5"}),l.jsx("path",{d:"M13 19l6-6"}),l.jsx("path",{d:"M16 16l4 4"}),l.jsx("path",{d:"M19 21l2-2"}),l.jsx("path",{d:"M14.5 6.5L18 3h3v3l-3.5 3.5"}),l.jsx("path",{d:"M5 14l4 4"}),l.jsx("path",{d:"M7 17l-3 3"})]}),chat:({className:e})=>l.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("rect",{x:"4",y:"7",width:"16",height:"12",rx:"3"}),l.jsx("path",{d:"M12 3v4"}),l.jsx("path",{d:"M9 12h.01"}),l.jsx("path",{d:"M15 12h.01"}),l.jsx("path",{d:"M8 16h8"})]})},_0=[{id:"home",label:"Home"},{id:"board",label:"Board"},{id:"pals",label:"Pals"},{id:"battle",label:"Battle"},{id:"chat",label:"AI Chat"}];function k0({active:e,onNavigate:t,palsPendingCount:n=0}){return l.jsx("nav",{className:"flex items-center justify-around px-2 py-2 border-t border-doom-border bg-doom-bg",children:_0.map(r=>{const o=w0[r.id],s=e===r.id,i=r.id==="pals"&&n>0,u=i?"text-red-400":s?"text-neon-green":"text-doom-muted hover:text-white",a=i?"text-red-400":s?"neon-text-green":"",f=i?"bg-red-400 shadow-[0_0_8px_rgba(248,113,113,0.8)]":"bg-neon-green shadow-neon-green";return l.jsxs("button",{onClick:()=>t(r.id),className:`relative flex flex-col items-center gap-0.5 px-3 py-1 rounded-lg transition-all duration-200 ${u}`,children:[l.jsx(o,{className:"w-5 h-5"}),i&&l.jsx("span",{className:"absolute top-0 right-1 min-w-4 h-4 px-1 rounded-full bg-red-500 text-white text-[9px] leading-4 font-mono",children:n>99?"99+":n}),l.jsx("span",{className:`text-[10px] font-mono ${a}`,children:r.label}),s&&l.jsx("div",{className:`w-4 h-0.5 rounded-full ${f}`})]},r.id)})})}const N0=3e3;function S0(e){const[t,n]=h.useState(0),r=h.useCallback(async()=>{if(!e){n(0);return}const{count:o,error:s}=await A.from("friendships").select("id",{count:"exact",head:!0}).eq("addressee_id",e).eq("status","pending");s||n(typeof o=="number"?o:0)},[e]);return h.useEffect(()=>{r();const o=setInterval(()=>{r()},N0);return()=>clearInterval(o)},[r]),{count:t,refresh:r}}const j0="doom_popup_active_page_",E0=new Set(["home","board","pals","battle","chat","settings"]);function wu(e){return`${j0}${e}`}function _u(e){return E0.has(e)}function C0(e,t){const n=((e==null?void 0:e.trim())||t).replace(/^@+/,"").trim();if(!n)return"U";const r=n.split(/[\s._-]+/).map(s=>s.trim()).filter(Boolean);return r.length>=2?`${r[0][0]}${r[1][0]}`.toUpperCase():(r[0]??n).slice(0,2).toUpperCase()}function b0(){var _e,Z;const{user:e,profile:t,loading:n,profileError:r,signIn:o,signUp:s,signOut:i,updateUsername:u,refreshProfile:a}=th(),[f,y]=h.useState("login"),[x,p]=h.useState(null),[N,_]=h.useState("home"),[g,M]=h.useState(null),[m,c]=h.useState(!1),d=h.useRef(!1),{count:v,refresh:k}=S0((e==null?void 0:e.id)??null),[C,w]=h.useState(0),[S,F]=h.useState(!1),{stats:P,loading:B}=Hd();if(h.useEffect(()=>{w(v)},[v]),h.useEffect(()=>{!n&&!e&&(d.current=!0)},[n,e]),h.useEffect(()=>{let ie=!1;if(e){p(null);return}return(async()=>{const G=await Yp();ie||p(G)})(),()=>{ie=!0}},[e]),h.useEffect(()=>{M(null);const ie=e==null?void 0:e.id;if(!ie){_("home"),c(!1),y("login");return}if(d.current){_("home"),c(!0),d.current=!1;return}let G=!1;return c(!1),(async()=>{try{const Ee=wu(ie),Kt=await chrome.storage.local.get(Ee);if(G)return;const Dr=typeof Kt[Ee]=="string"?Kt[Ee]:"home";_(_u(Dr)?Dr:"home")}catch{G||_("home")}finally{G||c(!0)}})(),()=>{G=!0}},[e==null?void 0:e.id]),h.useEffect(()=>{const ie=e==null?void 0:e.id;if(!ie||!m||!_u(N))return;const G=wu(ie);chrome.storage.local.set({[G]:N})},[N,m,e==null?void 0:e.id]),h.useEffect(()=>{F(!1)},[t==null?void 0:t.avatar_url]),n)return l.jsx("div",{className:"w-[400px] h-[600px] bg-doom-bg flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-4xl mb-3 animate-pulse-neon",children:""}),l.jsx("p",{className:"text-doom-muted font-mono text-xs",children:"Loading..."})]})});if(!e)return l.jsx("div",{className:"w-[400px] h-[600px] bg-doom-bg text-white",children:f==="login"?l.jsx(rh,{onSignIn:async(ie,G)=>{await o(ie,G),p(null)},pendingVerificationEmail:(x==null?void 0:x.email)??null,onSwitchToSignUp:()=>y("signup")}):l.jsx(sh,{onSignUp:async(ie,G,Ee)=>{const Kt=await s(ie,G,Ee);return Kt.requiresEmailVerification&&p({email:ie.trim().toLowerCase(),createdAt:Date.now()}),Kt},onSwitchToLogin:()=>y("login")})});const H=e,b=t,$=((Z=(_e=H.email)==null?void 0:_e.split("@")[0])==null?void 0:Z.toLowerCase().replace(/[^a-z0-9_]/g,"_"))||"user",I=(b==null?void 0:b.username)??$,L=C0(b==null?void 0:b.display_name,I),U=Math.max(Number((b==null?void 0:b.total_meters_scrolled)??0),Number(P.totalMeters??0)),j=Number(b==null?void 0:b.coin_balance),z=Number.isFinite(j)?Math.max(0,Math.floor(j)):Su(U),T=!!b,V=b?/^[a-z0-9]+_[a-f0-9]{4}$/.test(b.username):!1;if(b&&V)return l.jsx("div",{className:"w-[400px] h-[600px] bg-doom-bg text-white",children:l.jsx(ih,{currentUsername:b.username,onSetUsername:u})});function Q(){var ie;switch(N){case"home":return l.jsx(eu,{stats:P,loading:B});case"board":return l.jsx(Xh,{userId:H.id,onViewProfile:G=>{M(G),_("profile")}});case"pals":return l.jsx(Kh,{userId:H.id,onPendingRequestsChanged:G=>{w(G),k()},onViewProfile:G=>{M(G),_("profile")}});case"battle":return l.jsx(v0,{userId:H.id,username:I,displayName:(b==null?void 0:b.display_name)??((ie=H.email)==null?void 0:ie.split("@")[0])??"User",avatarUrl:(b==null?void 0:b.avatar_url)??null,availableCoins:z,onWalletSync:a});case"chat":return l.jsx(a0,{userId:H.id});case"profile":return l.jsx(Hh,{userId:g??H.id,isOwnProfile:!g||g===H.id,onBack:g?()=>_("home"):void 0,cachedProfile:!g||g===H.id?b??void 0:void 0,onProfileUpdated:!g||g===H.id?a:void 0,liveTotalMeters:!g||g===H.id?P.totalMeters:void 0});case"settings":return b?l.jsx(t0,{profile:b,onSignOut:i,onProfileUpdated:()=>{}}):l.jsxs("div",{className:"card text-center py-6",children:[l.jsx("p",{className:"text-doom-muted text-sm font-mono mb-3",children:r??"Syncing profile..."}),l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("button",{onClick:()=>{a()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-white hover:border-neon-green/40 transition-colors",children:"Retry"}),l.jsx("button",{onClick:()=>{i()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-neon-pink transition-colors",children:"Sign out"})]})]});default:return l.jsx(eu,{})}}return l.jsxs("div",{className:"w-[400px] h-[600px] bg-doom-bg text-white flex flex-col",children:[l.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-doom-border",children:[l.jsx("h1",{className:"text-lg font-bold font-mono neon-text-green",children:"DoomScroller"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 h-9 rounded-full bg-yellow-500/10 border border-yellow-400/40 shadow-[0_0_10px_rgba(250,204,21,0.18)]",title:`Coins: ${z}`,children:[l.jsx(Vd,{className:"w-4 h-4"}),l.jsx("span",{className:"text-yellow-100 text-sm font-semibold font-mono tabular-nums",children:z})]}),l.jsx("button",{onClick:()=>{M(null),_("profile")},className:"w-9 h-9 rounded-full bg-doom-surface border border-doom-border text-white text-xs font-semibold tracking-wide hover:border-neon-green/40 hover:shadow-neon-green transition-all overflow-hidden flex items-center justify-center",title:`@${I}`,"aria-label":`Open profile for @${I}`,children:b!=null&&b.avatar_url&&!S?l.jsx("img",{src:b.avatar_url,alt:`${I} profile picture`,className:"w-full h-full object-cover",onError:()=>F(!0)}):L}),l.jsx("button",{onClick:()=>_("settings"),className:"w-9 h-9 rounded-full bg-doom-surface border border-doom-border text-doom-muted hover:text-white hover:border-neon-green/40 transition-all text-lg leading-none flex items-center justify-center",title:"Settings","aria-label":"Open settings",children:""})]})]}),!T&&l.jsxs("div",{className:"mx-4 mt-3 p-3 rounded-lg border border-doom-border bg-doom-surface/60",children:[l.jsx("p",{className:"text-doom-muted text-xs font-mono text-center",children:r??"Syncing profile..."}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2",children:[l.jsx("button",{onClick:()=>{a()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-white hover:border-neon-green/40 transition-colors",children:"Retry"}),l.jsx("button",{onClick:()=>{i()},className:"px-3 py-1.5 rounded-md border border-doom-border text-xs font-mono text-doom-muted hover:text-neon-pink transition-colors",children:"Sign out"})]})]}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:Q()}),l.jsx(k0,{active:N,onNavigate:_,palsPendingCount:C})]})}Vs.createRoot(document.getElementById("root")).render(l.jsx(Ef.StrictMode,{children:l.jsx(b0,{})}));
